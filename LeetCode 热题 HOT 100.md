# ğŸ”¥ LeetCode çƒ­é¢˜ HOT 100

## 1.ä¸¤æ•°ä¹‹å’Œ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ **ä¸¤ä¸ª** æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚
>
> ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚
>
> 
>
> **ç¤ºä¾‹:**
>
> ```
> ç»™å®š nums = [2, 7, 11, 15], target = 9
> å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
> æ‰€ä»¥è¿”å› [0, 1]
> ```
>
> 

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œæ˜ å°„
    1.åˆå§‹åŒ–ï¼šä¸€ä¸ªå“ˆå¸Œè¡¨map,ä¾¿äºåœ¨O(1)æ—¶é—´æ‰¾åˆ°ç›®æ ‡å€¼
    2.å¾ªç¯éå†nums
        1.æŸ¥æ‰¾mapä¸­æ˜¯å¦å­˜åœ¨target - nums[i]çš„keyå€¼ï¼Œè‹¥å­˜åœ¨åˆ™ç›´æ¥è¿”å›å½“å‰iå’Œmapå¯¹åº”çš„value
        2.è‹¥ä¸å­˜åœ¨åˆ™å°†å½“å‰æ•°å­—ä¸ä¸‹æ ‡å­˜å…¥å“ˆå¸Œè¡¨
    3.æ²¡æœ‰ç»“æœåˆ™æŠ›å‡ºå¼‚å¸¸
    */
    public int[] twoSum(int[] nums, int target) {
        HashMap<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums.length; ++i) {
            if (map.containsKey(target - nums[i]))
                return new int[]{i, map.get(target - nums[i])};
            else
                map.put(nums[i], i);
        }
        return new int[2];
    }
}
```

## 2.ä¸¤æ•°ç›¸åŠ 

**é¢˜ç›®ï¼š**

> ç»™å‡ºä¸¤ä¸ª **éç©º** çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ **é€†åº** çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ **ä¸€ä½** æ•°å­—ã€‚
>
> å¦‚æœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚
>
> æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> è¾“å…¥ï¼š(2 -> 4 -> 3) + (5 -> 6 -> 4)
> è¾“å‡ºï¼š7 -> 0 -> 8
> åŸå› ï¼š342 + 465 = 807
> ```
>
> 

**æ€è·¯**ï¼š

**ä»£ç ï¼š**

``` java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼š
    1.åˆå§‹åŒ–ï¼šlastä¿å­˜ä¸Šä¸€ä½äº§ç”Ÿçš„è¿›ä½ï¼Œåˆå§‹ä¸º0ï¼ŒlastNodeä¿å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹,å»ºç«‹å¤´èŠ‚ç‚¹head
    2.å¯¹l1,l2çš„å…¬å…±ä½è¿›è¡Œè®¡ç®—ï¼Œå°†èŠ‚ç‚¹å’Œä¸è¿›ä½ç›¸åŠ ï¼Œå°†å¤§äº10çš„éƒ¨åˆ†ä¿å­˜åœ¨lastä¸­ï¼Œå°äº10çš„éƒ¨åˆ†åˆ™åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå°†lastNodeæŒ‡å‘å½“å‰èŠ‚ç‚¹
    3.å¯¹l1,l2å‰©ä¸‹çš„éƒ¨åˆ†è¿›è¡Œä¸€æ ·çš„æ“ä½œ
    4.è¿”å›head.nextå³å¯
    */
    int last = 0;
    ListNode l1, l2;
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        this.l1 = l1;
        this.l2 = l2;
        return build();
    }

    public ListNode build() {
        if (l1 == null && l2 == null && last == 0)
            return null;
        ListNode cur = new ListNode();
        if ((l1 == null && l2 != null) || (l1 != null && l2 == null)) {
            int val = l1 == null ? l2.val : l1.val;
            int sum = val + last;
            last = sum / 10;
            cur.val = sum % 10;
        } else if (l1 != null && l2 != null){
            int sum = l1.val + l2.val + last;
            last = sum / 10;
            cur.val = sum % 10;
        } else {
            cur.val = last;
            last = 0;
        }
        if (l1 != null)
            l1 = l1.next;
        if (l2 != null)
            l2 = l2.next;
        cur.next = build();
        return cur;
    }
}
```

## 3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: "abcabcbb"
> è¾“å‡º: 3 
> è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: "bbbbb"
> è¾“å‡º: 1
> è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
> ```
>

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œè¡¨
    1.åˆå§‹åŒ–ï¼šå»ºç«‹å“ˆå¸Œè¡¨mapï¼Œkeyä¸valueåˆ†åˆ«å­˜å‚¨æ•°ç»„å…ƒç´ ä¸å¯¹åº”ä¸‹æ ‡ï¼Œæœ€å¤§å€¼maxé»˜è®¤ä¸º0ï¼Œå½“å‰å­ä¸²é•¿åº¦lené»˜è®¤ä¹Ÿä¸º0
    2.éå†så­—ç¬¦ä¸²ï¼Œè®¾s(i)ä¸ºä¸‹æ ‡ä¸ºiçš„å­—ç¬¦
        1.åˆ¤æ–­å‰ä¸€ä¸ªs(i)æ˜¯å¦åœ¨å½“å‰å­ä¸²ä¸­
            1.map.get(s(i)) + len < i ï¼šå‰ä¸€ä¸ªs(i)ä¸åœ¨å­ä¸²ä¸­ï¼Œ++lenå³å¯
            2.map.get(s(i)) + len >= iï¼šå‰ä¸€ä¸ªs(i)åœ¨å­ä¸²ä¸­ï¼Œlen = i - map.get(s(i))
        2.å°†s(i)ä¸iå­˜å…¥mapä¸­
        3.å°†maxä¸lençš„è¾ƒå¤§è€…å­˜å…¥max
    3.ç›´æ¥è¿”å›maxå³å¯
    */
    public int lengthOfLongestSubstring(String s) {
        HashMap<Character, Integer> map = new HashMap<>();
        int max = 0, len = 0;
        for (int i = 0; i < s.length(); ++i) {
            if (map.containsKey(s.charAt(i))) {
                if (map.get(s.charAt(i)) + len < i) {//ä¸åœ¨lenä¸­
                    ++len;
                } else
                    len = i - map.get(s.charAt(i));
            } else {
                ++len;
            }
            map.put(s.charAt(i), i);
            max = Math.max(max, len);
        }
        return max;
    }
}
```



## 4.å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°

**é¢˜ç›®ï¼š**

> ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°ã€‚
>
> è¿›é˜¶ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log (m+n)) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums1 = [1,3], nums2 = [2]
è¾“å‡ºï¼š2.00000
è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2
```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼š
    è®¾ä¸­ä½æ•°æ˜¯ç¬¬kä¸ªæ•°å­—ï¼Œåˆ™åœ¨num1ä¸num2ä¸­åˆ†åˆ«æ‰¾åˆ°ç¬¬k / 2ä¸ªæ•°å­—nums[i]ä¸nums[j]
        *è‹¥nums[i] < nums[j]åˆ™è¡¨ç¤ºnums[i]ä»¥åŠå…¶ä¹‹å‰çš„æ•°å­—ä¸å¯èƒ½ä¸ºç¬¬kå°çš„æ•°å­—ï¼Œåˆ™å°†å®ƒä»¬æ’é™¤ï¼Œä¸‹ä¸€æ¬¡åº”è¯¥ä»i + 1å¼€å§‹å¯»æ‰¾
        *è‹¥nums[i] >= nums[j]åˆ™è¡¨ç¤ºnums[j]åŠä¹‹å‰çš„æ•°å­—ä¸å¯èƒ½ä¸ºç¬¬kå°çš„æ•°å­—ï¼Œåˆ™å°†å®ƒä»¬æ’åºï¼Œä¸‹ä¸€æ¬¡åº”è¯¥ä»j + 1å¼€å§‹å¯»æ‰¾
        å¹¶ä¸”k = k - è¢«åˆ é™¤çš„æ•°å­—çš„ä¸ªæ•°
    ç‰¹æ®Šæƒ…å†µï¼š
        1.è‹¥å…¶ä¸­ä¸€ä¸ªæ•°ç»„ä»¥åŠæ²¡æœ‰æ•°å­—ï¼Œåˆ™ç›´æ¥å¯ä»¥è¿”å›å¦ä¸€ä¸ªæ•°ç»„çš„ç¬¬kä¸ªæ•°å­—
        2.è‹¥kä¸º1åˆ™ç›´æ¥è¿”å›ä¸¤ä¸ªæ•°ç»„çš„æ›´å°è€…
        3.è‹¥k / 2 å¤§äºæ•°ç»„é•¿åº¦åˆ™ä¼˜å…ˆæ¯”è¾ƒè¯¥æ•°ç»„çš„æœ€åä¸€ä¸ªæ•°å­—
    */
    public double findMedianSortedArrays(int[] nums1, int[] nums2) {
        int m = nums1.length;
        int n = nums2.length; 
        int left = (n + m + 1) / 2;
        int right = (n + m + 2) / 2;
        return (getKth(nums1, 0, m - 1, nums2, 0, n - 1, left) + getKth(nums1, 0, m - 1, nums2, 0 , n - 1, right)) / 2.0;
    }

    public int getKth(int[] nums1, int start1, int end1, int[] nums2, int start2, int end2, int k) {
        int len1 = end1 - start1 + 1;
        int len2 = end2 - start2 + 1;
        //å°†é•¿åº¦å°çš„æ•°ç»„æ”¾åˆ°len1
        if (len1 > len2) {
            return getKth(nums2, start2, end2, nums1, start1, end1, k);
        }
        if (len1 == 0)//num1é•¿åº¦ä¸º0ç›´æ¥è¿”å›num2çš„ç¬¬kä¸ªå…ƒç´ 
            return nums2[start2 + k - 1];
        if (k == 1)
            return Math.min(nums1[start1], nums2[start2]);
        //è‹¥k / 2å¤§äºå½“å‰æ•°ç»„é•¿åº¦åˆ™ä¼˜å…ˆæ¯”è¾ƒæ•°ç»„çš„æœ«å°¾å…ƒç´ 
        int i = start1 + Math.min(k / 2, len1) - 1;
        int j = start2 + Math.min(k / 2, len2) - 1;

        if (nums1[i] < nums2[j]) {
            return getKth(nums1, i + 1, end1, nums2, start2, end2, k - (i - start1 + 1));
        } else
            return getKth(nums1, start1, end1, nums2, j + 1, end2, k - (j - start2 + 1));
    }
}
```



## 5.æœ€é•¿å›æ–‡å­ä¸²

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚
>
> **ç¤ºä¾‹** 1ï¼š
>
> ``` text
> è¾“å…¥: "babad"
> è¾“å‡º: "bab"
> æ³¨æ„: "aba" ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚
> ç¤ºä¾‹ 2ï¼š
> 
> è¾“å…¥: "cbbd"
> è¾“å‡º: "bb"
> ```
>
> 

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸­å¿ƒæ‰©æ•£æ³•
    å›æ–‡ä¸²ä¸€å®šæ˜¯å¯¹ç§°çš„ï¼Œæ¯æ¬¡å¾ªç¯é€‰æ‹©ä¸€ä¸ªä¸­å¿ƒï¼Œè¿›è¡Œå·¦å³æ‰©å±•ï¼Œåˆ¤æ–­å·¦å³å­—ç¬¦æ˜¯å¦ç›¸ç­‰å³å¯
    */
    public String longestPalindrome(String s) {
        if (s.length() == 0)
            return "";
        int left = 0, right = 0;
        for (int i = 0; i < s.length(); ++i) {
            int len1 = getLength(s, i, i);//é€‰æ‹©å¥‡æ•°ä¸ªèŠ‚ç‚¹
            int len2 = getLength(s, i, i + 1);//é€‰æ‹©å¶æ•°ä¸ªèŠ‚ç‚¹
            int len = Math.max(len1, len2);
            if (len > right - left + 1) {
                left = i - (len - 1) / 2;
                right = i + len / 2;
            }
        }
        return s.substring(left, right + 1);
    }


    public int getLength(String s, int left, int right) {
        int l = left, r = right;
        while (l >= 0 && r < s.length() && s.charAt(l) == s.charAt(r)) {
            --l;
            ++r;
        }
        return r - l -1;
    }
}
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è‹¥ä¸€ä¸ªå­ä¸²å·¦å³ä¸‹æ ‡ä¸ºi,jï¼Œè‹¥å…¶é¦–å°¾å­—ç¬¦ç›¸ç­‰å¹¶ä¸”i+1,j-1ä¹Ÿä¸ºå›æ–‡ä¸²åˆ™å®ƒæ˜¯ä¸ªå›æ–‡ä¸²
    å®šä¹‰dp[i][j]è¡¨ç¤ºä¸‹æ ‡[i,j]æ˜¯å¦ä¸ºå›æ–‡ä¸²ï¼Œåˆ™æœ‰ï¼Œdp[i][j] = (s[i] == s[j]) && dp[i + 1][j - 1]
    ç‰¹ä¾‹ï¼šå½“i+1 > j-1æ—¶ç›´æ¥è¿”å›trueï¼Œæ‰€æœ‰å•ä¸ªå­—ç¬¦éƒ½æ˜¯å›æ–‡ä¸²
    éœ€è¦ä»åº•å‘ä¸Šè¿›è¡Œåˆå§‹åŒ–
    */
    public String longestPalindrome(String s) {
        if (s.length() == 0)
            return "";
        int left = 0, right = 0, max = 1;
        int len = s.length();
        boolean[][] dp = new boolean[len][len];
        for (int i = len - 1; i >=0; --i) {
            for (int j = i; j < len; ++j) {
                if (i == j)
                    dp[i][j] = true;
                else if (s.charAt(i) == s.charAt(j) && (i + 1 > j - 1 || dp[i + 1][j - 1])) {
                    dp[i][j] = true;
                    if (max < j - i + 1) {
                        max = j - i + 1;
                        left = i;
                        right = j;
                    }
                }
            }
        }
        return s.substring(left, right + 1);
    }
} 
```



## 6.æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

**é¢˜ç›®ï¼š**

> è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…å«`'. '`å’Œ`'*'`çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦`'.'`è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ`'*'`è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²`"aaa"`ä¸æ¨¡å¼`"a.a"`å’Œ`"ab*ac*a"`åŒ¹é…ï¼Œä½†ä¸`"aa.a"`å’Œ`"ab*a"`å‡ä¸åŒ¹é…ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥:
> s = "aa"
> p = "a"
> è¾“å‡º: false
> è§£é‡Š: "a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥:
> s = "aa"
> p = "a*"
> è¾“å‡º: true
> è§£é‡Š: å› ä¸º '*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥:
> s = "ab"
> p = ".*"
> è¾“å‡º: true
> è§£é‡Š: ".*" è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ'*'ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ'.'ï¼‰ã€‚
> ```

**æ€è·¯ï¼š**

[é€è¡Œè¯¦ç»†è®²è§£ï¼Œç”±æµ…å…¥æ·±ï¼Œdpå’Œé€’å½’ä¸¤ç§æ€è·¯ - æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/solution/zhu-xing-xiang-xi-jiang-jie-you-qian-ru-shen-by-je/)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    dp[i][j]è¡¨ç¤ºå­—ç¬¦ä¸²å‰iä½ä¸åŒ¹é…ä¸²å‰jä½æ˜¯å¦èƒ½åŒ¹é…æˆåŠŸ
    æ ¹æ®p[j]çš„å€¼å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š
        1.p[j]ä¸ºå­—ç¬¦ï¼šè‹¥p[j]=s[i]åˆ™åªéœ€è¦æ»¡è¶³p[j - 1]=s[i - 1]å³å¯æ»¡è¶³ï¼Œä¹Ÿå°±æ˜¯dp[i][j] = dp[i - 1][j - 1]
        2.p[j]ä¸º'.'ï¼Œä¸1ç±»ä¼¼ï¼Œä¸ä½œèµ˜è¿°
        3.p[j]ä¸º'*'ä¹Ÿå¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š
            1.p[j] != s[i]æ—¶ï¼šå¯ä»¥çœ‹ä½œè¿™ä¸ªæ˜Ÿå·åŒ¹é…0æ¬¡ï¼ŒåŠåªéœ€è¦æ»¡è¶³dp[i][j - 2]ç¬¦åˆå³å¯ï¼Œdp[i][j] = dp[i][j - 2]
            2.p[j] == s[i]æ—¶ï¼š
                1.ä¹Ÿå¯ä»¥åŒ¹é…0æ¬¡ï¼Œä¸åšèµ˜è¿°
                OR
                2.åŒ¹é…å¤šæ¬¡ï¼Œè®¾è¿™æ¬¡çš„s[i]å°±æ˜¯åŒ¹é…çš„æœ€åä¸€ä¸ªäº†ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿è¯å‰ä¸€ä¸ªå­—ç¬¦dp[i - 1][j]ä¹Ÿèƒ½åŒ¹é…è¯¥åŒ¹é…å³å¯ï¼Œå³dp[i][j] = dp[i - 1][j]
    
    åˆå§‹åŒ–ï¼š
    1.å­—ç¬¦ä¸²ä¸ºç©ºï¼ŒåŒ¹é…ä¸²ä¹Ÿä¸ºç©ºæ—¶ä¸ºtrue
    2.å­—ç¬¦ä¸²ä¸ä¸ºç©ºï¼ŒåŒ¹é…ä¸²ä¸ºç©ºæ—¶ä¸ºfalseï¼Œå³dp[i][j] i > 0, j = 0 æ—¶
    3.å­—ç¬¦ä¸²ä¸ºç©ºï¼ŒåŒ¹é…ä¸²ä¸ä¸ºç©ºæ—¶ï¼Œéœ€è¦è®¡ç®—ï¼Œæ¯”å¦‚s = "" , p = "a*b*c*";
    4.éƒ½ä¸ä¸ºç©ºæ—¶ä¹Ÿéœ€è¦è®¡ç®—
    */
    public boolean isMatch(String s, String p) {
        int n = s.length();
        int m = p.length();
        boolean[][] dp = new boolean[n + 1][m + 1];
        for (int i = 0; i <= n; ++i) {
            for (int j = 0; j <= m; ++j) {
                if (j == 0)
                    dp[i][j] = i == 0;
                else {
                    if (p.charAt(j - 1) != '*') {
                        if (i > 0 && (s.charAt(i - 1) == p.charAt(j - 1) || p.charAt(j - 1) == '.'))
                            dp[i][j] = dp[i - 1][j - 1];
                    } else {
                        //åŒ¹é…0æ¬¡
                        if (j >= 2)
                            dp[i][j] |= dp[i][j - 2];
                        //å‡è®¾æ˜¯å¤šæ¬¡åŒ¹é…çš„æœ€åä¸€æ¬¡
                        if (i > 0 && j >= 2 && (s.charAt(i - 1) == p.charAt(j - 2) || p.charAt(j - 2) == '.'))
                            dp[i][j] |= dp[i - 1][j];
                    }
                }
            }
        }
        return dp[n][m];
    }
}
```



## 7.ç››æœ€å¤šæ°´çš„å®¹å™¨

**é¢˜ç›®ï¼š**

> ç»™ä½  `n` ä¸ªéè´Ÿæ•´æ•° `a1ï¼Œa2ï¼Œ...ï¼Œa``n`ï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ `(i, ai)` ã€‚åœ¨åæ ‡å†…ç”» `n` æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ `i` çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º `(i, ai)` å’Œ `(i, 0)` ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ `x` è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚
>
> **è¯´æ˜ï¼š**ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/question_11.jpg)
>
> ```
> è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
> è¾“å‡ºï¼š49 
> è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šheight = [1,1]
> è¾“å‡ºï¼š1
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šheight = [4,3,2,1,4]
> è¾“å‡ºï¼š16
> ```

**æ€è·¯ï¼š**

[ç››æœ€å¤šæ°´çš„å®¹å™¨ï¼ˆåŒæŒ‡é’ˆæ³•ï¼Œæ˜“æ‡‚è§£æï¼Œå›¾è§£ï¼‰ - ç››æœ€å¤šæ°´çš„å®¹å™¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/container-with-most-water/solution/container-with-most-water-shuang-zhi-zhen-fa-yi-do/)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆæ³•
    è®¾ç½®åŒæŒ‡é’ˆä½äºå®¹å™¨ä¸¤ç«¯ï¼Œæ ¹æ®è§„åˆ™ç§»åŠ¨æŒ‡é’ˆï¼Œå¹¶ä¸”æ›´æ–°é¢ç§¯æœ€å¤§å€¼resï¼Œç›´åˆ°i == j æ—¶è¿”å›res
    æŒ‡é’ˆçš„ç§»åŠ¨è§„åˆ™ï¼šæ¯æ¬¡é€‰å®šå›´æˆæ°´æ§½ä¸¤æ¿çš„ä¸­è¾ƒå°çš„é‚£ä¸ªï¼Œå‘ä¸­é—´æ”¶ç¼©1æ ¼ã€‚ä»¥ä¸‹è¯æ˜ï¼š
        *æ— è®ºé•¿æ¿è¿˜æ˜¯çŸ­æ¿å‘å†…æ”¶ç¼©éƒ½ä¼šä½¿åº•è¾¹å®½åº¦å‡1
            è‹¥çŸ­æ¿å‘å†…ç§»åŠ¨ï¼Œæ°´æ§½çš„çŸ­æ¿min(h[i],h[j])å¯èƒ½å˜å¤§ï¼Œæ°´æ§½é¢ç§¯s(i,j)å¯èƒ½å¢å¤§
            è‹¥é•¿æ¿å‘å†…ç§»åŠ¨ï¼Œæ°´æ§½çš„çŸ­æ¿åªå¯èƒ½å˜å°æˆ–ä¸å˜ï¼Œä¸‹ä¸€ä¸ªæ°´æ§½é¢ç§¯ä¸€å®šå°äºå½“å‰æ°´æ§½é¢ç§¯
    å¯ä»¥å¾—å‡ºå‰Šå»çš„æ‰€æœ‰é¢ç§¯éƒ½<s(i,j)ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å‰Šå»çš„æ‰€æœ‰çŠ¶æ€éƒ½ä¸ä¼šå¯¼è‡´é¢ç§¯æœ€å¤§å€¼çš„ä¸¢å¤±
    */
    public int maxArea(int[] height) {
        int i = 0, j = height.length - 1, res = 0;
        while (i < j) {
            res = height[i] > height[j] ?
            Math.max(res, (j - i) * height[j--]) :
            Math.max(res, (j - i) * height[i++]);
        }
        return res;
    }
}
```



## 8.ä¸‰æ•°ä¹‹å’Œ

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªåŒ…å« *n* ä¸ªæ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  *aï¼Œbï¼Œc ï¼Œ*ä½¿å¾— *a + b + c =* 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> **æ³¨æ„ï¼š**ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
>  
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ
> 
> æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
> [
>   [-1, 0, 1],
>   [-1, -1, 2]
> ]
> ```

**ç¤ºä¾‹**ï¼š

``` reStructuredText
ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ

æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```



**æ€è·¯ï¼š**

[ä¸‰æ•°ä¹‹å’Œï¼ˆæ’åº+åŒæŒ‡é’ˆï¼Œæ˜“æ‡‚å›¾è§£ï¼‰ - ä¸‰æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/3sum/solution/3sumpai-xu-shuang-zhi-zhen-yi-dong-by-jyd/)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæš´åŠ›+åŒæŒ‡é’ˆä¼˜åŒ–æ¶ˆå»æ— æ•ˆè§£ä¼˜åŒ–æ•ˆç‡
    åŒæŒ‡é’ˆæ³•é“ºå«ï¼šå…ˆå°†numsæ•°ç»„æ’åº
    åŒæŒ‡é’ˆæ³•æ€è·¯ï¼šå¾ªç¯éå†æ•°ç»„ï¼Œå›ºå®šå½“å‰å…ƒç´ nums[k]ï¼ŒåŒæŒ‡é’ˆi,jä½äº[k + 1, len - 1]ä¸¤ç«¯ï¼Œé€šè¿‡åŒæŒ‡é’ˆäº¤æ›¿å‘ä¸­é—´ç§»åŠ¨
    è®°å½•å¯¹äºkæ»¡è¶³nums[k] + nums[i] + nums[j] = 0çš„i,jç»„åˆ
    æ³¨æ„ç‚¹ï¼š
    1.å½“k>0æ—¶ä¹Ÿå°±æ˜¯æœ€å°æŒ‡é’ˆå¤§äº0æ—¶ï¼Œä¹‹åä¹Ÿä¸å¯èƒ½æœ‰è§£äº†ï¼Œç›´æ¥breaké€€å‡ºå¾ªç¯
    2.è‹¥nums[k] = nums[k - 1]å³å½“å‰å…ƒç´ å’Œä¹‹å‰çš„å…ƒç´ ç›¸ç­‰åˆ™è·³è¿‡å®ƒï¼Œå› ä¸ºnums[k]çš„è§£è‚¯å®šå·²ç»å…¨éƒ¨åŠ å…¥ç»“é›†ä¸­äº†ï¼Œæœ¬æ¬¡æœç´¢åªä¼šå¾—åˆ°é‡å¤çš„è§£
    3.i,jæœç´¢çš„å€¼åº”è¯¥è¦æ»¡è¶³0 - nums[k] = nums[i] + nums[j]ï¼Œè€Œæ­¤æ—¶å¯èƒ½è¿˜æœ‰è¯ºå¹²é‡å¤çš„nums[i]ä¸nums[j]ï¼Œåº”è¯¥è·³è¿‡å®ƒä»¬åä¹‹è®°å½•é‡å¤çš„è§£
    */
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> res = new ArrayList<>();
        if (nums.length < 3)
            return res;
        Arrays.sort(nums);
        for (int i = 0; i <= nums.length - 3; ++i) {
            //å› ä¸ºnum[i-1]ä»¥åŠæŠŠæ‰€æœ‰è§£å­˜å…¥resä¸­äº†
            if (i > 0 && nums[i] == nums[i - 1])
                continue;
            //è‹¥3ä¸ªæ•°å­—éƒ½å¤§äº0åˆ™ä¸å¯èƒ½æœ‰è§£
            if (nums[i] > 0)
                break;
            int left = i + 1, right = nums.length - 1, target = 0 - nums[i];
            while (left != right) {
                int sum = nums[left] + nums[right];
                if (target < sum)
                    --right;
                else if (target > sum)
                    ++left;
                else {
                    if (right < nums.length - 1 && nums[right] == nums[right + 1]) {
                        --right;
                        continue;
                    }
                    ArrayList<Integer> tmp = new ArrayList<>();
                    tmp.add(nums[i]);
                    tmp.add(nums[left]);
                    tmp.add(nums[right]);
                    res.add(tmp);
                    --right;
                }
            }
        }
        return res;
    }
}
```



## 9.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚
>
> ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚
>
> ![img](E:\program files\Topora images\17_telephone_keypad.png)
>
> ç¤ºä¾‹:
>
> ``` text
> è¾“å…¥ï¼š"23"
> è¾“å‡ºï¼š["ad", "ae", "af", "bd", "be", "bf", "cd", "ce", "cf"].
> ```
>
> è¯´æ˜:
> å°½ç®¡ä¸Šé¢çš„ç­”æ¡ˆæ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ä»»æ„é€‰æ‹©ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’å›æº¯
    å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°backtrack(int k),kä»£è¡¨æ•°å­—çš„ä¸‹æ ‡ä¸ºk
    1.ç»ˆæ­¢æ¡ä»¶ï¼šå½“k == å­—ç¬¦ä¸²é•¿åº¦æ—¶å°†è§£æ·»åŠ åˆ°resé›†åˆä¸­
    2.éå†kä½çš„æ‰€æœ‰è§£é›†ç©ºé—´ï¼Œå¹¶å¼€å¯ä¸‹ä¸€ä½é€’å½’
    */
    char[][] chars = {
        {'a','b','c'},
        {'d','e','f'},
        {'g','h','i'},
        {'j','k','l'},
        {'m','n','o'},
        {'p','q','r','s'},
        {'t','u','v'},
        {'w','x','y','z'}
    };
    List<String> res = new ArrayList<>();
    char[] digits;
    char[] tmp;
    public List<String> letterCombinations(String digits) {
        if (digits.length() == 0)
            return res;
         this.digits = digits.toCharArray();
         tmp = new char[digits.length()];
         backtrack(0);
         return res;
    }

    public void backtrack(int k) {
        if (k == digits.length) {
            res.add(new String(tmp));
            return;
        }
        for (char ch : chars[digits[k] - 50]) {
            tmp[k] = ch;
            backtrack(k + 1);
        }
    }
}
```



## 10.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚
>
> **ç¤ºä¾‹**ï¼š
>
> ``` text
> ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ n = 2.
> 
> å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1->2->3->5.
> ```
>
> **è¯´æ˜**ï¼š
>
> ç»™å®šçš„ n ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚
>
> **è¿›é˜¶**ï¼š
>
> ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆ
    1.åˆå§‹åŒ–ï¼šåˆ›å»º3ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„last,æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„cur,å§‹ç»ˆæ¯”curèŠ‚ç‚¹å¿«n - 1æ­¥é•¿çš„èŠ‚ç‚¹prelastæ¥ä¿è¯åˆ é™¤èŠ‚ç‚¹æ—¶é“¾è¡¨ä¸ä¼šå‘ç”Ÿæ–­è£‚
    preå§‹ä¸curä¿æŒnçš„è·ç¦»
    2.æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼šå„èŠ‚ç‚¹å¾ªç¯å‘åç§»åŠ¨ï¼Œç›´åˆ°preçš„nextæŒ‡å‘nullé€€å‡ºå¾ªç¯
    æ­¤æ—¶curæ­£å¥½æŒ‡å‘è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œå°†pre.next æŒ‡å‘cur.nextå³å¯
    */
    public ListNode removeNthFromEnd(ListNode head, int n) {
        if (head == null)
            return null;
        ListNode pHead = new ListNode(0, head);
        ListNode last = pHead, cur = head, pre = head;
        //preå…ˆèµ°n - 1æ­¥
        for (int i = 0; i < n - 1; ++i) {
            pre = pre.next;
        }
        while (pre.next != null) {
            last = last.next;
            cur = cur.next;
            pre = pre.next;
        }
        //åˆ é™¤cur
        last.next = cur.next;
        return pHead.next;
    }
}
```





## 11.æœ‰æ•ˆçš„æ‹¬å·

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚
>
> æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š
>
> å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
> å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚
> æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚
>
> **ç¤ºä¾‹** 1:
>
> ``` text
> è¾“å…¥: "()"
> è¾“å‡º: true
> ```
>
> **ç¤ºä¾‹** 2:
>
> ``` text
> è¾“å…¥: "()[]{}"
> è¾“å‡º: true
> ```
>
> **ç¤ºä¾‹** 3:
>
> ``` text
> è¾“å…¥: "(]"
> è¾“å‡º: false
> ```
>
> **ç¤ºä¾‹** 4:
>
> ```  text
> è¾“å…¥: "([)]"
> è¾“å‡º: false
> ```

**æ€è·¯ï¼š**

[æœ‰æ•ˆçš„æ‹¬å·ï¼ˆè¾…åŠ©æ ˆæ³•ï¼Œæç®€+å›¾è§£ï¼‰ - æœ‰æ•ˆçš„æ‹¬å· - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/valid-parentheses/solution/valid-parentheses-fu-zhu-zhan-fa-by-jin407891080/)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ¶ˆæ¶ˆä¹æ³•ï¼ˆè¾…åŠ©æ ˆæ³•ï¼‰
    æ ˆå…ˆå…¥åå‡ºç‰¹ç‚¹åˆšå¥½ä¸æœ¬é¢˜æ‹¬å·æ’åºç‰¹ç‚¹ä¸€è‡´ï¼Œå³è‹¥é‡åˆ°å·¦æ‹¬å·å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·æ—¶å°†å¯¹åº”æ ˆé¡¶å·¦æ‹¬å·å‡ºæ ˆï¼Œåˆ™éå†å®Œæ‰€æœ‰æ‹¬å·åstackä»ç„¶ç„¶ç©º
    å»ºç«‹å“ˆå¸Œè¡¨dicæ„å»ºå·¦å³æ‹¬å·å¯¹åº”å…³ç³»ï¼škeyå·¦æ‹¬å·ï¼Œvalueå³æ‹¬å·ï¼›è¿™æ ·æŸ¥è¯¢ä¸¤ä¸ªæ‹¬å·æ˜¯å¦å¯¹åº”åªéœ€è¦O(1)çš„æ—¶é—´å¤æ‚åº¦ï¼›å»ºç«‹æ ˆstackï¼Œéå†å­—ç¬¦ä¸²så¹¶æŒ‰ç…§ç®—æ³•æµç¨‹ä¸€ä¸€åˆ¤æ–­
    */
    public boolean isValid(String s) {
        HashMap<Character, Character> dic = new HashMap<>(){{
            put('[', ']');put('(',')');put('{','}');put('?','?');
        }};
        Stack<Character> stack = new Stack<>(){{
            push('?');
        }};
        for (char ch : s.toCharArray()) {
            //å·¦æ‹¬å·ç›´æ¥å…¥æ ˆ
            if (dic.containsKey(ch))
                stack.push(ch);
            else {//è‹¥chæ˜¯å³æ‹¬å·åˆ™ä¸stackå‡ºæ ˆå…ƒç´ å¯¹åº”çš„å³æ‹¬å·æ¯”è¾ƒï¼Œä¸ç›¸ç¬¦åˆ™ç›´æ¥è¿”å›false
                if (dic.get(stack.pop()) != ch)
                    return false;
            }
        }
        return stack.size() == 1;
    }
}
```



## 12.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²

**é¢˜ç›®ï¼š**

> å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ å‡åº é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ 
>
> ``` text
> ç¤ºä¾‹ï¼š
> 
> è¾“å…¥ï¼š1->2->4, 1->3->4
> è¾“å‡ºï¼š1->1->2->3->4->4
> ```
>
> 

**æ€è·¯**ï¼š

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼š
    1.åˆå§‹åŒ–ï¼šåˆ›å»ºå¤´æŒ‡é’ˆheadï¼Œç”¨äºè¿”å›å¤´èŠ‚ç‚¹ï¼ŒlastæŒ‡é’ˆä¿å­˜ä¸Šä¸€ä¸ªæŒ‡é’ˆï¼Œp,qåˆ†åˆ«æŒ‡å‘l1,l2é¦–éƒ¨
    2.å½“l1,l2ä¸ä¸ºç©ºæ—¶å¾ªç¯ï¼š
        1.æ–°å»ºä¸€ä¸ªæŒ‡é’ˆcur
            1.è‹¥pä¸ºç©ºï¼Œç›´æ¥ä½¿lastæŒ‡å‘qå¹¶ä¸”é€€å‡ºå¾ªç¯
            2.è‹¥qä¸ºç©ºï¼Œç›´æ¥ä½¿lastæŒ‡å‘på¹¶ä¸”é€€å‡ºå¾ªç¯
            3.p.val < q.valæ—¶ä½¿curæŒ‡å‘p,å¹¶å°†påç§»1ä½
            4.p.val >= q.valæ—¶ä½¿curæŒ‡å‘q,å¹¶å°†qåç§»1ä½
        2.å°†last.nextæŒ‡å‘curï¼ŒlastæŒ‡å‘æ–°çš„cur
    3.è¿”å›head.nextå³å¯
    */
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode p = l1, q = l2, head = new ListNode(), last = head;
        //ä¸å…¨ä¸ºç©ºæ—¶å¾ªç¯
        while (!(p == null && q == null)) {
            ListNode cur;
            //å…¶ä¸­ä¸€ä¸ªä¸ºç©ºç›´æ¥è®©lastæŒ‡å‘å¦ä¸€ä¸ªèŠ‚ç‚¹å³å¯ï¼Œè¿™æ ·å¦ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åçš„æ‰€æœ‰èŠ‚ç‚¹ä¹Ÿä¼šè‡ªç„¶è·Ÿè¿‡æ¥
            if (p == null) {
                last.next = q;
                break;
            } else if (q == null) {
                last.next = p;
                break;
            } else if (p.val < q.val) {
                cur = p;
                p = p.next;
            } else {
                cur = q;
                q = q.next;
            }
            last.next = cur;
            last = cur;
        }
        return head.next;
    }
}
```



## 13.æ‹¬å·ç”Ÿæˆ

**é¢˜ç›®ï¼š**

> æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚
>
>  ``` text
> ç¤ºä¾‹ï¼š
> 
> è¾“å…¥ï¼šn = 3
> è¾“å‡ºï¼š[
>        "((()))",
>        "(()())",
>        "(())()",
>        "()(())",
>        "()()()"
>      ]
>  ```
>
> 

**æ€è·¯ï¼š**

![img](E:/program files/Topora images/efbe574e5e6addcd1c9dc5c13a50c6f162a2b14a95d6aed2c394e18287a067fa-image.png)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå›æº¯æ³•
    å…³é”®ç‚¹ï¼šå·¦æ‹¬å·ä¸ªæ•°å§‹ç»ˆå¤§äºç­‰äºå³æ‹¬å·ä¸ªæ•°,å¦åˆ™å°±å‰ªæ
    
    */
    List<String> res = new ArrayList<>();
    char[] tmp;
    public List<String> generateParenthesis(int n) {
        tmp = new char[2 * n];
        backtrack(0, 0, 0);
        return res;
    }

    public void backtrack(int k, int left, int right) {
        //å‰ªæ”¯
        if (left < right)
            return;
        if (left < tmp.length / 2) {
            tmp[k] = '(';
            backtrack(k + 1, left + 1, right);
        }
        if (right < tmp.length / 2) {
            tmp[k] = ')';
            backtrack(k + 1, left, right + 1);
        }
        if (k == tmp.length - 1) {
            res.add(new String(tmp));
        }
    }
}
```



## 14.åˆå¹¶Kä¸ªå‡åºé“¾è¡¨

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚
>
> è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚
>
>  
>
> ç¤ºä¾‹ 1ï¼š
>
> ``` text
> è¾“å…¥ï¼šlists = [[1,4,5],[1,3,4],[2,6]]
> è¾“å‡ºï¼š[1,1,2,3,4,4,5,6]
> è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š
> [
>   1->4->5,
>   1->3->4,
>   2->6
> ]
> å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚
> 1->1->2->3->4->4->5->6
> ```
>
> ç¤ºä¾‹ 2ï¼š
>
> ``` text
> è¾“å…¥ï¼šlists = []
> è¾“å‡ºï¼š[]
> ```
>
> ç¤ºä¾‹ 3ï¼š
>
> ``` text
> è¾“å…¥ï¼šlists = [[]]
> è¾“å‡ºï¼š[]
> ```
>
> 

**æ€è·¯ï¼š**

å½’å¹¶æ±‚è§£

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåˆ†æ²»æ³•
    ListNode mergeAndDivide(ListNode[] lists, int left, int right):
    1.é€’å½’ç»“æŸæ¡ä»¶ï¼šæ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ å³(left == right)
    2.å¼€å¯é€’å½’(åˆ†)ï¼šmid = (left + right) / 2
        1.å¯¹leftè‡³midè¿›è¡Œé€’å½’
        2.å¯¹mid + 1è‡³rightè¿›è¡Œé€’å½’
    3.åˆå¹¶ï¼š
        å¯¹ä¸¤ä¸ªé€’å½’è¿”å›çš„é“¾è¡¨è¿›è¡Œåˆå¹¶
    4.è¿”å›é“¾è¡¨é¦–å…ƒç´ å³å¯
    æ—¶é—´å¤æ‚åº¦ï¼šnlog(k),å…¶ä¸­nä¸ºæ‰€æœ‰èŠ‚ç‚¹æ•°ï¼Œkä¸ºæ•°ç»„ä¸­é“¾è¡¨ä¸ªæ•°
    */
    public ListNode mergeKLists(ListNode[] lists) {
        if (lists.length == 0)
            return null;
        return mergeAndDivide(lists, 0, lists.length - 1);
    }

    public ListNode mergeAndDivide(ListNode[] lists, int left, int right) {
        if (left == right)
            return lists[left];
        //å¼€å¯å·¦å³é€’å½’,å³åˆ†
        int mid = (left + right) / 2;
        ListNode lNode = mergeAndDivide(lists, left, mid);
        ListNode rNode = mergeAndDivide(lists, mid + 1, right);
        //åˆ
        ListNode head = new ListNode(), last = head, p = lNode, q = rNode;
        while (!(p == null && q == null)) {
            if (p == null) {
                last.next = q;
                break;
            } else if (q == null) {
                last.next = p;
                break;
            } else if (p.val < q.val) {
                last.next = p;
                p = p.next;
            } else {
                last.next = q;
                q = q.next;
            }
            last = last.next;
        }
        return head.next;
    }
}
```

## 15.ä¸‹ä¸€ä¸ªæ’åˆ—

**é¢˜ç›®ï¼š**

> å®ç°è·å–ä¸‹ä¸€ä¸ªæ’åˆ—çš„å‡½æ•°ï¼Œç®—æ³•éœ€è¦å°†ç»™å®šæ•°å­—åºåˆ—é‡æ–°æ’åˆ—æˆå­—å…¸åºä¸­ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ã€‚
>
> å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆå³å‡åºæ’åˆ—ï¼‰ã€‚
>
> å¿…é¡»**[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚
>
> ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼Œè¾“å…¥ä½äºå·¦ä¾§åˆ—ï¼Œå…¶ç›¸åº”è¾“å‡ºä½äºå³ä¾§åˆ—ã€‚
> `1,2,3` â†’ `1,3,2`
> `3,2,1` â†’ `1,2,3`
> `1,1,5` â†’ `1,5,1`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ‰¾åˆ°ä¸€ä¸ªâ€œå¤§æ•°å­—â€ä¸å‰é¢â€œå°æ•°å­—â€äº¤æ¢ï¼Œå¹¶ä¸”å¸Œæœ›è¿™ä¸ªå¢åŠ çš„å¹…åº¦è¶³å¤Ÿå°
    1.å¯»æ‰¾â€œå°æ•°å­—â€ï¼šå› ä¸ºè¦è¶³å¤Ÿå°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»åå‘å‰å¯»æ‰¾ä¸€ä¸ªæ•°å­—æ»¡è¶³nums[k] < nums[k + 1],æ­¤æ—¶[k,len)ä¸ºé™åºï¼Œå…¶ä¸­lenä¸ºæ•°ç»„é•¿åº¦
    *è‹¥æ‰¾ä¸åˆ°åˆ™ç›´æ¥å°†æ•´ä¸ªæ•°ç»„ç¿»è½¬ï¼Œå¹¶è¿”å›å³å¯
    2.å¯»æ‰¾â€œå¤§æ•°å­—â€ï¼šå³å› ä¸ºè¦è¶³å¤Ÿå°ï¼Œæ‰€æœ‰æˆ‘ä»¬ç»§ç»­ä»[k+1,len)ä»åå¾€å‰å¯»æ‰¾ç¬¬ä¸€ä¸ªå¤§äºnums[k]çš„æ•°å­—nums[m]
    ç„¶åäº¤æ¢mä¸k
    3.å› ä¸º[k+1,len)ä»ç„¶æ˜¯å‡åºçš„ï¼Œæˆ‘ä»¬å°†å…¶ç¿»è½¬å³å¯å¾—åˆ°é™åºé¡ºåºï¼Œæ­¤æ—¶è¿”å›å³å¯
    */
    public void nextPermutation(int[] nums) {
        int len = nums.length, k = len - 2;
        for (; k >= -1; --k) {
            if (k == -1)
                break;
            if (nums[k] < nums[k + 1])
                break;
        }
        int p = 0, q = len - 1;
        if (k != -1) {
            //å¯»æ‰¾â€œå¤§æ•°å­—â€
            int m = len - 1;
            for (; m > k; --m) {
                if (nums[m] > nums[k])
                    break;
            }
            swap(nums, m, k);
            p = k + 1;
        }
        while (p < q)
            swap(nums, p++, q--);
    }

    public void swap(int[] nums, int a, int b) {
        int tmp = nums[a];
        nums[a] = nums[b];
        nums[b] = tmp;
    }
}
```



## 16.æœ€é•¿æœ‰æ•ˆæ‹¬å·

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªåªåŒ…å« `'('` å’Œ `')'` çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿çš„åŒ…å«æœ‰æ•ˆæ‹¬å·çš„å­ä¸²çš„é•¿åº¦ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: "(()"
> è¾“å‡º: 2
> è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º "()"
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: ")()())"
> è¾“å‡º: 4
> è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º "()()"
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ ˆçš„æ´»ç”¨ï¼ˆæ‹¬å·ç›¸å…³çš„é¢˜ç›®éƒ½å¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ ˆæ¥è§£å†³ï¼‰
    1.åˆå§‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ªä¿å­˜æ‹¬å·ä¸‹æ ‡çš„æ ˆstack,åˆå§‹åŒ–åŠ å…¥ä¸€ä¸ªä¸‹æ ‡-1ä½œä¸ºå‚è€ƒç‚¹ï¼Œå‚è€ƒç‚¹æ˜¯ç”¨æ¥æ ‡è¯†ä¸€æ®µè¿ç»­å­ä¸²çš„ï¼Œå¹¶ä¸”å¯ä»¥å‚ä¸è®¡ç®—å­ä¸²é•¿åº¦ï¼Œå¯ä»¥ç®€å•çœ‹ä½œæ˜¯ä¸Šä¸€ä¸ªå­ä¸²çš„é¦–èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹æ ‡,æœ€å¤§å€¼max=0
    2.éå†å­—ç¬¦ä¸²sï¼š
        1.åˆ¤æ–­s[i]ä¸ºå“ªç§æ‹¬å·ï¼š
            1.è‹¥s[i]ä¸º'('ï¼šç›´æ¥å°†s[i]å¯¹åº”çš„ä¸‹æ ‡å…¥æ ˆ
            2.è‹¥s[i]ä¸º')'ï¼šç›´æ¥ä½¿stackå‡ºæ ˆï¼Œå¹¶åˆ¤æ–­æ­¤æ—¶stackæ˜¯å¦ä¸ºç©º
                1.è‹¥stackä¸ºç©ºï¼šè¡¨ç¤ºä¸Šä¸€ä¸ªå­ä¸²å·²ç»ç»“æŸï¼Œéœ€è¦æ–°çš„æ ‡è¯†ï¼Œå°†å½“å‰å³æ‹¬å·çš„ä¸‹æ ‡å‹å…¥stack
                2.è‹¥stackä¸ä¸ºç©ºï¼šè¡¨ç¤ºä»ç„¶åœ¨ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼ŒcurLen = i - stack.peek(),è‹¥curLenå¤§äºmaxåˆ™æ›´æ–°max

    */
    public int longestValidParentheses(String s) {
        int max = 0;
        Deque<Integer> stack = new ArrayDeque<>();
        stack.push(-1);
        for (int i = 0; i < s.length(); ++i) {
            if (s.charAt(i) == '(')
                stack.push(i);
            else {
                stack.pop();
                if (stack.isEmpty())
                    stack.push(i);
                else {
                    max = Math.max(max, i - stack.peek());
                }
            }
        }
        return max;
    }
}
```



## 17.æœç´¢æ—‹è½¬æ’åºæ•°ç»„

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªæ•´æ•° `target` ã€‚
>
> å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ï¼ˆä¾‹å¦‚ï¼Œæ•°ç»„ `[0,1,2,4,5,6,7]` å¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` ï¼‰ã€‚
>
> è¯·ä½ åœ¨æ•°ç»„ä¸­æœç´¢ `target` ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› `-1` ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
> è¾“å‡ºï¼š4
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
> è¾“å‡ºï¼š-1
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [1], target = 0
> è¾“å‡ºï¼š-1
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šäºŒåˆ†æ³•
    1.åˆå§‹åŒ–ï¼šlow = 0, high = nums.length - 1;
    2.å½“low <= highæ—¶è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼š
        1.mid = (low + high) >> 1ï¼Œåˆ¤æ–­nums[mid]åœ¨å·¦åŠæ®µæ•°ç»„è¿˜æ˜¯å³åŠæ®µæ•°ç»„ï¼š
            1.è‹¥nums[mid] == targetåˆ™ç›´æ¥è¿”å›mid
            2.è‹¥nums[mid] >= nums[0]ï¼šè¯´æ˜nums[mid]åœ¨å·¦åŠæ®µï¼š
                1. åˆ¤æ–­targetåœ¨nums[mid]çš„å³ä¾§è¿˜æ˜¯å·¦ä¾§ä»è€Œç§»åŠ¨lowæˆ–highï¼š
                    1.ï¼ˆtargetnums[mid]å·¦ä¾§ï¼‰è‹¥target >= nums[0]ï¼ˆå¤§äºå·¦åŠæ®µæœ€å°å€¼ï¼‰å¹¶ä¸”target < nums[mid]è¯´æ˜targetå®Œå…¨åœ¨å·¦åŠæ®µæ•°ç»„ä¸­
                    ç§»åŠ¨highæŒ‡é’ˆï¼Œå³high = mid - 1;
                    2.å…¶ä»–æƒ…å†µï¼šç§»åŠ¨lowæŒ‡é’ˆï¼Œå³low = mid + 1;
            3.è‹¥nums[mid] < nums[0]ï¼šè¯´æ˜nums[mid]åœ¨å³åŠæ®µï¼š
                ä¸ä¸Šé¢ç±»ä¼¼
    */
    public int search(int[] nums, int target) {
        int low = 0, high = nums.length - 1;
        while (low <= high) {
            int mid = (low + high) >> 1;
            if (nums[mid] == target)
                return mid;
            //åˆ¤æ–­åœ¨å·¦åŠæ®µè¿˜æ˜¯å³åŠæ®µ
            if (nums[mid] >= nums[0]) {
                if (target >= nums[0] && target < nums[mid])
                    high = mid - 1;
                else
                    low = mid + 1;
            } else { 
                if (target <= nums[nums.length - 1] && target > nums[mid])
                    low = mid + 1;
                else 
                    high = mid -1;
            }
        }
        return -1;
    }
}
```



## 18.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
>
> ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ *O*(log *n*) çº§åˆ«ã€‚
>
> å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å› `[-1, -1]`ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
> è¾“å‡º: [3,4]
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: nums = [5,7,7,8,8,10], target = 6
> è¾“å‡º: [-1,-1]
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾
    */
    public int[] searchRange(int[] nums, int target) {
        int[] res = {-1, -1};
        int left = binarySearch(nums, target) + 1;
        int right = binarySearch(nums, target + 1);
        if (right >=0 && right < nums.length && nums[right] == target) {
            res[0] = left;
            res[1] = right;
        }
        return res;
    }

    //æ‰¾å·¦è¾¹ç•Œ
    public int binarySearch(int[] nums, int target) {
        int low = 0, high = nums.length - 1;
        while (low <= high) {
            int mid = (low + high) >> 1;
            if (nums[mid] >= target)
                high = mid - 1;
            else
                low = mid + 1;
        }
        return high;
    }
}
```



## 19.ç»„åˆæ€»å’Œ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª**æ— é‡å¤å…ƒç´ **çš„æ•°ç»„ `candidates` å’Œä¸€ä¸ªç›®æ ‡æ•° `target` ï¼Œæ‰¾å‡º `candidates` ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º `target` çš„ç»„åˆã€‚
>
> `candidates` ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚
>
> **è¯´æ˜ï¼š**
>
> - æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ `target`ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚
> - è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7,
> æ‰€æ±‚è§£é›†ä¸ºï¼š
> [
>   [7],
>   [2,2,3]
> ]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šcandidates = [2,3,5], target = 8,
> æ‰€æ±‚è§£é›†ä¸ºï¼š
> [
>   [2,2,2,2],
>   [2,3,3],
>   [3,5]
> ]
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’å›æº¯+å‰ªæ”¯
    å›æº¯çš„ç»ˆæ­¢æ¡ä»¶ï¼štarget == sumæ—¶ï¼Œå°†å½“å‰å­ä¸²åŠ å…¥ç»“æœé›†
    å›æº¯ä»¥åŠå‰ªæ”¯çš„æ¡ä»¶ï¼šå½“å‰sum > targetçš„æ—¶å€™è¿›è¡Œå›æº¯ï¼Œå¹¶ä¸”è¿›è¡Œå‰ªæ”¯ï¼Œéœ€è¦numsæ•°ç»„æ’åºæ‰å¯ä»¥æ­£å¸¸æ‰§è¡Œ
    */
    List<List<Integer>> res = new ArrayList<>();
    LinkedList<Integer> tmp = new LinkedList<>();
    public List<List<Integer>> combinationSum(int[] candidates, int target) {
        Arrays.sort(candidates);
        backtrack(candidates, target, 0, 0);
        return res;
    }

    public void backtrack(int[] nums, int target, int sum, int k) {
        if (target == sum) {
            res.add(new ArrayList(tmp));
        } else {
            for (int i = k; i < nums.length; ++i) {
                //å‰ªæ”¯
                if (sum + nums[i] > target)
                    return;
                tmp.add(nums[i]);
                backtrack(nums, target, sum + nums[i], i);
                tmp.removeLast();
            }
        }
    }
}
```



## 20.æ¥é›¨æ°´

**é¢˜ç›®ï¼š**

> 
> ç»™å®š *n* ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/rainwatertrap.png)
>
> ```
> è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
> è¾“å‡ºï¼š6
> è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šheight = [4,2,0,3,2,5]
> è¾“å‡ºï¼š9
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆ,æŒ‰è¡Œè®¡ç®—æ°´
            *ä»€ä¹ˆæ˜¯å•è°ƒæ ˆï¼šå•è°ƒæ ˆå°±æ˜¯æ¯”æ™®é€šæ ˆå¤šä¸€ä¸ªæ€§è´¨ï¼Œå³ç»´æŠ¤ä¸€ä¸ªæ ˆå†…å…ƒç´ çš„å•è°ƒ
            *æ¯”å¦‚å½“å‰æŸä¸ªå•è°ƒé€’å‡çš„æ ˆçš„å…ƒç´ ä»æ ˆåº•åˆ°æ ˆé¡¶åˆ†åˆ«æ˜¯ï¼š[10, 9, 8, 3, 2]ï¼Œå¦‚æœè¦å…¥æ ˆå…ƒç´ 5ï¼Œéœ€è¦æŠŠæ ˆé¡¶å…ƒç´ popå‡ºå»ï¼Œ
            *ç›´åˆ°æ»¡è¶³å•è°ƒé€’å‡ä¸ºæ­¢ï¼Œå³å…ˆå˜æˆ[10, 9, 8]ï¼Œå†å…¥æ ˆ5ï¼Œå°±æ˜¯[10, 9, 8, 5]ã€‚
    éå†æŸ±å­é«˜åº¦æ•°ç»„ï¼Œå°†ä¹‹å‰ä¿å­˜åœ¨å•è°ƒæ ˆä¸­å°äºå½“å‰æŸ±å­é«˜åº¦height[i]çš„æŸ±å­å…¨éƒ¨å‡ºæ ˆï¼Œå‡ºæ ˆçš„åŒæ—¶å¯ä»¥æƒ³åˆ°
    ç”±äºè¿™æ˜¯å•è°ƒæ ˆï¼Œè¿™ä¸ªå‡ºæ ˆå…ƒç´ kå·¦ä¾§è‹¥æœ‰æŸ±å­å…¶é«˜åº¦å¿…å¤§äºheight[k],é‚£ä¹ˆå°±æ˜¯å½¢æˆäº†â€œå‡¹â€ï¼Œå³å¯ä»¥æ¥æ°´ï¼Œé‚£ä¹ˆ
    æˆ‘ä»¬å°±å¯ä»¥å°†é«˜åº¦èŒƒå›´åœ¨[height[i], min(å½“å‰å…ƒç´ é«˜åº¦ï¼Œæ ˆé¡¶å…ƒç´ é«˜åº¦)]ï¼Œé•¿åº¦èŒƒå›´åœ¨æ ˆé¡¶æŸ±å­åˆ°å½“å‰æŸ±å­ä¹‹é—´çš„æ°´æ±‚å‡ºæ¥äº†ï¼Œå°†è¿™ä¸ªç»“æœç´¯åŠ åˆ°sumé‡Œ
    æœ€åå†å°†è¯¥å…ƒç´ å‹å…¥æ ˆä¸­æ¥ç€éå†å…¶ä»–å…ƒç´ å³å¯
    */
    public int trap(int[] height) {
        if (height == null || height.length < 3)
            return 0;
        int sum = 0;
        ArrayDeque<Integer> stack = new ArrayDeque<>();//å­˜å‚¨çš„æ˜¯ä¸‹æ ‡
        for (int i = 0; i < height.length; ++i) {
            //å°†stackä¸­æ¯”å½“å‰æŸ±å­çŸ®çš„æŸ±å­éƒ½å‡ºæ ˆï¼Œå¹¶ä¸”è®¡ç®—å®ƒä»¬ä¸å½“å‰æŸ±å­ä¹‹é—´çš„æ°´
            while (!stack.isEmpty() && height[stack.peek()] <= height[i]) {
                int lastIndex = stack.poll();
                //é«˜åº¦ç›¸åŒå…ƒç´ ä¸å¿…è¦è®¡ç®—ï¼Œç›´æ¥å‡ºæ ˆ
                while (!stack.isEmpty() && height[stack.peek()] == height[lastIndex])
                    stack.poll();
                if (!stack.isEmpty()) {
                    //é•¿åº¦ï¼šå½“å‰æŸ±å­åˆ°stackæ ˆé¡¶æŸ±å­ä¹‹é—´çš„é•¿åº¦
                    //é«˜åº¦ï¼šmin(å½“å‰æŸ±å­ï¼Œstackæ ˆé¡¶æŸ±å­) - ä¸Šä¸€ä¸ªå‡ºæ ˆå…ƒç´ çš„é«˜åº¦
                    sum += (i - stack.peek() - 1) * (Math.min(height[i], height[stack.peek()]) - height[lastIndex]);
                }
            }
            stack.push(i);
        }
        return sum;
    }
}
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œè®¡ç®—æ¯åˆ—çš„æ°´é‡ï¼ˆæ¯åˆ—æ°´é‡ç”±å…¶å·¦å³æœ€é«˜æŸ±å­ä¸­è¾ƒå°çš„é‚£ä¸ªå†³å®šï¼‰
    1.åˆå§‹åŒ–ï¼šleft,rightä¸ºåˆ†åˆ«æŒ‡å‘æ•°ç»„å¤´å’Œå°¾çš„åŒæŒ‡é’ˆï¼Œleft_maxä¸right_maxåˆ†åˆ«ä¿å­˜å·¦ä¾§ä¸å³ä¾§çš„æœ€å¤§æŸ±å­é«˜åº¦åˆå§‹ä¸º0ï¼Œsumä¸ºæ°´é‡æ€»å’Œ
    2.ç§»åŠ¨åŒæŒ‡é’ˆå¾ªç¯æ¯åˆ—çš„æ°´é‡ï¼š
        1.left_maxå¯¹äºleftæŒ‡é’ˆæ¥è¯´æ˜¯ä»å·¦å‘å³æ±‚æ¥çš„ï¼Œæ‰€ä»¥å…¶å€¼æ˜¯å¯é çš„ï¼Œè€Œright_maxå¯¹äºleftæŒ‡é’ˆæ¥è¯´
        æ˜¯ä¸å¯é çš„,å› ä¸º[i,right]èŒƒå›´å†…å¯èƒ½è¿˜å­˜åœ¨å¿…right_maxæ›´å¤§çš„å€¼ï¼Œä½†æ˜¯ï¼Œå¦‚æœleft_max < righ_maxåˆ™å¯ä»¥ç›´æ¥ç¡®å®š
        leftçš„æ°´é‡äº†ï¼Œå³æ»¡è¶³left_max < right_maxçš„è¯ï¼š
        è‹¥left_maxé«˜äºleftï¼Œåˆ™å°†å…¶é«˜äºleftçš„éƒ¨åˆ†åŠ åˆ°sumä¸­
        2.right_maxçš„åˆ†æè¿‡ç¨‹ä¸left_maxä¸€è‡´ï¼Œä¸åšèµ˜è¿°
    3.ç›´æ¥è¿”å›sumå³å¯
    */
    public int trap(int[] height) {
        int left = 0, right = height.length - 1;
        int left_max = 0, right_max = 0, sum = 0;
        //å› ä¸ºæ¯ä¸€åˆ—éƒ½éœ€è¦éå†åˆ°ï¼Œæ‰€ä»¥ä¸€å®šè¦æ˜¯<=è‹¥æ˜¯<åˆ™ä¼šå°‘ä¸€åˆ—
        while (left <= right) {
            //å·¦æœ€å¤§å€¼å¿…å³æœ€å¤§å€¼å°ï¼Œå³leftæŒ‡é’ˆæ‰€æŒ‡çš„å‚¨æ°´é‡å¿…å®šç”±left_maxå†³å®š
            if (left_max < right_max) {
                if (left_max > height[left]) {
                    sum += left_max - height[left];
                }
                left_max = Math.max(left_max, height[left]);
                ++left;
            } else {
                if (right_max > height[right]) {
                    sum += right_max - height[right];
                }
                right_max = Math.max(right_max, height[right]);
                --right;
            }
        }
        return sum;
    }
}
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆæ³•ï¼ŒæŒ‰å±‚è®¡ç®—æ°´(ä¸æ¨èï¼ŒåŸç†ä¸å•è°ƒæ ˆç±»ä¼¼)
    å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆlow,highåˆ†åˆ«æŒ‡å‘heightçš„é¦–å°¾,hæŒ‡ç¤ºå·²ç»è®¡ç®—è¿‡çš„é«˜åº¦åˆå§‹å€¼ä¸º0,sumä¸ºæ€»é›¨æ°´å’Œåˆå§‹ä¸ºï¼‰
    å¤–å¾ªç¯ while (low < high - 1)ï¼šå› ä¸ºèƒ½æ¥åˆ°é›¨æ°´è‡³å°‘éœ€è¦lowå’Œhighä¹‹é—´è·ç¦»ä¸º3
        1.å³ç§»åŠ¨lowï¼Œåœ¨ä¸è¶Šç•Œçš„æƒ…å†µä¸‹æ‰¾åˆ°ç¬¬ä¸€ä¸ª > hçš„æŸ±å­
        2.å·¦ç§»åŠ¨highï¼Œåœ¨ä¸è¶Šç•Œçš„æƒ…å†µä¸‹æ‰¾åˆ°ç¬¬ä¸€ä¸ª > hçš„æŸ±å­
        3.è‹¥low ä¸ high éƒ½æ²¡æœ‰è¶Šç•Œè¯´æ˜å®ƒä»¬éƒ½æ‰¾åˆ°äº†åˆé€‚çš„æŸ±å­
            1.sumåŠ ä¸Š[low + 1, high - 1]åŒºé—´é«˜åº¦èŒƒå›´ä¸º[h, min(height[low], height[hight])]çš„æ°´
            2.æ›´æ–°hä¸ºmin(height[low], height[hight])
    æœ€ç»ˆè¿”å›sumå³å¯
    */
    public int trap(int[] height) {
        int sum = 0, h = 0, low = 0, high = height.length - 1;
        //ç›¸å·®2æ ¼æ‰èƒ½æœ‰æ°´
        while (low < high - 1) {
            //æ‰¾åˆ°å¤§äºhçš„å·¦æŸ±å­
            while (low < high - 1 && height[low] <= h)
                ++low;
            //æ‰¾åˆ°å¤§äºhçš„å³æŸ±å­
            while (low < high - 1 && height[high] <= h)
                --high;
            if (low < high - 1) {
                int curHeight = Math.min(height[low], height[high]);
                sum += countWater(height, low + 1, high - 1, h, curHeight - h);
                //æ›´æ–°h
                h = curHeight;
            }
        }
        return sum;
    }
    //è®¡ç®—[left, right]èŒƒå›´å†…é«˜åº¦ä¸º[h, h + max]èŒƒå›´çš„æ°´
    public int countWater(int[] nums, int left, int right, int h, int max) {
        int count = (right - left  + 1) * max;
        for (int i = left; i <= right; ++i) {
            if (nums[i] - h > 0) {
                count -= (nums[i] - h) > max ? max : nums[i] - h;
            }
        }
        return count;
    }
}
```



## 22.å…¨æ’åˆ—

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª **æ²¡æœ‰é‡å¤** æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [1,2,3]
> è¾“å‡º:
> [
>   [1,2,3],
>   [1,3,2],
>   [2,1,3],
>   [2,3,1],
>   [3,1,2],
>   [3,2,1]
> ]
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŸºäºäº¤æ¢çš„å›æº¯
    æ¯æ¬¡å›ºå®šä¸€ä½,å…ˆå°†æ¯ä¸€ä½ä¸å…¶æœ¬èº«äº¤æ¢å†å’Œå…¶åçš„æ‰€æœ‰æ•°å­—äº¤æ¢
    */
    List<List<Integer>> res = new ArrayList<>();
    public List<List<Integer>> permute(int[] nums) {
        backtrack(nums, 0);
        return res;
    }

    public void backtrack(int[] nums, int k) {
        if (k == nums.length - 1) {
            ArrayList<Integer> tmp = new ArrayList<>();
            for (int num : nums) {
                tmp.add(num);
            }
            res.add(tmp);
        } else {
            for (int i = k; i < nums.length; ++i) {
                swap(nums, i, k);
                backtrack(nums, k + 1);
                swap(nums, i, k);
            }
        }
    }

    public void swap(int[] nums, int a, int b) {
        int tmp = nums[a];
        nums[a] = nums[b];
        nums[b] = tmp;
    }
}
```



## 22.æ—‹è½¬å›¾åƒ

**é¢˜ç›®ï¼š**

> 
> ç»™å®šä¸€ä¸ª *n* Ã— *n* çš„äºŒç»´çŸ©é˜µè¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚
>
> å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚
>
> **è¯´æ˜ï¼š**
>
> ä½ å¿…é¡»åœ¨**[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚**è¯·ä¸è¦**ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> ç»™å®š matrix = 
> [
>   [1,2,3],
>   [4,5,6],
>   [7,8,9]
> ],
> 
> åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:
> [
>   [7,4,1],
>   [8,5,2],
>   [9,6,3]
> ]
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå››æŒ‡é’ˆ
    åˆ†åˆ«å®šä¹‰ä¸Šè¾¹ç•ŒæŒ‡é’ˆtop,æœ‰è¾¹ç•ŒæŒ‡é’ˆright,ä¸‹è¾¹ç•ŒæŒ‡é’ˆbottomï¼Œå·¦è¾¹ç•ŒæŒ‡é’ˆleft
    åœ¨å·¦æŒ‡é’ˆå°äºå³æŒ‡é’ˆï¼Œæˆ–è€…ä¸ŠæŒ‡é’ˆå°äºä¸‹æŒ‡é’ˆæ—¶å¾ªç¯ï¼š
        1.å…ˆå°†å¤´æŒ‡é’ˆæ‰€æŒ‡ç¤ºçš„ä¸€è¡Œå•ç‹¬æ‹¿å‡ºæ¥åˆ°in[] tmpä¸­
        2.ä¾æ¬¡ä»å·¦æŒ‡é’ˆã€ä¸‹æŒ‡é’ˆã€å³æŒ‡é’ˆé¡ºæ—¶é’ˆå°†æ•°æ®å¡«å…¥å¯¹åº”ä½ç½®
        3.å°†tmpå¡«åˆ°å³æŒ‡é’ˆæŒ‡ç¤ºçš„ä½ç½®ä¸­ï¼Œå¹¶å°†æ‰€æœ‰æŒ‡é’ˆå‘å†…ç¼©å‡
    */
    public void rotate(int[][] matrix) {
        int top = 0, right = matrix[0].length - 1, bottom = matrix.length - 1, left = 0;
        while (top < bottom || bottom - top == 0) {
            int[] tmp = new int[right - left + 1];
            //1.å°†topå­˜å…¥tmp
            for (int i = 0; i < tmp.length; ++i) {
                tmp[i] = matrix[top][left + i];
            }
            //2.ä¾æ¬¡æ—‹è½¬left,bottom,right
            for (int i = 0; i < tmp.length; ++i) {
                matrix[top][left + i] = matrix[bottom - i][left];
            }
            for (int i = 0; i < tmp.length; ++i) {
                matrix[top + i][left] = matrix[bottom][left + i];
            }
            for (int i = 0; i < tmp.length; ++i) {
                matrix[bottom][left + i] = matrix[bottom - i][right];
            }
            //3.å¡«tmp,ç¼©æŒ‡é’ˆ
            for (int i = 0; i < tmp.length; ++i) {
                matrix[top + i][right] = tmp[i];
            }
            ++top;--right;--bottom;++left;
        }
    }
} 
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå…ˆæ²¿ç€å³ä¸Š-åä¸‹å¯¹è§’çº¿ç¿»è½¬ï¼Œå†æ²¿æ°´å¹³ä¸­çº¿ä¸Šä¸‹ç¿»è½¬ï¼Œå¯ä»¥å®ç°é¡ºæ—¶é’ˆ90åº¦æ—‹è½¬çš„æ•ˆæœ
    */
    public void rotate(int[][] matrix) {
        int len = matrix.length;
        for (int i = 0; i < len - 1; ++i) {
            for (int j = 0; j < len - i; ++j) {
                int tmp = matrix[i][j];
                matrix[i][j] = matrix[len - 1 - j][len - 1 - i];
                matrix[len - 1 - j][len - 1- i] = tmp;
            }
        }
        for (int i = 0; i  < (len >> 1); ++i) {
            for (int j = 0; j < len; ++j) {
                int tmp = matrix[i][j];
                matrix[i][j] = matrix[len - 1 - i][j];
                matrix[len - 1 - i][j] = tmp;
            }
        }
    }
}
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸æ€è·¯ä¸€ç›¸ä¼¼ï¼Œä½†æ˜¯ä¸æ˜¯æŒ‰è¡Œäº¤æ¢ï¼Œè€Œæ˜¯é€ä¸ªäº¤æ¢
    */
    public void rotate(int[][] matrix) {
        //å¤–å±‚å¾ªç¯æ§åˆ¶æ¯ä¸€åœˆï¼Œx,yä¸ºè¾¹ç•Œï¼Œæ¯äº¤æ¢å®Œä¸€åœˆå°±åƒä¸­å¿ƒç¼©å‡
        for (int x = 0, y = matrix.length - 1; x < y; ++x, --y) {
            //å†…å±‚å¾ªç¯è¿›è¡Œä¸åŒè¾¹çš„èŠ‚ç‚¹äº¤æ¢ï¼Œs,eä¸ºç§»åŠ¨æŒ‡é’ˆ,sé€’å¢ï¼Œeé€’å‡
            for (int s = x, e = y; s < y; s++, e--) {
                int tmp = matrix[x][s];
                matrix[x][s] = matrix[e][x];
                matrix[e][x] = matrix[y][e];
                matrix[y][e] = matrix[s][y];
                matrix[s][y] = tmp;
            }
        }
    }
}
```



## 23.å­—æ¯å¼‚å‘³è¯åˆ†ç»„

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: ["eat", "tea", "tan", "ate", "nat", "bat"]
> è¾“å‡º:
> [
>   ["ate","eat","tea"],
>   ["nat","tan"],
>   ["bat"]
> ]
> ```
>
> **è¯´æ˜ï¼š**
>
> - æ‰€æœ‰è¾“å…¥å‡ä¸ºå°å†™å­—æ¯ã€‚
> - ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œè¡¨ä»¥Asciiç æ’åºçš„å­—ç¬¦ä¸²ä¸ºkey,List<String>ä¸ºvalue
    1.åˆå§‹åŒ–ï¼šä¸€ä¸ªä¸Šè¿°çš„å“ˆå¸Œè¡¨mapï¼Œä¸€ä¸ªç»“æœé›†åˆres
    2.éå†strså­—ç¬¦æ•°ç»„ï¼š
        1.ä½¿ç”¨char[] tmpä¿å­˜æ¯ä¸ªstr,å¹¶è¿›è¡Œå‡åºæ’åº
        2.åˆ¤æ–­mapæ˜¯å¦å­˜åœ¨ä»¥tmpæ„å»ºçš„å­—ç¬¦ä¸²s
            1.è‹¥ä¸å­˜åœ¨ï¼šæ–°å»ºä¸€ä¸ªListå¹¶å°†så­˜å…¥ï¼Œå†å°†sä¸è¯¥Listå­˜å…¥map
            2.è‹¥å­˜åœ¨ï¼šç›´æ¥å°†è¯¥åŸå­—ç¬¦ä¸²å­˜å…¥å¯¹åº”çš„Listä¸­
    3.ç›´æ¥è¿”å›reså³å¯
    æ—¶é—´å¤æ‚åº¦ï¼šO(M*N(logN))å…¶ä¸­Mä¸ºstrsé•¿åº¦ï¼ŒNä¸ºå­—ç¬¦ä¸²é•¿åº¦
    */
    public List<List<String>> groupAnagrams(String[] strs) {
        HashMap<String, List<String>> map = new HashMap<>();
        List<List<String>> res = new ArrayList<>();
        for (String str : strs) {
            char[] tmp = str.toCharArray();
            Arrays.sort(tmp);
            if (map.containsKey(String.valueOf(tmp))) {
                map.get(String.valueOf(tmp)).add(str);
            } else {
                List<String> list = new ArrayList<>(){{
                    add(str);
                }};
                map.put(String.valueOf(tmp), list);
                res.add(list);
            }
        }
        return res;
    }
}
```



## 24.æœ€é•¿å­åºå’Œ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4]
> è¾“å‡º: 6
> è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
> ```
>
> **è¿›é˜¶:**
>
> å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º O(*n*) çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„åˆ†æ²»æ³•æ±‚è§£ã€‚

**æ€è·¯ï¼š**

[æœ€å¤§å­åºå’Œ - æœ€å¤§å­åºå’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/)

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è®¾dp[i]ä¸ºä»¥nums[i]ç»“å°¾çš„æœ€å¤§åºå’Œ(å¿…é¡»ä»¥nums[i]ç»“å°¾ä»¥ä¿è¯è¿ç»­æ€§)ï¼Œåˆ™dp[i] = max(dp[i - 1] + nums[i], dp[i])
    */
    public int maxSubArray(int[] nums) {
        if (nums.length < 1)
            return 0;
        int max = nums[0], last = max;
        for (int i = 1; i < nums.length; ++i) {
            int tmp = Math.max(last + nums[i], nums[i]);
            max = Math.max(tmp, max);
            last = tmp;
        }
        return max;
    }
}
```

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåˆ†æ²»æ³•
    å¦‚æœæˆ‘ä»¬æŠŠ [0, n - 1][0,nâˆ’1] åˆ†æ²»ä¸‹å»å‡ºç°çš„æ‰€æœ‰å­åŒºé—´çš„ä¿¡æ¯éƒ½ç”¨å †å¼å­˜å‚¨çš„æ–¹å¼è®°å¿†åŒ–ä¸‹æ¥ï¼Œå³å»ºæˆä¸€é¢—çœŸæ­£çš„æ ‘ä¹‹åï¼Œ
    æˆ‘ä»¬å°±å¯ä»¥åœ¨ O(log n)O(logn) çš„æ—¶é—´å†…æ±‚åˆ°ä»»æ„åŒºé—´å†…çš„ç­”æ¡ˆ
    */
    public class Status {
        public int lSum, rSum, mSum, iSum;
        public Status (int lSum, int rSum, int mSum, int iSum) {
            this.lSum = lSum;//è¡¨ç¤º[l,r]å†…ä»¥lä¸ºå·¦ç«¯ç‚¹çš„æœ€å¤§å­—æ®µå’Œ
            this.rSum = rSum;//è¡¨ç¤º[l,r]å†…ä»¥rä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å­—æ®µå’Œ
            this.mSum = mSum;//è¡¨ç¤º[l,r]å†…çš„æœ€å¤§å­—æ®µå’Œ
            this.iSum = iSum;//è¡¨ç¤º[l,r]çš„æ€»åŒºé—´å’Œ
        }
    }

    public int maxSubArray(int[] nums) {
        if (nums.length < 1)
            return 0;
        return getInfo(nums, 0, nums.length - 1).mSum;
    }

    public Status getInfo(int[] nums, int l, int r) {
        if (l == r)
            return new Status(nums[l], nums[l], nums[l], nums[l]);
        int mid = (l + r) >> 1;
        Status lSub = getInfo(nums, l, mid);
        Status rSub = getInfo(nums, mid + 1, r);
        return pushUp(lSub, rSub);
    }

    public Status pushUp(Status l, Status r) {
        int iSum = l.iSum + r.iSum;
        int lSum = Math.max(l.lSum, l.iSum + r.lSum);
        int rSum = Math.max(r.rSum, r.iSum + l.rSum);
        int mSum = Math.max(Math.max(l.mSum, r.mSum), l.rSum + r.lSum);
        return new Status(lSum, rSum, mSum, iSum);
    }
}
```



## 25.è·³è·ƒæ¸¸æˆ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚
>
> æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚
>
> åˆ¤æ–­ä½ æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [2,3,1,1,4]
> è¾“å‡º: true
> è§£é‡Š: æˆ‘ä»¬å¯ä»¥å…ˆè·³ 1 æ­¥ï¼Œä»ä½ç½® 0 åˆ°è¾¾ ä½ç½® 1, ç„¶åå†ä»ä½ç½® 1 è·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [3,2,1,0,4]
> è¾“å‡º: false
> è§£é‡Š: æ— è®ºæ€æ ·ï¼Œä½ æ€»ä¼šåˆ°è¾¾ç´¢å¼•ä¸º 3 çš„ä½ç½®ã€‚ä½†è¯¥ä½ç½®çš„æœ€å¤§è·³è·ƒé•¿åº¦æ˜¯ 0 ï¼Œ æ‰€ä»¥ä½ æ°¸è¿œä¸å¯èƒ½åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    public boolean canJump(int[] nums) {
        if (nums.length <= 1)
            return true;
        if (nums[0] == 0)
            return false;
        //è¡¨ç¤ºåˆ°è¾¾è¯¥èŠ‚ç‚¹åæœ€é«˜è¿˜å‰©ä¸‹èƒ½èµ°çš„æ­¥æ•°
        int max = nums[0]; 
        //æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸éœ€è¦åˆ¤æ–­ï¼Œåªéœ€è¦åˆ°è¾¾å³å¯
        for (int i = 1; i < nums.length - 1; ++i) {
            max = Math.max(max - 1, nums[i - 1] - 1);
            //è‹¥åˆ°è¾¾æ­¥é•¿ä¸º0çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¹‹å‰çš„èŠ‚ç‚¹ä¹Ÿåªèƒ½åˆšå¥½åˆ°0åˆ™ä¸å¯èƒ½å‘å‰æ¨è¿›ï¼Œç›´æ¥è¿”å›false
            if (nums[i] == 0 && max == 0)
                return false;
        }
        return true;
    }
}
```



## 26.[åˆå¹¶åŒºé—´](https://leetcode-cn.com/problems/merge-intervals/)

**é¢˜ç›®ï¼š**

> 
> ç»™å‡ºä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œè¯·åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ã€‚
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: intervals = [[1,3],[2,6],[8,10],[15,18]]
> è¾“å‡º: [[1,6],[8,10],[15,18]]
> è§£é‡Š: åŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: intervals = [[1,4],[4,5]]
> è¾“å‡º: [[1,5]]
> è§£é‡Š: åŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
> ```
>
> **æ³¨æ„ï¼š**è¾“å…¥ç±»å‹å·²äº2019å¹´4æœˆ15æ—¥æ›´æ”¹ã€‚ è¯·é‡ç½®é»˜è®¤ä»£ç å®šä¹‰ä»¥è·å–æ–°æ–¹æ³•ç­¾åã€‚
>
>  
>
> **æç¤ºï¼š**
>
> - `intervals[i][0] <= intervals[i][1]`

**æ€è·¯ï¼š**

[åƒğŸ³ï¼ğŸ¤·â€â™€ï¸ç«Ÿç„¶ä¸€çœ¼ç§’æ‡‚åˆå¹¶åŒºé—´ï¼ - åˆå¹¶åŒºé—´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/merge-intervals/solution/chi-jing-ran-yi-yan-miao-dong-by-sweetiee/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼š
    å…ˆæ ¹æ®åŒºé—´çš„èµ·å§‹ä½ç½®æ’åºï¼Œå†è¿›è¡Œn-1æ¬¡ä¸¤ä¸¤åˆå¹¶
    */
    public int[][] merge(int[][] intervals) {
        //æŒ‰ç…§åŒºé—´èµ·å§‹ä½ç½®æ’åº
        Arrays.sort(intervals, (v1, v2) -> v1[0] - v2[0]);
        int[][] res = new int[intervals.length][2];
        int i = 0;
        for (int[] arr : intervals) {
            //ç¬¬ä¸€ä¸ªåŒºé—´æˆ–å‰ä¸€ä¸ªåŒºé—´çš„æœ€å¤§å€¼å°äºå½“å‰åŒºé—´çš„æœ€å°å€¼åˆ™ç›´æ¥åŠ å…¥
            if (i == 0 || res[i - 1][1] < arr[0]) {
                res[i++] = arr;
            } else {
                res[i - 1][1] = Math.max(arr[1], res[i - 1][1]);
            }
        }
        return Arrays.copyOf(res, i);
    }
}
```



## 27.ä¸åŒè·¯å¾„

**é¢˜ç›®**ï¼š

> ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª *m x n* ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œStartâ€ ï¼‰ã€‚
>
> æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œFinishâ€ï¼‰ã€‚
>
> é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ
>
> ![img](E:/program files/Topora images/robot_maze.png)
>
> ä¾‹å¦‚ï¼Œä¸Šå›¾æ˜¯ä¸€ä¸ª7 x 3 çš„ç½‘æ ¼ã€‚æœ‰å¤šå°‘å¯èƒ½çš„è·¯å¾„ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: m = 3, n = 2
> è¾“å‡º: 3
> è§£é‡Š:
> ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
> 1. å‘å³ -> å‘å³ -> å‘ä¸‹
> 2. å‘å³ -> å‘ä¸‹ -> å‘å³
> 3. å‘ä¸‹ -> å‘å³ -> å‘å³
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: m = 7, n = 3
> è¾“å‡º: 28
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= m, n <= 100`
> - é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°äºç­‰äº `2 * 10 ^ 9`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è®¾dp[i][j]è¡¨ç¤ºåˆ°è¾¾åæ ‡ä¸º(j,i)çš„èŠ‚ç‚¹çš„æ€»è·¯å¾„
    ç”±äºï¼Œæœºå™¨äººåªèƒ½å‘ä¸‹æˆ–è€…å³ç§»åŠ¨ä¸€æ ¼ï¼Œæ‰€ä»¥ä¸ºäº†åˆ°è¾¾è¯¥ç‚¹ï¼Œæœºå™¨äººåªå¯èƒ½æ¥è‡ª(j - 1, i)è·å–(j, i - 1)ä¸¤ç‚¹
    åˆ™dp[i][j] = dp[i - 1][j] + dp[j - 1][i]
    å¹¶ä¸”ç”±äºæœºå™¨äººçš„è·¯å¾„åªä¸ä¸Šä¸€å±‚æ•°æ®æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„æ¥å®ŒæˆåŠ¨è§„
    */
    public int uniquePaths(int m, int n) {
        int[] last = new int[m];
        int[] cur = new int[m];
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                if (i == 0 || j == 0)
                    cur[j] = 1;
                else {
                    cur[j] = cur[j - 1] + last[j];
                }
            }
            int[] tmp = cur;
            cur = last;
            last = tmp;
        }
        return last[m - 1];
    }
}
```

## 28.æœ€å°è·¯å¾„å’Œ

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ `*m* x *n*` ç½‘æ ¼ `grid` ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚
>
> **è¯´æ˜ï¼š**æ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/11/05/minpath.jpg)
>
> ```
> è¾“å…¥ï¼šgrid = [[1,3,1],[1,5,1],[4,2,1]]
> è¾“å‡ºï¼š7
> è§£é‡Šï¼šå› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šgrid = [[1,2,3],[4,5,6]]
> è¾“å‡ºï¼š12
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `m == grid.length`
> - `n == grid[i].length`
> - `1 <= m, n <= 200`
> - `0 <= grid[i][j] <= 100`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è®¾dp[i][j]è¡¨ç¤ºåˆ°è¾¾ç¬¬iè¡Œç¬¬jåˆ—çš„æœ€å°è·¯å¾„ï¼Œ
    ç”±äºåªèƒ½é€šè¿‡dp[i - 1][j]ä¸dp[i][j - 1]åˆ°è¾¾dp[i] += min(dp[i -1][j], dp[i][j -1])
    æœ€åè¿”å›dp[n - 1][m - 1]å³å¯,æœ¬é¢˜å¯ä»¥ç›´æ¥ä½¿ç”¨gridä½œä¸ºåŠ¨è§„çŸ©é˜µ
    */
    public int minPathSum(int[][] grid) {
        for (int i = 0; i < grid.length; ++i) {
            for (int j = 0; j < grid[0].length; ++j) {
                if (i == 0 && j == 0) {
                    continue;
                } else if (i == 0) {
                    grid[i][j] += grid[i][j - 1];
                } else if (j == 0) {
                    grid[i][j] += grid[i - 1][j];
                } else {
                    grid[i][j] += Math.min(grid[i - 1][j], grid[i][j - 1]);
                }
            }
        }
        return grid[grid.length -1][grid[0].length - 1];
    }
}
```

## 29.çˆ¬æ¥¼æ¢¯

**é¢˜ç›®ï¼š**

> å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ *n* é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚
>
> æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ
>
> **æ³¨æ„ï¼š**ç»™å®š *n* æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š 2
> è¾“å‡ºï¼š 2
> è§£é‡Šï¼š æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
> 1.  1 é˜¶ + 1 é˜¶
> 2.  2 é˜¶
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼š 3
> è¾“å‡ºï¼š 3
> è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚
> 1.  1 é˜¶ + 1 é˜¶ + 1 é˜¶
> 2.  1 é˜¶ + 2 é˜¶
> 3.  2 é˜¶ + 1 é˜¶
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è®¾dp[i]è¡¨ç¤ºçˆ¬åˆ°ç¬¬ié˜¶å°é˜¶çš„æ–¹æ³•æ•°é‡,å› ä¸ºæ¯æ¬¡å¯ä»¥çˆ¬1æˆ–è€…2ä¸ªå°é˜¶
    å¯ä»¥ç›´åˆ°çˆ¬åˆ°ç¬¬ié˜¶å°é˜¶æ˜¯ç”±i - 1çˆ¬1ä¸ªå°é˜¶ï¼Œi - 2çˆ¬2ä¸ªå°é˜¶è€Œæ¥çš„
    æ‰€ä»¥dp[i] = dp[i - 1] + dp[i -2]
    iåº”è¯¥ä»1å¼€å§‹å› ä¸ºæ²¡æœ‰0ä¸ªå°é˜¶ï¼Œåˆå§‹åŒ–ï¼š
    dp[1] = 1ï¼Œdp[2] = 2ï¼Œè¡¨ç¤º1é˜¶å°é˜¶åªæœ‰ä¸€ç§è·³æ³•ï¼Œ2é˜¶å°é˜¶æœ‰2ç§è·³æ³•
    */
    public int climbStairs(int n) {
        if (n <= 2)
            return n;
        int minusOne = 2;
        int minusTwo = 1;
        for (int i = 3; i <= n; ++i) {
            int tmp = minusOne + minusTwo;
            minusTwo = minusOne;
            minusOne = tmp;
        }
        return minusOne;
    }
}
```



## 30.ç¼–è¾‘è·ç¦»

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸¤ä¸ªå•è¯ `word1` å’Œ `word2`ï¼Œè¯·ä½ è®¡ç®—å‡ºå°† `word1` è½¬æ¢æˆ `word2` æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•° ã€‚
>
> ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š
>
> - æ’å…¥ä¸€ä¸ªå­—ç¬¦
> - åˆ é™¤ä¸€ä¸ªå­—ç¬¦
> - æ›¿æ¢ä¸€ä¸ªå­—ç¬¦
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šword1 = "horse", word2 = "ros"
> è¾“å‡ºï¼š3
> è§£é‡Šï¼š
> horse -> rorse (å°† 'h' æ›¿æ¢ä¸º 'r')
> rorse -> rose (åˆ é™¤ 'r')
> rose -> ros (åˆ é™¤ 'e')
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šword1 = "intention", word2 = "execution"
> è¾“å‡ºï¼š5
> è§£é‡Šï¼š
> intention -> inention (åˆ é™¤ 't')
> inention -> enention (å°† 'i' æ›¿æ¢ä¸º 'e')
> enention -> exention (å°† 'n' æ›¿æ¢ä¸º 'x')
> exention -> exection (å°† 'n' æ›¿æ¢ä¸º 'c')
> exection -> execution (æ’å…¥ 'u')
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `0 <= word1.length, word2.length <= 500`
> - `word1` å’Œ `word2` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

**æ€è·¯ï¼š**

[ã€ç¼–è¾‘è·ç¦»ã€‘å…¥é—¨åŠ¨æ€è§„åˆ’ï¼Œä½ å®šä¹‰çš„ dp é‡Œåˆ°åº•å­˜äº†å•¥ - ç¼–è¾‘è·ç¦» - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/edit-distance/solution/edit-distance-by-ikaruga/)

**ä»£ç ï¼š**

```java
class Solution { 
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    dp[i][j]è¡¨ç¤ºword1çš„å‰iä¸ªå­—ç¬¦è½¬æ¢æˆword2çš„å‰jä¸ªå­—ç¬¦çš„æœ€å°‘æ“ä½œæ•°
    åˆ é™¤æ“ä½œï¼šå³word1çš„å‰ä¸€ä¸ªå­—ç¬¦å°±å·²ç»å¯ä»¥ä¸word2çš„å‰jä¸ªå­—ç¬¦åŒ¹é…ï¼Œç›´æ¥åˆ é™¤å½“å‰å­—ç¬¦å³å¯dp[i][j]=dp[i-1][j] + 1
    å¢åŠ æ“ä½œï¼šå³ä»word2çš„å‰j-1ä¸ªå­—ç¬¦çš„åŸºç¡€ä¸Šç›´æ¥åŠ ä¸Šwrod2[j]å³å¯ï¼Œdp[i][j] = dp[i][j - 1] + 1
    å˜æ¢æ“ä½œï¼šç›´æ¥å°†word1[i]å˜ä¸ºwrod2[j]ï¼Œå³dp[i][j] = dp[i - 1][j - 1] + 1
    è‹¥word1[i] = word2[j]åˆ™ä¸éœ€è¦å˜æ¢ï¼šdp[i][j] = dp[i - 1][j - 1]
    åˆå§‹åŒ–ï¼š
    word1ä¸ºç©ºï¼Œword2ä¹Ÿä¸ºç©ºæ—¶ï¼Œä¸éœ€è¦æ“ä½œï¼Œå³dp[0][0] = 0
    å½“word1ä¸ºç©ºï¼Œword2ä¸ä¸ºæ—¶ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯å¢åŠ æ“ä½œï¼Œå³dp[0][j] = dp[0][j - 1] + 1
    å½“word1ä¸ä¸ºç©ºï¼Œword2ä¸ºç©ºæ—¶ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯åˆ é™¤æ“ä½œï¼Œå³dp[i][0] = dp[i - 1][0] + 1
    */
    public int minDistance(String word1, String word2) {
        int m = word1.length();
        int n = word2.length();
        //åˆå§‹åŒ–
        int[][] dp = new int[m + 1][n + 1];
        for (int i = 1; i <= n; ++i) {
            dp[0][i] = dp[0][i - 1] + 1;
        }
        for (int i = 1; i <= m; ++i) {
            dp[i][0] = dp[i - 1][0] + 1;
        }
        //éå†
        for (int i = 1; i <= m; ++i) {
            for (int j = 1; j <= n; ++j) {
                if (word1.charAt(i - 1) == word2.charAt(j - 1)) {
                    dp[i][j] = dp[i -1][j - 1];
                } else {
                    dp[i][j] = Math.min(Math.min(dp[i - 1][j], dp[i][j - 1]), dp[i - 1][j - 1]) + 1;
                }
            }
        }
        return dp[m][n];
    }
}
```



## 31.é¢œè‰²åˆ†ç±»

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± *n* ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œ**[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚
>
> æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚
>
> **æ³¨æ„:**
> ä¸èƒ½ä½¿ç”¨ä»£ç åº“ä¸­çš„æ’åºå‡½æ•°æ¥è§£å†³è¿™é“é¢˜ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [2,0,2,1,1,0]
> è¾“å‡º: [0,0,1,1,2,2]
> ```
>
> **è¿›é˜¶ï¼š**
>
> - ä¸€ä¸ªç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è®¡æ•°æ’åºçš„ä¸¤è¶Ÿæ‰«æç®—æ³•ã€‚
>   é¦–å…ˆï¼Œè¿­ä»£è®¡ç®—å‡º0ã€1 å’Œ 2 å…ƒç´ çš„ä¸ªæ•°ï¼Œç„¶åæŒ‰ç…§0ã€1ã€2çš„æ’åºï¼Œé‡å†™å½“å‰æ•°ç»„ã€‚
> - ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

``` java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œäº¤æ¢
    å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆp0,p2åˆ†åˆ«æŒ‡å‘ä¸‹ä¸€ä¸ª0ï¼Œ2åº”è¯¥å­˜æ”¾çš„ä½ç½®
    éå†numsæ•°ç»„ï¼Œä½†å½“å‰iåº”è¯¥å°äºç­‰äºp2æŒ‡é’ˆ,é˜²æ­¢é‡å¤è®¡ç®—ï¼š
        1.è‹¥é‡åˆ°0åˆ™äº¤æ¢å½“å‰å…ƒç´ å’Œp0çš„å€¼ï¼Œå¹¶ä½¿p0å‘å†…æ”¶ç¼©
        2.è‹¥é‡åˆ°2åˆ™äº¤æ¢å½“å‰å…ƒç´ å’Œp2çš„å€¼ï¼Œå¹¶ä½¿p2å‘å†…æ”¶ç¼©ï¼Œä½†ç”±äºp2æŒ‡é’ˆäº¤æ¢è¿‡æ¥çš„å€¼æœªçŸ¥ï¼Œæ‰€ä»¥éœ€è¦æŠŠéå†æ•°ç»„çš„æŒ‡é’ˆiå‘åé€€ä¸€æ ¼ç»§ç»­åˆ¤æ–­ä¸€æ¬¡
    */
    public void sortColors(int[] nums) {
        if (nums.length <= 1)
            return;
        int p0 = 0, p2 = nums.length - 1;
        for (int i = 0; i <= p2; ++i) {
            if (nums[i] == 0) {
                nums[i] = nums[p0];
                nums[p0++] = 0;
            } else if (nums[i] == 2) {
                nums[i--] = nums[p2];//å¯¹äºp2æŒ‡é’ˆäº¤æ¢è¿‡æ¥çš„å€¼è¿˜éœ€è¦åˆ¤æ–­ä¸€æ¬¡
                nums[p2--] = 2;
            }
        }
    }
}
```



## 32.æœ€å°è¦†ç›–å­ä¸²

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ã€ä¸€ä¸ªå­—ç¬¦ä¸² `t` ã€‚è¿”å› `s` ä¸­æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ `s` ä¸­ä¸å­˜åœ¨æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² `""` ã€‚
>
> **æ³¨æ„ï¼š**å¦‚æœ `s` ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"
> è¾“å‡ºï¼š"BANC"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "a", t = "a"
> è¾“å‡ºï¼š"a"
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= s.length, t.length <= 105`
> - `s` å’Œ `t` ç”±è‹±æ–‡å­—æ¯ç»„æˆ
>
>  
>
> **è¿›é˜¶ï¼š**ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ `o(n)` æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ

**æ€è·¯ï¼š**

[ç®€ç®€å•å•ï¼Œéå¸¸å®¹æ˜“ç†è§£çš„æ»‘åŠ¨çª—å£æ€æƒ³ - æœ€å°è¦†ç›–å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/minimum-window-substring/solution/tong-su-qie-xiang-xi-de-miao-shu-hua-dong-chuang-k/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ»‘åŠ¨çª—å£
    1.åˆå§‹åŒ–ï¼šå®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆi,jæ˜¯æ»‘åŠ¨çª—å£çš„å·¦å³è¾¹ç•Œï¼Œåˆå§‹æŒ‡å‘sçš„ä¸‹æ ‡ä¸º0çš„ä½ç½®ï¼Œå­—å…¸needä¸ºéœ€æ±‚å“ˆå¸Œè¡¨ï¼Œè®°å½•ç€tå­—ç¬¦ä¸²ä¸­æ¯ä¸ª
    å­—ç¬¦éœ€æ±‚çš„ä¸ªæ•°ï¼ŒcountNeedä¸ºéœ€æ±‚æ€»æ•°åˆå§‹ä¸ºtçš„é•¿åº¦ç”¨äºè®¡ç®—è¿˜éœ€è¦å¤šå°‘ä¸ªå…ƒç´ å­ä¸²æ‰åŒ…å«æ‰€æœ‰tä¸­çš„å­—ç¬¦ï¼Œresä¿å­˜æœ€ç»ˆç»“æœ
    2.å½“jå°äºs.lengthçš„æ—¶å€™æŒç»­éå†å­—ç¬¦ä¸²sï¼š
        1.å³ç§»åŠ¨æŒ‡é’ˆjä½¿needä¸­æ‰€æœ‰å­—ç¬¦çš„è®¡æ•°éƒ½<=0ï¼ˆå› ä¸ºå¯èƒ½ä¼šé‡å¤ï¼‰ï¼Œå¹¶åŒæ—¶ç»´æŠ¤countNeedï¼ˆä½†å®ƒä¸èƒ½ä¸ºè´Ÿæ•°ï¼‰
        2.è‹¥æ­¤æ—¶çª—å£ä¸­å·²ç»å›Šæ‹¬äº†æ‰€æœ‰éœ€è¦çš„å­—ç¬¦äº†ï¼š
            1.å³ç§»åŠ¨æŒ‡é’ˆiï¼Œé€šè¿‡æ’é™¤ä¸å¿…è¦çš„å…ƒç´ æ¥é€æ¸ç¼©çŸ­æ»‘åŠ¨çª—å£ï¼Œå¹¶åœ¨éå†åˆ°ä¸€ä¸ªå…³é”®å…ƒç´ ï¼Œå³map(char) == 0çš„æ—¶å€™åœä¸‹
            2.æ¯”è¾ƒæ­¤æ—¶çª—å£å¤§å°j - i + 1ä¸ä¿å­˜çš„æœ€å°å­—ç¬¦ä¸²ç›¸æ¯”è¾ƒï¼Œå¹¶åŒæ—¶æ›´æ–°res
            3.æ¥ç€å³ç§»iï¼Œé€šè¿‡æ’é™¤è¿™ä¸ªå…³é”®å…ƒç´ æ¥å¯»æ‰¾ä¸‹ä¸€ä¸ªå­ä¸²ï¼Œå¹¶åŒæ—¶è·Ÿæ–°needä¸countNeed
        3.ç»§ç»­å³ç§»åŠ¨iå¼€å¯ä¸‹ä¸€è½®å¾ªç¯
    */
    public String minWindow(String s, String t) {
        int l = 0, r = 0, minLen = Integer.MAX_VALUE, countNeed = t.length();
        String res = "";
        //åˆå§‹åŒ–å­—å…¸
        int[] need = new int[128];
        for (char c : t.toCharArray()) {
            need[c]++;
        }
        while (r < s.length()) {
            char c = s.charAt(r);
            //æ˜¯å­—å…¸ä¸­éœ€è¦çš„æ•°
            if (need[c] > 0) {
                --countNeed;
            }
            --need[c];
            //æ»¡è¶³è¦æ±‚äº†ï¼Œéœ€è¦å³ç§»åŠ¨læŒ‡é’ˆ
            if (countNeed == 0) {
                while (true) {
                    char ch = s.charAt(l);
                    //é‡åˆ°å…³é”®å­—ç¬¦é€€å‡º
                    if (need[ch] == 0)
                        break;
                    ++need[ch];
                    ++l;
                }
                if (r - l + 1 < minLen) {
                    minLen = r - l + 1;
                    res = s.substring(l, r + 1);
                }
                ++countNeed;
                ++need[s.charAt(l)];
                ++l;
            }
            ++r;
        }
        return res;
    }
}
```



## 33.å­é›†

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ç»„**ä¸å«é‡å¤å…ƒç´ **çš„æ•´æ•°æ•°ç»„ *nums*ï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚
>
> **è¯´æ˜ï¼š**è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: nums = [1,2,3]
> è¾“å‡º:
> [
>   [3],
>   [1],
>   [2],
>   [1,2,3],
>   [1,3],
>   [2,3],
>   [1,2],
>   []
> ]
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’å›æº¯
    */
    List<List<Integer>> res = new ArrayList<>();
    LinkedList<Integer> tmp = new LinkedList<>();
    public List<List<Integer>> subsets(int[] nums) {
        res.add(new ArrayList(tmp));
        backtrack(nums, 0);
        return res;
    }

    public void backtrack(int[] nums, int k) {
        if (k == nums.length)
            return;
        else {
            for (int i = k; i < nums.length; ++i) {
                tmp.add(nums[i]);
                res.add(new ArrayList(tmp));
                backtrack(nums, i + 1);
                tmp.removeLast();
            }
        }
    }
}
```



## 34.å•è¯æœç´¢

**é¢˜ç›®ï¼š**

> 
> ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚
>
> å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚
>
>  
>
> **ç¤ºä¾‹:**
>
> ```
> board =
> [
>   ['A','B','C','E'],
>   ['S','F','C','S'],
>   ['A','D','E','E']
> ]
> 
> ç»™å®š word = "ABCCED", è¿”å› true
> ç»™å®š word = "SEE", è¿”å› true
> ç»™å®š word = "ABCB", è¿”å› false
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `board` å’Œ `word` ä¸­åªåŒ…å«å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ã€‚
> - `1 <= board.length <= 200`
> - `1 <= board[i].length <= 200`
> - `1 <= word.length <= 10^3`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¾ªç¯éå†+é€’å½’å›æº¯
    */
    //å››ä¸ªæ–¹å‘
    int[][] direc = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    boolean[][] visited;
    int rows;
    int cols;
    public boolean exist(char[][] board, String word) {
        if (word.length() < 1)
            return true;
        rows = board.length;
        cols = board[0].length;
        visited = new boolean[rows][cols];
        for (int i = 0 ; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (board[i][j] == word.charAt(0)) {
                    if (backtrack(board, word, 0, i, j)) {
                        return true;
                    }
                }
            }
        }
        return false;
    }

    public boolean backtrack(char[][] board, String word, int k, int row, int col) {
        if (k == word.length())
            return true;
        //è¯¥èŠ‚ç‚¹ä¸èƒ½è¶Šç•Œï¼Œä¸èƒ½è¢«è®¿é—®ï¼Œéœ€è¦ä¸word[k]ç›¸ç­‰
        if (row < 0 || row >= rows || col < 0 || col >= cols || visited[row][col] || word.charAt(k) != board[row][col]) {
            return false;
        }
        visited[row][col] = true;
        //å¯¹å››ä¸ªæ–¹å‘éå†
        boolean res = backtrack(board, word, k + 1, row + 1, col + 0) || backtrack(board, word, k + 1, row + 0, col + 1) 
        || backtrack(board, word, k + 1, row - 1, col + 0) || backtrack(board, word, k + 1, row + 0, col + -1);
        
        visited[row][col] = false;
        return res;
    }
}
```



## 35.æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢

**é¢˜ç›®ï¼š**

> ç»™å®š *n* ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚
>
> æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚
>
>  
>
> ![img](E:/program files/Topora images/histogram.png)
>
> ä»¥ä¸Šæ˜¯æŸ±çŠ¶å›¾çš„ç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæŸ±å­çš„å®½åº¦ä¸º 1ï¼Œç»™å®šçš„é«˜åº¦ä¸º `[2,1,5,6,2,3]`ã€‚
>
>  
>
> ![img](E:/program files/Topora images/histogram_area.png)
>
> å›¾ä¸­é˜´å½±éƒ¨åˆ†ä¸ºæ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå…¶é¢ç§¯ä¸º `10` ä¸ªå•ä½ã€‚
>
>  
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [2,1,5,6,2,3]
> è¾“å‡º: 10
> ```

**æ€è·¯ï¼š**

[æš´åŠ›è§£æ³•ã€æ ˆï¼ˆå•è°ƒæ ˆã€å“¨å…µæŠ€å·§ï¼‰ - æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/solution/bao-li-jie-fa-zhan-by-liweiwei1419/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆ
    ä½¿ç”¨ä¸€ä¸ªå•è°ƒæ ˆstackç”¨æ¥ä¿å­˜æŸ±å­çš„ä¸‹æ ‡ï¼Œå¹¶ä¸”ä»–æ˜¯æ ¹æ®height[]é€’å¢çš„
    æˆ‘ä»¬è¦å¦‚ä½•ç¡®å®šæ¯ä¸ªæŸ±å½¢çš„é«˜åº¦å‘¢ï¼Ÿ
    ä»é¢˜ç›®ç»™å‡ºçš„å›¾ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“æŸä¸ªæŸ±å½¢è¢«ä½äºè‡ªå·±çš„æŸ±å­åŒ…å›´çš„æ—¶å€™(ä¹Ÿå°±æ˜¯å½¢æˆä¸ªâ€œå‡¸â€å½¢)å°±å¯ä»¥ç¡®å®šè¿™ä¸ªæŸ±å½¢çš„é«˜åº¦äº†
    æˆ‘ä»¬å¯ä»¥åŸºäºè¿™ä¸ªæ€æƒ³ä½¿ç”¨stackæ¥å®ç°
    
    å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚ä½•è®¡ç®—å½“å‰å¼¹å‡ºæ ˆæŸ±å½¢içš„å®½åº¦ï¼Œæˆ‘ä»¬åœ¨ç®—æ³•ä¸­åœ¨åŠ å…¥içš„æ—¶å€™å·²ç»å°†stacké‡Œæ‰€æœ‰é«˜åº¦æ¯”å®ƒå°çš„å…ƒç´ å…¨éƒ¨å‡ºæ ˆäº†ï¼Œ
    æ‰€ä»¥å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œç°åœ¨çš„æ ˆé¡¶å…ƒç´ æ‰æ˜¯ç¬¬ä¸€ä¸ªé«˜åº¦å°äºheight[i]çš„ï¼Œé‚£ä¹ˆï¼Œå®½åº¦åŒºé—´å°±åº”è¯¥æ˜¯è¿™ä¸ªæ ˆé¡¶å…ƒç´ åˆ°å½“å…¶içš„å¼€åŒºé—´
    å³width = stack.peekLast() - i - 1;

    ç‰¹æ®Šæƒ…å†µï¼š
    1.å¼¹æ ˆçš„æ—¶å€™ï¼Œæ ˆä¸ºç©º
    2.éå†å®Œæˆä»¥åï¼Œæ ˆä¸­è¿˜æœ‰å…ƒç´ 
    ä¸ºæ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¾“å…¥æ•°ç»„ä¸¤ç«¯åŠ ä¸Šä¸¤ä¸ªé«˜åº¦ä¸º0çš„æŸ±å½¢
    */
    public int largestRectangleArea(int[] heights) {
        int len = heights.length;
        if (len < 1)
            return 0;
        int maxArea = 0;
        int[] newHeights = new int[len + 2];
        newHeights[0] = 0;
        System.arraycopy(heights, 0, newHeights, 1, len);
        newHeights[len + 1] = 0;
        heights = newHeights;

        ArrayDeque<Integer> stack = new ArrayDeque<>();
        stack.addLast(0);
        for (int i = 1; i < heights.length; ++i) {
            //å¼¹å‡ºæ¯”å½“å‰æŸ±å­é«˜çš„èŠ‚ç‚¹
            while (heights[i] < heights[stack.peekLast()]) {
                int curHeight = heights[stack.pollLast()];
                int curWidth = i - stack.peekLast() - 1;
                //è®¡ç®—é¢ç§¯
                maxArea = Math.max(maxArea, curHeight * curWidth);
            }
            stack.addLast(i);
        }
        return maxArea;
    }
}
```



## 36.æœ€å¤§çŸ©å½¢

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªä»…åŒ…å« `0` å’Œ `1` ã€å¤§å°ä¸º `rows x cols` çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« `1` çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/09/14/maximal.jpg)
>
> ```
> è¾“å…¥ï¼šmatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]
> è¾“å‡ºï¼š6
> è§£é‡Šï¼šæœ€å¤§çŸ©å½¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šmatrix = []
> è¾“å‡ºï¼š0
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šmatrix = [["0"]]
> è¾“å‡ºï¼š0
> ```
>
> **ç¤ºä¾‹ 4ï¼š**
>
> ```
> è¾“å…¥ï¼šmatrix = [["1"]]
> è¾“å‡ºï¼š1
> ```
>
> **ç¤ºä¾‹ 5ï¼š**
>
> ```
> è¾“å…¥ï¼šmatrix = [["0","0"]]
> è¾“å‡ºï¼š0
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `rows == matrix.length`
> - `cols == matrix.length`
> - `0 <= row, cols <= 200`
> - `matrix[i][j]` ä¸º `'0'` æˆ– `'1'`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸ä¸Šé¢˜ä¸€æ ·ï¼Œå•è°ƒæ ˆ
    åªéœ€è¦æ±‚æ¯å±‚çš„æŸ±é«˜åº¦æ•°ç»„heights[]å³å¯
    */
    public int maximalRectangle(char[][] matrix) {
        if (matrix.length == 0)
            return 0;
        int max = 0, rows = matrix.length, cols = matrix[0].length;
        int[] heights = new int[matrix[0].length];
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (matrix[i][j] == '1') {
                    ++heights[j];
                } else {
                    heights[j] = 0;
                }
            }
            max = Math.max(largestRectangleArea(heights), max);
        }
        return max;
    }
    
    public int largestRectangleArea(int[] heights) {
        int len = heights.length;
        if (len < 1)
            return 0;
        int maxArea = 0;
        int[] newHeights = new int[len + 2];
        newHeights[0] = 0;
        System.arraycopy(heights, 0, newHeights, 1, len);
        newHeights[len + 1] = 0;
        heights = newHeights;

        ArrayDeque<Integer> stack = new ArrayDeque<>();
        stack.addLast(0);
        for (int i = 1; i < heights.length; ++i) {
            //å¼¹å‡ºæ¯”å½“å‰æŸ±å­é«˜çš„èŠ‚ç‚¹
            while (heights[i] < heights[stack.peekLast()]) {
                int curHeight = heights[stack.pollLast()];
                int curWidth = i - stack.peekLast() - 1;
                //è®¡ç®—é¢ç§¯
                maxArea = Math.max(maxArea, curHeight * curWidth);
            }
            stack.addLast(i);
        }
        return maxArea;
    }
}
```



## 37.äºŒå‰æ ‘çš„ä¸­åºéå†

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œè¿”å›å®ƒçš„ **ä¸­åº** éå†ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/inorder_1.jpg)
>
> ```
> è¾“å…¥ï¼šroot = [1,null,2,3]
> è¾“å‡ºï¼š[1,3,2]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šroot = []
> è¾“å‡ºï¼š[]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šroot = [1]
> è¾“å‡ºï¼š[1]
> ```
>
> **ç¤ºä¾‹ 4ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/09/15/inorder_5.jpg)
>
> ```
> è¾“å…¥ï¼šroot = [1,2]
> è¾“å‡ºï¼š[2,1]
> ```
>
> **ç¤ºä¾‹ 5ï¼š**
>
> ![img](https://assets.leetcode.com/uploads/2020/09/15/inorder_4.jpg)
>
> ```
> è¾“å…¥ï¼šroot = [1,null,2]
> è¾“å‡ºï¼š[1,2]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ `[0, 100]` å†…
> - `-100 <= Node.val <= 100`

**æ€è·¯ï¼š**

[äºŒå‰æ ‘çš„ä¸­åºéå† - è¿­ä»£æ³• - äºŒå‰æ ‘çš„ä¸­åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-inorder-traversal/solution/die-dai-fa-by-jason-2/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼š
    æ²¡åˆ°ä¸€ä¸ªèŠ‚ç‚¹Aï¼Œå› ä¸ºæ ¹çš„è®¿é—®åœ¨ä¸­é—´ï¼Œå°†Aå…¥æ ˆï¼Œéå†å·¦å­æ ‘ï¼Œæ¥ç€è®¿é—®Aï¼Œæœ€åéå†å³å­æ ‘
    åœ¨è®¿é—®Aåï¼ŒAå°±å¯ä»¥å‡ºæ ˆäº†ã€‚å› ä¸ºAå’Œå…¶å·¦å­æ ‘éƒ½å·²ç»è®¿é—®å®Œæˆ
    */
    public List<Integer> inorderTraversal(TreeNode root) {
        LinkedList<TreeNode> stack = new LinkedList<>();
        List<Integer> res = new LinkedList<>();
        TreeNode pNode = root;
        while (pNode != null || !stack.isEmpty()) {
            while (pNode != null) {
                stack.add(pNode);
                pNode = pNode.left;
            }
            pNode = stack.pollLast();
            res.add(pNode.val);
            pNode = pNode.right;
        }
        return res;
    }
}
```



## 38.ä¸åŒçš„äºŒå‰æœç´¢æ ‘

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•° *n*ï¼Œæ±‚ä»¥ 1 ... *n* ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: 3
> è¾“å‡º: 5
> è§£é‡Š:
> ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:
> 
>    1         3     3      2      1
>     \       /     /      / \      \
>      3     2     1      1   3      2
>     /     /       \                 \
>    2     1         2                 3
> ```

**æ€è·¯ï¼š**

[ã€Œæ‰‹ç”»å›¾è§£ã€è¯¦è§£ DPã€è®°å¿†åŒ–é€’å½’ | 96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ - ä¸åŒçš„äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/unique-binary-search-trees/solution/shou-hua-tu-jie-san-chong-xie-fa-dp-di-gui-ji-yi-h/)

[ç”»è§£ç®—æ³•ï¼š96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ - ä¸åŒçš„äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/unique-binary-search-trees/solution/hua-jie-suan-fa-96-bu-tong-de-er-cha-sou-suo-shu-b/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    åœ¨æ•´æ•°1~nä¸­é€‰kä½œä¸ºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™ 1 ~ k - 1ä¼šå»æ„å»ºå·¦å­æ ‘ï¼Œk + 1 ~ nä¼šå»æ„å»ºå³å­æ ‘
    å·¦å­æ ‘å‡ºæ¥çš„å½¢æ€æœ‰aç§ï¼Œå³å­æ ‘å‡ºæ¥çš„å½¢æ€æœ‰bç§ï¼Œåˆ™æ•´ä¸ªæ•°çš„å½¢æ€æœ‰a * bç§
        ä»¥kä¸ºæ ¹èŠ‚ç‚¹çš„äºŒå‰æœç´¢æ ‘ç§ç±»æ•° = å·¦å­æ ‘BSTç§ç±»æ•° * å³å­æ ‘BSTç§ç±»æ•°
    
    */
    public int numTrees(int n) {
        int[] dp = new int[n + 1];
        //æ²¡æœ‰èŠ‚ç‚¹æ—¶åªèƒ½å½¢æˆç©ºæ ‘
        dp[0] = 1;
        // dp[1] = 1;
        for (int i = 1; i <= n; ++i) {
            for (int j = 0; j <= i - 1; ++j) {
                dp[i] += dp[j] * dp[i - j - 1];
            }
        }
        return dp[n];
    }
}
```



## 39.éªŒè¯äºŒå‰æœç´¢æ ‘

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚
>
> å‡è®¾ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š
>
> - èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«**å°äº**å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
> - èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«**å¤§äº**å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
> - æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥:
>     2
>    / \
>   1   3
> è¾“å‡º: true
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥:
>     5
>    / \
>   1   4
>      / \
>     3   6
> è¾“å‡º: false
> è§£é‡Š: è¾“å…¥ä¸º: [5,1,4,null,null,3,6]ã€‚
>      æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 5 ï¼Œä½†æ˜¯å…¶å³å­èŠ‚ç‚¹å€¼ä¸º 4 ã€‚
> ```

**æ€è·¯ï¼š**

[ä¸‰ç§è§£å†³æ–¹å¼ï¼Œä¸¤ç§å‡»è´¥äº†100%çš„ç”¨æˆ· - éªŒè¯äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/validate-binary-search-tree/solution/san-chong-jie-jue-fang-shi-liang-chong-ji-bai-liao/)

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸­åºéå†+å¾ªç¯
    */
    public boolean isValidBST(TreeNode root) {
        LinkedList<TreeNode> stack = new LinkedList<>();
        long lastValue = Long.MIN_VALUE;
        TreeNode pNode = root;
        while (pNode != null || !stack.isEmpty()) {
            while (pNode != null) {
                //å› ä¸ºæ˜¯ä¸­åºéå†ï¼Œéœ€è¦å…ˆéå†å·¦å­æ ‘
                stack.addLast(pNode);
                pNode = pNode.left;
            }
            //èŠ‚ç‚¹å·¦å­æ ‘å·²ç»å…¨éƒ¨éå†å®Œæˆï¼Œå¯ä»¥ä»stackä¸­å‡ºæ ˆäº†
            pNode = stack.pollLast();
            if (lastValue >= pNode.val)
                return false;
            lastValue = pNode.val;
            //å¯¹å³å­èŠ‚ç‚¹è¿›è¡Œé€’å½’ï¼ˆç¡®ä¿¡ï¼‰
            pNode = pNode.right;
        }
        return true;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸­åºéå†
    è®¾å½“å‰è®¿é—®çš„æ ¹èŠ‚ç‚¹rootï¼Œåˆ™ä¸Šä¸€ä¸ªéå†çš„èŠ‚ç‚¹è‚¯å®šæ˜¯å·¦å­æ ‘ä¸­æœ€å¤§çš„èŠ‚ç‚¹ï¼Œè‹¥å…¶ä»ç„¶æ»¡è¶³å°äºroot.valåˆ™ç»§ç»­éå†å³å­æ ‘ï¼Œ
    ä¿å­˜å½“å‰root.valä½œä¸ºä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œåˆ™å¼€å¯é€’å½’åæ ¹æ®ä¸­åºéå†è§„åˆ™ï¼Œç¬¬ä¸€ä¸ªè®¿é—®çš„ä¸€å®šæ˜¯å³å­æ ‘æœ€å°çš„å€¼ï¼Œè‹¥å…¶å¤§äºroo.val
    åˆ™ä»ç„¶ç¬¦åˆï¼Œç»§ç»­ä¿å­˜å€¼ï¼Œé€’å½’....
    */
    Integer lastValue = null;
    public boolean isValidBST(TreeNode root) {
        if (root == null)
â€¦}
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
â€¦        if (root.val <= minVal || root.val >= maxVal) {
            return false;
        }
        return isBST(root.left, minVal, root.val) && isBST(root.right, root.val, maxVal);
    }
}
```



## 40.å¯¹ç§°äºŒå‰æ ‘

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚
>
>  
>
> ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ `[1,2,2,3,4,4,3]` æ˜¯å¯¹ç§°çš„ã€‚
>
> ```
>     1
>    / \
>   2   2
>  / \ / \
> 3  4 4  3
> ```
>
>  
>
> ä½†æ˜¯ä¸‹é¢è¿™ä¸ª `[1,2,2,null,3,null,3]` åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:
>
> ```
>     1
>    / \
>   2   2
>    \   \
>    3    3
> ```
>
>  
>
> **è¿›é˜¶ï¼š**
>
> ä½ å¯ä»¥è¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæ—¶dfsï¼Œä¸€è¾¹è¿›è¡Œå‰åºï¼Œä¸€è¾¹è¿›è¡Œä¸­å³å·¦
    */
    public boolean isSymmetric(TreeNode root) {
        if (root == null)
            return true;
        return isSame(root.left, root.right);
    }

    public boolean isSame(TreeNode left, TreeNode right) {
        if (left == null && right == null)
            return true;
        if (left == null || right == null || left.val != right.val)
            return false;
        return isSame(left.left, right.right) && isSame(left.right, right.left);
    }
}
```



## 41.äºŒå‰æ ‘çš„å±‚åºéå†

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›å…¶æŒ‰ **å±‚åºéå†** å¾—åˆ°çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚
>
>  
>
> **ç¤ºä¾‹ï¼š**
> äºŒå‰æ ‘ï¼š`[3,9,20,null,null,15,7]`,
>
> ```
>     3
>    / \
>   9  20
>     /  \
>    15   7
> ```
>
> è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š
>
> ```
> [
>   [3],
>   [9,20],
>   [15,7]
> ]
> ```

**æ€è·¯ï¼š**

[BFS çš„ä½¿ç”¨åœºæ™¯æ€»ç»“ï¼šå±‚åºéå†ã€æœ€çŸ­è·¯å¾„é—®é¢˜ - äºŒå‰æ ‘çš„å±‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-level-order-traversal/solution/bfs-de-shi-yong-chang-jing-zong-jie-ceng-xu-bian-l/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé˜Ÿåˆ—
    */
    public List<List<Integer>> levelOrder(TreeNode root) {
        List<List<Integer>> res = new ArrayList<>();
        if (root == null)
            return res;
        LinkedList<TreeNode> queue = new LinkedList<>();
        //åˆå§‹åŒ–
        queue.add(root);
        while (!queue.isEmpty()) {
            ArrayList<Integer> tmp = new ArrayList<>();
            //ä¿å­˜æœ¬å±‚éœ€è¦å–å‡ºçš„èŠ‚ç‚¹æ•°
            int count = queue.size();
            for (int i = 0; i < count; ++i) {
                tmp.add(queue.peek().val);
                TreeNode pNode = queue.poll();
                if (pNode.left != null) {
                    queue.add(pNode.left);
                }
                if (pNode.right != null) {
                    queue.add(pNode.right);
                }
            }
            res.add(tmp);
        }
        return res;
    }
}
```

**æ‹“å±•é¢˜ç›®ï¼šåœ°å›¾åˆ†æ**

**é¢˜ç›®ï¼š**

> ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º N x N çš„ ç½‘æ ¼ `grid`ï¼Œä¸Šé¢çš„æ¯ä¸ª å•å…ƒæ ¼ éƒ½ç”¨ `0` å’Œ `1` æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ `0` ä»£è¡¨æµ·æ´‹ï¼Œ`1` ä»£è¡¨é™†åœ°ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ï¼Œè¿™ä¸ªæµ·æ´‹å•å…ƒæ ¼åˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°å•å…ƒæ ¼çš„è·ç¦»æ˜¯æœ€å¤§çš„ã€‚
>
> æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š`(x0, y0)` å’Œ `(x1, y1)` è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»æ˜¯ `|x0 - x1| + |y0 - y1|` ã€‚
>
> å¦‚æœç½‘æ ¼ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› `-1`ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> **![img](E:/program files/Topora images/1336_ex1.jpeg)**
>
> ```
> è¾“å…¥ï¼š[[1,0,1],[0,0,0],[1,0,1]]
> è¾“å‡ºï¼š2
> è§£é‡Šï¼š 
> æµ·æ´‹å•å…ƒæ ¼ (1, 1) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 2ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> **![img](E:/program files/Topora images/1336_ex2.jpeg)**
>
> ```
> è¾“å…¥ï¼š[[1,0,0],[0,0,0],[0,0,0]]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼š 
> æµ·æ´‹å•å…ƒæ ¼ (2, 2) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 4ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> 1. `1 <= grid.length == grid[0].length <= 100`
> 2. `grid[i][j]` ä¸æ˜¯ `0` å°±æ˜¯ `1`

**æ€è·¯ï¼š**

[ğŸŒŠç®€å•Java, ç§’æ‡‚å›¾çš„BFSï½ - åœ°å›¾åˆ†æ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/as-far-from-land-as-possible/solution/jian-dan-java-miao-dong-tu-de-bfs-by-sweetiee/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¤šæºBFS
    æˆ‘ä»¬åªè¦å…ˆæŠŠæ‰€æœ‰çš„é™†åœ°éƒ½å…¥é˜Ÿï¼Œç„¶åä»å„ä¸ªé™†åœ°åŒæ—¶å¼€å§‹ä¸€å±‚ä¸€å±‚çš„å‘æµ·æ´‹æ‰©æ•£ï¼Œé‚£ä¹ˆæœ€åæ‰©æ•£åˆ°çš„æµ·æ´‹å°±æ˜¯æœ€è¿œçš„æµ·æ´‹
    */
    public class Coor {
        public int row;
        public int col;
        public Coor (int row, int col) {
            this.row = row;
            this.col = col;
        }
    }
    public int maxDistance(int[][] grid) {
        LinkedList<Coor> queue = new LinkedList<>();
        int[][] direc = {{0, 1}, {1, 0}, {0, -1}, {-1, 0}};
        int rows = grid.length;
        int cols = grid[0].length;
        //å°†æ‰€æœ‰æºç‚¹åŠ å…¥èµ·å§‹é˜Ÿåˆ—ï¼Œå¤šæºåŒæ—¶éå†ï¼Œé˜²æ­¢æŸä¸ªèŠ‚ç‚¹å¤šæ¬¡è®¡ç®—
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (grid[i][j] == 1) {
                    queue.add(new Coor(i, j));
                }
            }
        }
        //å¦‚æœåªæœ‰é™†åœ°ç›´æ¥è¿”å›-1
        if (queue.size() == rows * cols)
            return -1;


        int dis = -1;
        while (!queue.isEmpty()) {
            ++dis;
            int count = queue.size();
            for (int k = 0; k < count; ++k) {
                Coor coor = queue.poll();
                for (int[] move : direc) {
                    int r = coor.row + move[0];
                    int c = coor.col + move[1];
                    if (r >= 0 && r < rows && c >= 0 && c < cols && grid[r][c] == 0) {
                        grid[r][c] = 2;
                        queue.add(new Coor(r, c));
                    }
                }
            }
        }

        return dis;
    }
}
```



## 42.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚
>
> äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚
>
> **è¯´æ˜:** å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚
>
> **ç¤ºä¾‹ï¼š**
> ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`ï¼Œ
>
> ```
>     3
>    / \
>   9  20
>     /  \
>    15   7
> ```
>
> è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šDFS
    */
    public int maxDepth(TreeNode root) {
        return root == null ? 0 : Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šBFS
    */
    public int maxDepth(TreeNode root) {
        if (root == null)
            return 0;
        int maxDepth = 0;
        LinkedList<TreeNode> queue = new LinkedList<>();
        queue.add(root);
â€¦        }
        return maxDepth;
    }
}
```



## 43.ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘

**é¢˜ç›®ï¼š**

> æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚
>
> æ³¨æ„:
> ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚
>
> ä¾‹å¦‚ï¼Œç»™å‡º
>
> å‰åºéå† preorder = [3,9,20,15,7]
> ä¸­åºéå† inorder = [9,3,15,20,7]
> è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š
>
>     3
>    / \
>   9  20
>     /  \
>    15   7

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’æ„å»º
    è®¾å‰åºåºåˆ—çš„èŒƒå›´æ˜¯[p_left, p_right],ä¸­åºåºåˆ—çš„èŒƒå›´æ˜¯[i_left, i_right]
    åˆ™å¯ä»¥ç›´åˆ°æœ¬æ¬¡éœ€è¦æ„å»ºçš„èŠ‚ç‚¹æ˜¯new TreeNode(preorder[p_left])ï¼Œæˆ‘ä»¬å«ä»–pNode
    æˆ‘ä»¬å†åœ¨ä¸­åºåºåˆ—ä¸­æ‰¾åˆ°ä¸pNodeå€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œå¹¶è®°å½•å®ƒçš„ä¸‹æ ‡å‡è®¾ä¸ºå®ƒä¸ºi
    äºæ˜¯å°±å¯ä»¥ç¡®å®šå·¦å­æ ‘çš„èŒƒå›´åœ¨inorderä¸­æ˜¯[i_left, i - 1]ï¼Œè·ç¦»ä¸ºi - i_left
    å³å­æ ‘èŒƒå›´åœ¨inorderä¸­æ˜¯[i + 1, i_right],è·ç¦»æ˜¯i_right - i
    æ‰€ä»¥åœ¨å‰åºåºåˆ—ä¸­çš„å·¦å­æ ‘èŒƒå›´å°±æ˜¯[p_left + 1, p_left + (i - i_left)]
    åœ¨å‰åºåºåˆ—ä¸­å³å­æ ‘çš„èŒƒå›´å°±æ˜¯[p_left + (i - i_left) + 1, p_right]
    æ ¹æ®ä»¥ä¸Šä¿¡æ¯å³å¯å¼€å¯é€’å½’æ„å»ºå·¦å³å­æ ‘

    ç‰¹ä¾‹ï¼š
    å½“åºåˆ—èŒƒå›´è¶Šç•Œæ—¶è¡¨ç¤ºæ²¡æœ‰èŠ‚ç‚¹å¯æ„å»ºï¼Œç›´æ¥è¿”å›nullå³å¯
    */
    int[] preorder;
    HashMap<Integer, Integer> map;
    public TreeNode buildTree(int[] preorder, int[] inorder) {
        this.preorder = preorder;
        //ä½¿ç”¨å“ˆå¸Œè¡¨å‡å°‘æ¯æ¬¡åœ¨inorderä¸­æœç´¢å…ƒç´ çš„æ—¶é—´
        map = new HashMap<>();
        for (int i = 0; i < inorder.length; ++i) {
            map.put(inorder[i], i);
        }
        return build(0, preorder.length - 1, 0, inorder.length - 1);
    }

    public TreeNode build(int p_left, int p_right, int i_left, int i_right) {
        if (p_left > p_right)
            return null;
        TreeNode root = new TreeNode(preorder[p_left]);
        int i = map.get(root.val);
        root.left = build(p_left + 1, p_left + (i - i_left), i_left, i - 1);
        root.right = build(p_left + (i - i_left) + 1, p_right, i + 1, i_right);
        return root;
    }
}



```



## 44.äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œ[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•/8010757)å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ã€‚
>
>  
>
> ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘
>
> ```
>     1
>    / \
>   2   5
>  / \   \
> 3   4   6
> ```
>
> å°†å…¶å±•å¼€ä¸ºï¼š
>
> ```
> 1
>  \
>   2
>    \
>     3
>      \
>       4
>        \
>         5
>          \
>           6
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåç»­éå†
    */
    TreeNode pre = null;
    public void flatten(TreeNode root) {
        if (root == null)
            return;
        flatten(root.right);
        flatten(root.left);
        root.right = pre;
        pre = root;
        root.left = null;
    }
}
```



## 45.[ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ *i* ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ *i* å¤©çš„ä»·æ ¼ã€‚
>
> å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ä¸€æ¬¡ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚
>
> æ³¨æ„ï¼šä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [7,1,5,3,6,4]
> è¾“å‡º: 5
> è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚
>      æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ï¼›åŒæ—¶ï¼Œä½ ä¸èƒ½åœ¨ä¹°å…¥å‰å–å‡ºè‚¡ç¥¨ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [7,6,4,3,1]
> è¾“å‡º: 0
> è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆ+å“¨å…µ
    */
    public int maxProfit(int[] prices) {
        int max = 0;
        Deque<Integer> stack = new ArrayDeque<>();
        stack.add(Integer.MAX_VALUE);
        for (int price : prices) {
            if (price < stack.peekLast()) {
                stack.add(price);
            } else {
                max = Math.max(max, price - stack.peekLast());
            }
        }
        return max;
    }
}
```

```java
class Solution {
    public int maxProfit(int[] prices) {
        if (prices.length <= 1)
            return 0;
        int max = 0, lastMin = prices[0];
        for (int i = 1; i < prices.length; ++i) {
            max = Math.max(max, prices[i] - lastMin);
            lastMin = Math.min(lastMin, prices[i]);
        }
        return max;
    }
}
```



## 46.[äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª**éç©º**äºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚
>
> æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œæ²¿çˆ¶èŠ‚ç‚¹-å­èŠ‚ç‚¹è¿æ¥ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„**è‡³å°‘åŒ…å«ä¸€ä¸ª**èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š[1,2,3]
> 
>        1
>       / \
>      2   3
> 
> è¾“å‡ºï¼š6
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼š[-10,9,20,null,null,15,7]
> 
>    -10
>    / \
>   9  20
>     /  \
>    15   7
> 
> è¾“å‡ºï¼š42
> ```

**æ€è·¯ï¼š**

[ã€äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œã€‘é€’å½’ï¼Œæ¡ç†æ¸…æ™° - äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/er-cha-shu-zhong-de-zui-da-lu-jing-he-by-ikaruga/)

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨è§„+åç»­éå†
    å…ˆè®¡ç®—å½“å‰èŠ‚ç‚¹curçš„å·¦å­æ ‘ä¸å³å­æ ‘çš„æœ€å¤§å€¼ï¼Œè‹¥å…¶å¤§äº0åˆ™å°†å…¶ä¸cur.valç›¸åŠ å¹¶è¿”å›ï¼Œå¦åˆ™ç›´æ¥è¿”å›cur.val
    æœ‰ä¸‰ç§æƒ…å†µï¼š
    1.å·¦å­æ ‘å’Œ + root.val + å³å­æ ‘å’Œ
    2.å·¦å­æ ‘å’Œ + root.val + rootçš„çˆ¶èŠ‚ç‚¹å’Œ
    3.å³å­æ ‘å’Œ + root.val + rootçš„çˆ¶èŠ‚ç‚¹å’Œ
    */
    int max;
    public int maxPathSum(TreeNode root) {
        max = root.val;
        dfs(root);
        return max;
    }

    public int dfs(TreeNode root) {
        if (root == null)
            return 0;
        int left = dfs(root.left);
        int right = dfs(root.right);
        //å³ç¬¬ä¸€ç§æƒ…å†µ
        int curSUm = root.val + Math.max(0, left) + Math.max(0, right);
        //åä¸¤ç§æƒ…å†µ
        int goOn = root.val + Math.max(0, Math.max(left, right));
        max = Math.max(curSUm, max);
        return goOn;
    }
}
```



## 47.[æœ€é•¿è¿ç»­åºåˆ—](https://leetcode-cn.com/problems/longest-consecutive-sequence/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚
>
>  
>
> **è¿›é˜¶ï¼š**ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
> è¾“å‡ºï¼š9
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `0 <= nums.length <= 104`
> - `-109 <= nums[i] <= 109`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’ + å“ˆå¸Œè¡¨(key:i,value:len)
    éå†æ•°ç»„numsï¼Œå¯¹éå†åˆ°çš„æ¯ä¸ªå…ƒç´ nums[i]åœ¨mapç§å¯»æ‰¾å…¶å·¦å³å…ƒç´ nums[i] - 1ä¸nums[] + 1
    è‹¥å­˜åœ¨ï¼Œåˆ™è·Ÿæ–°å®ƒä»¬ä¸¤ç«¯æ•°å­—çš„é•¿åº¦ä¸ºlen = map.get(nums[i] - 1) + map.get(nums[i] + 1)
    å³æ›´æ–°nums[i] - map.get(nums[i] - 1) ä¸ nums[i] + map.get(nums[i] + 1)è¿™ä¸¤ä¸ªç«¯ç‚¹
    å› ä¸ºåªæœ‰åºåˆ—çš„ç«¯ç‚¹æ‰ä¸é•¿åº¦æœ‰å…³ï¼Œåºåˆ—ä¸­é—´å…ƒç´ çš†å¯å¿½ç•¥
    */
    public int longestConsecutive(int[] nums) {
        HashMap<Integer, Integer> map = new HashMap<>();
        int max = 0;
        for (int num : nums) {
            if (map.containsKey(num))
                continue;
            int left = map.getOrDefault(num - 1, 0);
            int right = map.getOrDefault(num + 1, 0);
            int len = left + right + 1;
            map.put(num, len);
            map.put(num - left, len);
            map.put(num + right, len);
            max = Math.max(max, len);
        }
        return max;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ’åºåéå†æ•°ç»„
    */
    public int longestConsecutive(int[] nums) {
        if (nums.length < 1)
            return 0;
        Arrays.sort(nums);
        int maxLen = 1;
        int curLen = 1;
â€¦        return maxLen;
    }
}
```



## 48.[åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode-cn.com/problems/single-number/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª**éç©º**æ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚
>
> **è¯´æ˜ï¼š**
>
> ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [2,2,1]
> è¾“å‡º: 1
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [4,1,2,1,2]
> è¾“å‡º: 4
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¼‚æˆ–çš„ç‰¹æ€§
    */
    public int singleNumber(int[] nums) {
        int res = 0;
        for (int num : nums) {
            res ^= num;
        }
        return res;
    }
}
```



## 49.[å•è¯æ‹†åˆ†](https://leetcode-cn.com/problems/word-break/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª**éç©º**å­—ç¬¦ä¸² *s* å’Œä¸€ä¸ªåŒ…å«**éç©º**å•è¯çš„åˆ—è¡¨ *wordDict*ï¼Œåˆ¤å®š *s* æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚
>
> **è¯´æ˜ï¼š**
>
> - æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
> - ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
> è¾“å‡º: true
> è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥è¢«æ‹†åˆ†æˆ "leet code"ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
> è¾“å‡º: true
> è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥è¢«æ‹†åˆ†æˆ "apple pen apple"ã€‚
>      æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
> è¾“å‡º: false
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè®°å¿†åŒ–å›æº¯
    å°†å›æº¯è¿‡ç¨‹ä¸­éå†åˆ°çš„å­ä¸²æ˜¯å¦åŒ¹é…ä¿å­˜åˆ°booleanæ•°ç»„ä¸­ä»è€Œä¼˜åŒ–æ—¶é—´æ•ˆç‡
    */

    HashSet<String> set;
    boolean[] isNotOk;
    public boolean wordBreak(String s, List<String> wordDict) {
        set = new HashSet<>(wordDict);
        isNotOk = new boolean[s.length()];
        return dfs(0, s);
    }

    public boolean dfs(int start, String str) {
        if (str.length() == 0)
            return true;
        if (isNotOk[start])
            return false;
        for (int i = 0; i < str.length(); ++i) {
            if (set.contains(str.substring(0, i + 1))) {
                if (dfs(start + i + 1, str.substring(i + 1)))
                    return true;
            }
        }
        isNotOk[start] = true;
        return false;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œè¡¨ + åŠ¨è§„
    */
    public boolean wordBreak(String s, List<String> wordDict) {
        HashMap<String, Boolean> dic = new HashMap<>();
        for (String str : wordDict) {
            dic.put(str, false);
        }
        int len = s.length();
        boolean[] dp = new boolean[len + 1];
        dp[0] = true;
        for (int i = 1; i <= len; ++i) {
            for (int j = i - 1; j >= 0; j--) {
                String sub = s.substring(j, i);
                if (dic.containsKey(sub) && dp[j]) {
                    dp[i] = true;
                    break;
                }
            }
        }
        return dp[len];
    }
}
```

## 50.[ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚
>
> å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª `next` æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼š`pos` ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’**ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚
>
> å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œåˆ™è¿”å› `true` ã€‚ å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
>  
>
> **è¿›é˜¶ï¼š**
>
> ä½ èƒ½ç”¨ *O(1)*ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist.png)
>
> ```
> è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
> è¾“å‡ºï¼štrue
> è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist_test2.png)
>
> ```
> è¾“å…¥ï¼šhead = [1,2], pos = 0
> è¾“å‡ºï¼štrue
> è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist_test3.png)
>
> ```
> è¾“å…¥ï¼šhead = [1], pos = -1
> è¾“å‡ºï¼šfalse
> è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ `[0, 104]`
> - `-105 <= Node.val <= 105`
> - `pos` ä¸º `-1` æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª **æœ‰æ•ˆç´¢å¼•** ã€‚

**æ€è·¯ï¼š**

[9ç§è§£å†³æ–¹å¼ï¼Œ8ç§å‡»è´¥äº†100%çš„ç”¨æˆ· - ç¯å½¢é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/linked-list-cycle/solution/3chong-jie-jue-fang-shi-liang-chong-ji-bai-liao-10/)

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆ
    */
    public boolean hasCycle(ListNode head) {
        ListNode pre = head, slow = head;
        while (pre != null) {
            pre = pre.next;
            if (pre != null)
                pre = pre.next;
            if (slow == pre)
                return true;
            slow = slow.next;
        }
        return false;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé“¾è¡¨åè½¬
    è‹¥é“¾è¡¨å­˜åœ¨ç¯ï¼Œé‚£ä¹ˆåè½¬ä¹‹åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ä¼šæ˜¯åŸæ¥çš„èŠ‚ç‚¹ï¼ˆç”»ä¸ªå›¾å°±èƒ½ç†è§£ï¼‰
    */
    public boolean hasCycle(ListNode head) {
        ListNode newHead =  reverseList(head);
        //æœ‰å¯èƒ½åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ‰€ä»¥éœ€è¦ä¸¤ä¸ªéç©ºåˆ¤æ–­
        if (head != null && head.next != null && head == newHead) {
            return true;
        }
        return false;
    }

    public ListNode reverseList(ListNode head) {
        ListNode last = null;
        while (head != null) {
            ListNode next = head.next;
            head.next = last;
            last = head;
            head = next;
        }
        return last;
    }
}
```



## 52.[ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚
>
> ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼Œ`pos` ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚**
>
> **è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚
>
> **è¿›é˜¶ï¼š**
>
> - ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ `O(1)` ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist.png)
>
> ```
> è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
> è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹
> è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist_test2.png)
>
> ```
> è¾“å…¥ï¼šhead = [1,2], pos = 0
> è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹
> è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ![img](E:/program files/Topora images/circularlinkedlist_test3.png)
>
> ```
> è¾“å…¥ï¼šhead = [1], pos = -1
> è¾“å‡ºï¼šè¿”å› null
> è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ `[0, 104]` å†…
> - `-105 <= Node.val <= 105`
> - `pos` çš„å€¼ä¸º `-1` æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆï¼ˆä¼˜åŒ–ï¼‰
    è®¾é“¾è¡¨å…±æœ‰a + bä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­é“¾è¡¨å¤´éƒ¨åˆ°é“¾è¡¨å…¥å£å…±æœ‰aä¸ªèŠ‚ç‚¹ï¼Œé“¾è¡¨ç¯å…±æœ‰bä¸ªèŠ‚ç‚¹ï¼Œè®¾ä¸¤æŒ‡é’ˆåˆ†åˆ«èµ°äº†f,sæ­¥ï¼Œåˆ™æœ‰ï¼š
    1.fastèµ°çš„æ­¥æ•°ä¸€å®šæ˜¯slowçš„2å€ï¼Œå³ f = 2 * s (è§£æ:fastæ¯è½®èµ°2æ­¥ï¼Œslowæ¯è½®èµ°1æ­¥)
    2.fast æ¯” slow å¤šèµ°äº†nä¸ªç¯çš„é•¿åº¦ï¼Œå³f = s + n * b;(è§£æ:åŒæŒ‡é’ˆéƒ½èµ°è¿‡aæ­¥ï¼Œç„¶ååœ¨ç¯å†…ç»•åœˆç›´åˆ°é‡åˆï¼Œé‡åˆæ—¶fastæ¯”slowå¤šèµ°ç¯çš„é•¿åº¦æ•´æ•°å€)
    ä»¥ä¸Šä¸¤å¼ç›¸å‡å¾— f = 2nb, s = nb,å³fastå’ŒslowæŒ‡é’ˆåˆ†åˆ«èµ°äº†2n,nä¸ªç¯å‘¨é•¿
    å¦‚æœè®©æŒ‡é’ˆä»é“¾è¡¨å¤´éƒ¨ä¸€ç›´å‘å‰èµ°å¹¶ç»Ÿè®¡æ­¥æ•°kï¼Œé‚£ä¹ˆæ‰€æœ‰èµ°åˆ°é“¾è¡¨å…¥å£èŠ‚ç‚¹æ—¶å¾—æ­¥æ•°æ˜¯ï¼šk = a + n * b (è§£æï¼šå…ˆèµ°aæ­¥åˆ°å…¥å£èŠ‚ç‚¹ï¼Œç„¶åæ²¡ç»•ä¸€åœˆéƒ½ä¼šå†æ¬¡åˆ°å…¥å£èŠ‚ç‚¹)
    è€Œç›®å‰slowä¸fastå·²ç»èµ°äº†æ•´æ•°å€bï¼Œå› æ­¤æˆ‘ä»¬åªè¦æƒ³åŠæ³•å†è®©fastå†èµ°aæ­¥åœä¸‹æ¥å³å¯æ‰¾åˆ°ç¯å¾—å…¥å£
    æ­¤æ—¶é—®é¢˜å·²ç»è½¬æ¢æˆç±»ä¼¼å¯»æ‰¾å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹çš„é—®é¢˜äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å†å°†slowæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åslowä¸faståŒæ—¶å‘å‰èµ°ç›´åˆ°ç¢°æ’ä¸ºæ­¢
    */
    public ListNode detectCycle(ListNode head) {
        ListNode pre = head;
        ListNode slow = head;
        //å…ˆè®©ä¸¤ä¸ªæŒ‡é’ˆé‡åˆ
        while (true) {
            if (pre == null || pre.next == null)
                return null;
            pre = pre.next.next;
            slow = slow.next;
            if (pre == slow)
                break;
        }
        slow = head;
        while (slow != pre) {
            slow = slow.next;
            pre = pre.next;
        }
        return pre;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œè¡¨
    æ¯éå†ä¸€ä¸ªèŠ‚ç‚¹å°±å­˜å…¥mapä¸­ï¼Œè‹¥é‡åˆ°ç›¸åŒçš„èŠ‚ç‚¹åˆ™è¿”å›å®ƒ
    å¦åˆ™è¿”å›null
    */ 
    public ListNode detectCycle(ListNode head) {
        HashSet<ListNode> dic = new HashSet<>();
        ListNode pNode = head;
        while (pNode != null) {
            if (dic.contains(pNode))
                return pNode;
            dic.add(pNode);
            pNode = pNode.next;
        }
        return null;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆ
    1.åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆè®¡ç®—å‡ºç¯çš„é•¿åº¦m
    2.è®¡ç®—å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹
    */
    public ListNode detectCycle(ListNode head) {
        ListNode pre = head;
        ListNode slow = head;
        //1.1å…ˆè®©ä¸¤ä¸ªæŒ‡é’ˆé‡åˆ
        while (pre != null) {
            pre = pre.next;
            if (pre != null)
                pre = pre.next;
            if (pre == slow)
                break;
            slow = slow.next;
        }
        if (pre == null)
            return null;
        //1.2å†è®©ä¸¤ä¸ªæŒ‡é’ˆèµ°ä¸€éï¼Œæ ¹æ®å¿«æŒ‡é’ˆæ­¥æ•°-æ…¢æŒ‡é’ˆæ­¥æ•°å³å¯è®¡ç®—å‡ºm
        int preCount = 0;
        int slowCount = 0;
        while (true) {
            pre = pre.next.next;
            preCount += 2;
            if (pre == slow)
                break;
            slow = slow.next;
            slowCount += 1;
        }
        int m = preCount - slowCount;
        //2.1å†è®©preä¸slowå›åˆ°å¤´èŠ‚ç‚¹ï¼Œä½¿preå…ˆèµ°m - 1æ­¥
        pre = head;
        slow = head;
        for (int i = 0; i < m - 1; ++i) {
            pre = pre.next;
        }
        while (pre.next != slow) {
            pre = pre.next;
            slow = slow.next;
        }
        return slow;
    }
}



```



## 52.[LRU ç¼“å­˜æœºåˆ¶](https://leetcode-cn.com/problems/lru-cache/)

**é¢˜ç›®ï¼š**

> è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª [LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶](https://baike.baidu.com/item/LRU) ã€‚
>
> å®ç° `LRUCache` ç±»ï¼š
>
> - `LRUCache(int capacity)` ä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ `capacity` åˆå§‹åŒ– LRU ç¼“å­˜
> - `int get(int key)` å¦‚æœå…³é”®å­— `key` å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› `-1` ã€‚
> - `void put(int key, int value)` å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—-å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚
>
>  
>
> **è¿›é˜¶**ï¼šä½ æ˜¯å¦å¯ä»¥åœ¨ `O(1)` æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> è¾“å…¥
> ["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]
> [[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]
> è¾“å‡º
> [null, null, null, 1, null, -1, null, -1, 3, 4]
> 
> è§£é‡Š
> LRUCache lRUCache = new LRUCache(2);
> lRUCache.put(1, 1); // ç¼“å­˜æ˜¯ {1=1}
> lRUCache.put(2, 2); // ç¼“å­˜æ˜¯ {1=1, 2=2}
> lRUCache.get(1);    // è¿”å› 1
> lRUCache.put(3, 3); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {1=1, 3=3}
> lRUCache.get(2);    // è¿”å› -1 (æœªæ‰¾åˆ°)
> lRUCache.put(4, 4); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {4=4, 3=3}
> lRUCache.get(1);    // è¿”å› -1 (æœªæ‰¾åˆ°)
> lRUCache.get(3);    // è¿”å› 3
> lRUCache.get(4);    // è¿”å› 4
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= capacity <= 3000`
> - `0 <= key <= 3000`
> - `0 <= value <= 104`
> - æœ€å¤šè°ƒç”¨ `3 * 104` æ¬¡ `get` å’Œ `put`

**æ€è·¯ï¼š**

[æºäº LinkedHashMapæºç  - LRU ç¼“å­˜æœºåˆ¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/lru-cache/solution/yuan-yu-linkedhashmapyuan-ma-by-jeromememory/)

[å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨ï¼ˆJavaï¼‰ - LRU ç¼“å­˜æœºåˆ¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/lru-cache/solution/ha-xi-biao-shuang-xiang-lian-biao-java-by-liweiw-2/)

**ä»£ç ï¼š**

```java
class LRUCache {
    /*
    è§£é¢˜æ€è·¯ï¼šæ¨¡æ‹ŸLinkedHashMap
    */
    final int capacity;
    //å®šä¹‰å¤´å°¾å“¨å…µèŠ‚ç‚¹
    ListNode head;
    ListNode tail;
    HashMap<Integer, ListNode> map;
    int size = 0;
    //è‡ªå®šä¹‰åŒå‘é“¾è¡¨
    class ListNode {
        public int key;
        public int value;
        public ListNode pre;
        public ListNode next;
        public ListNode (int key, int value) {
            this.key = key;
            this.value = value;
        }
    }

    public LRUCache(int capacity) {
        this.capacity = capacity;
        map = new HashMap<>();
        head = new ListNode(-1, -1);
        tail = new ListNode(-1, -1);
        this.head.next = this.tail;
        this.tail.pre = this.head;
    }
    
    public int get(int key) {
        if (map.containsKey(key)) {
            ListNode pNode = map.get(key);
            moveNode2Head(pNode);
            return pNode.value;
        }
        return -1;
    }
    
    public void put(int key, int value) {
        //è‹¥å­˜åœ¨
        if (map.containsKey(key)) {
            ListNode pNode = map.get(key);
            pNode.value = value;
            //æ”¾åˆ°å¤´éƒ¨
            moveNode2Head(pNode);
        } else {
            if (size == capacity) {
                 map.remove(removeTail().key);
                 --size;
            }
            ++size;
            ListNode pNode = new ListNode(key, value);
            map.put(key, pNode);
            addNode2Head(pNode);
        }
    }

    public void moveNode2Head(ListNode pNode) {
        //1.å…ˆåˆ é™¤è¯¥èŠ‚ç‚¹
        pNode.pre.next = pNode.next;
        pNode.next.pre = pNode.pre;
        //2.å°†è¯¥èŠ‚ç‚¹æ’å…¥å¤´èŠ‚ç‚¹åé¢
        addNode2Head(pNode);
    }

    public ListNode removeTail() {
        ListNode pNode = tail.pre;
        pNode.pre.next = tail;
        tail.pre = pNode.pre;
        pNode.pre = null;
        pNode.next = null;
        return pNode;
    }

    public void addNode2Head(ListNode pNode) {
        //è°ƒæ•´è¯¥èŠ‚ç‚¹çš„æŒ‡é’ˆ
        pNode.next = head.next;
        pNode.pre = head;
        //æŒ‘æˆ˜headä¸head.nextçš„æŒ‡é’ˆ
        head.next.pre = pNode;
        head.next = pNode;
    }
}

/**
 * Your LRUCache object will be instantiated and called as such:
 * LRUCache obj = new LRUCache(capacity);
 * int param_1 = obj.get(key);
 * obj.put(key,value);
 */
```

```java
class LRUCache extends LinkedHashMap<Integer, Integer>{
    private int capacity;
    
    public LRUCache(int capacity) {
        super(capacity, 0.75F, true);
        this.capacity = capacity;
    }

    public int get(int key) {
        return super.getOrDefault(key, -1);
    }

    // è¿™ä¸ªå¯ä¸å†™
    public void put(int key, int value) {
        super.put(key, value);
    }

    @Override
    protected boolean removeEldestEntry(Map.Entry<Integer, Integer> eldest) {
        return size() > capacity; 
    }
}

```

## 53.[æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/sort-list/)

**é¢˜ç›®ï¼š**

> ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ `head` ï¼Œè¯·å°†å…¶æŒ‰ **å‡åº** æ’åˆ—å¹¶è¿”å› **æ’åºåçš„é“¾è¡¨** ã€‚
>
> **è¿›é˜¶ï¼š**
>
> - ä½ å¯ä»¥åœ¨ `O(n log n)` æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºå—ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/sort_list_1.jpg)
>
> ```
> è¾“å…¥ï¼šhead = [4,2,1,3]
> è¾“å‡ºï¼š[1,2,3,4]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](E:/program files/Topora images/sort_list_2.jpg)
>
> ```
> è¾“å…¥ï¼šhead = [-1,5,3,4,0]
> è¾“å‡ºï¼š[-1,0,3,4,5]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šhead = []
> è¾“å‡ºï¼š[]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ `[0, 5 * 104]` å†…
> - `-105 <= Node.val <= 105`

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/sort-list/solution/sort-list-gui-bing-pai-xu-lian-biao-by-jyd/

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå½’å¹¶ + è™šæ‹Ÿå¤´æŒ‡é’ˆ
    é—®é¢˜ï¼›å¦‚ä½•å°†é“¾è¡¨ä¸€åˆ†ä¸ºäºŒ
    è§£å†³æ–¹æ¡ˆï¼šéå†ä¸€éé“¾è¡¨ï¼Œå»ºç«‹å¯¹åº”çš„é›†åˆï¼Œå°±å¯ä»¥ä½¿ç”¨æŒ‡é’ˆæ¥è®¿é—®æ¯ä¸ªèŠ‚ç‚¹äº†
    */
    List<ListNode> list;
    public ListNode sortList(ListNode head) {
        if (head == null)
            return null;
        list = new ArrayList<ListNode>();
        ListNode pNode = head;
        while (pNode != null) {
            list.add(pNode);
            pNode = pNode.next;
        }
        return divedeAndMerge(0, list.size() - 1);
    }

    public ListNode divedeAndMerge(int left, int right) {
        if (left == right)
            return list.get(left);
        int mid = (left + right) / 2;
        ListNode leftHead = divedeAndMerge(left, mid);
        ListNode rightHead = divedeAndMerge(mid + 1, right);

        ListNode head = new ListNode(-1);
        ListNode pNode = head;

        int i = left, j = mid + 1;
        while (i <= mid || j <= right) {
            if (i == mid + 1) {
                pNode.next = rightHead;
                rightHead = rightHead.next;
                ++j;
            } else if (j == right + 1) {
                pNode.next = leftHead;
                leftHead = leftHead.next;
                ++i;
            } else if (leftHead.val < rightHead.val) {
                pNode.next = leftHead;
                leftHead = leftHead.next;
                ++i;
            } else {
                pNode.next = rightHead;
                rightHead = rightHead.next;
                ++j;
            }
            pNode = pNode.next;
        }
        pNode.next = null;
        return head.next;
    }
}
```



```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆåˆ†å‰² + å½’å¹¶
    */
    public ListNode sortList(ListNode head) {
        if (head == null || head.next == null)
            return head;
        ListNode fast = head.next, slow = head;
        //ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆåˆ†å‰²é“¾è¡¨ï¼Œå½“é“¾è¡¨ä¸ªæ•°ä¸ºå¥‡æ•°æ—¶ï¼ŒslowæŒ‡å‘ä¸­é—´èŠ‚ç‚¹ï¼Œä¸ºå¶æ•°åˆ™æ‰¾åˆ°ä¸­å¿ƒå·¦ä¾§çš„èŠ‚ç‚¹
        while (fast != null && fast.next != null) {
            fast = fast.next.next;
            slow = slow.next;
        }
        ListNode tmp = slow.next;
        //æ–­å¼€é“¾è¡¨é˜²æ­¢æˆç¯
        slow.next = null;
        ListNode left = sortList(head);
        ListNode right = sortList(tmp);
        ListNode newHead = new ListNode(-1);
        ListNode pNode = newHead;
        while (left != null && right != null) {
            if (left.val < right.val) {
                pNode.next = left;
                left = left.next;
            } else {
                pNode.next = right;
                right = right.next;
            }
            pNode = pNode.next;
        }
        pNode.next = left == null ? right : left;
        return newHead.next;
    }
}
```



## 54.[ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/)

**é¢˜ç›®ï¼š**

> 
> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„è¿ç»­å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [2,3,-2,4]
> è¾“å‡º: 6
> è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [-2,0,-1]
> è¾“å‡º: 0
> è§£é‡Š: ç»“æœä¸èƒ½ä¸º 2, å› ä¸º [-2,-1] ä¸æ˜¯å­æ•°ç»„ã€‚
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    ä»¤imaxä¸ºå½“å‰æœ€å¤§å€¼ imax = max (imax * nums[i], nums[i])
    ç”±äºå­˜åœ¨è´Ÿæ•°ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœ€å¤§å˜ä¸ºæœ€å°çš„ï¼Œæœ€å°å˜ä¸ºæœ€å¤§çš„ã€‚å› æ­¤è¿˜éœ€è¦ç»´æŠ¤å½“å‰æœ€å°å€¼imin = min (imin * nums[i], nums[i])
    å½“å‰å…ƒç´ æ˜¯è´Ÿæ•°æ—¶ï¼Œå°†imax ä¸ iminè¿›è¡Œäº¤æ¢å†è®¡ç®—
    */
    public int maxProduct(int[] nums) {
        int len = nums.length;
        if (len == 0)
            return 0;
        int max = nums[0], imax = 1, imin = 1;
        for (int num : nums) {
            if (num < 0) {
                int tmp = imax;
                imax = imin;
                imin = tmp;
            }
            imax = Math.max(imax * num, num);
            imin = Math.min(imin * num, num);
            max = Math.max(max, imax);
        }
        return max;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæš´åŠ›è§£å†³
    */
    public int maxProduct(int[] nums) {
        int len = nums.length;
        if (len <= 0)
            return 0;
        int max = nums[0];
        for (int i = 0; i < len; ++i) {
            int dp[] = new int[len];
            for (int j = i; j < len; ++j) {
                if (j == i)
                    dp[j] = nums[i];
                else
                    dp[j] = dp[j - 1] * nums[j];
                max = Math.max(max, dp[j]);
            }
        }
        return max;
    }
}
```



## 55.[æœ€å°æ ˆ](https://leetcode-cn.com/problems/min-stack/)

**é¢˜ç›®ï¼š**

> è®¾è®¡ä¸€ä¸ªæ”¯æŒ `push` ï¼Œ`pop` ï¼Œ`top` æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚
>
> - `push(x)` â€”â€” å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚
> - `pop()` â€”â€” åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚
> - `top()` â€”â€” è·å–æ ˆé¡¶å…ƒç´ ã€‚
> - `getMin()` â€”â€” æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚
>
>  
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥ï¼š
> ["MinStack","push","push","push","getMin","pop","top","getMin"]
> [[],[-2],[0],[-3],[],[],[],[]]
> 
> è¾“å‡ºï¼š
> [null,null,null,null,-3,null,0,-2]
> 
> è§£é‡Šï¼š
> MinStack minStack = new MinStack();
> minStack.push(-2);
> minStack.push(0);
> minStack.push(-3);
> minStack.getMin();   --> è¿”å› -3.
> minStack.pop();
> minStack.top();      --> è¿”å› 0.
> minStack.getMin();   --> è¿”å› -2.
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `pop`ã€`top` å’Œ `getMin` æ“ä½œæ€»æ˜¯åœ¨ **éç©ºæ ˆ** ä¸Šè°ƒç”¨ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class MinStack {
    /*
    è§£é¢˜æ€è·¯ï¼šè¾…åŠ©æ ˆ
    æ ˆçš„ç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡ºï¼Œæ‰€ä»¥åªéœ€è¦è®¾ç½®ä¸€ä¸ªæœ€å°å…ƒç´ æ ˆï¼Œæ¯æ¬¡éƒ½å­˜å…¥å½“å‰çš„æœ€å°å…ƒç´ 
    å¹¶éšç€ä¸»æ•°æ®æ ˆå¼¹å‡ºå…ƒç´ å³å¯
    */
    /** initialize your data structure here. */
    Deque<Integer> data;
    Deque<Integer> min;
    public MinStack() {
        data = new ArrayDeque<>();
        min = new ArrayDeque<>();
    }
    
    public void push(int x) {
        data.offer(x);
        if (min.isEmpty()) {
            min.offer(x);
        } else {
            if (min.peekLast() < x)
                min.offer(min.peekLast());
            else
                min.offer(x);
        }
    }
    
    public void pop() {
        data.pollLast();
        min.pollLast();
    }
    
    public int top() {
        return data.peekLast();
    }
    
    public int getMin() {
        return min.peekLast();
    }
}

```



## 56.[ç›¸äº¤é“¾è¡¨](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

**é¢˜ç›®ï¼š**

> ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚
>
> å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨**ï¼š**
>
> [![img](E:/program files/Topora images/160_statement.png)](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png)
>
> åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> [![img](E:/program files/Topora images/160_example_1.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_1.png)
>
> ```
> è¾“å…¥ï¼šintersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3
> è¾“å‡ºï¼šReference of the node with value = 8
> è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚
> ```
>
>  
>
> **ç¤ºä¾‹ 2ï¼š**
>
> [![img](E:/program files/Topora images/160_example_2.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_2.png)
>
> ```
> è¾“å…¥ï¼šintersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1
> è¾“å‡ºï¼šReference of the node with value = 2
> è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚
> ```
>
>  
>
> **ç¤ºä¾‹ 3ï¼š**
>
> [![img](E:/program files/Topora images/160_example_3.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_3.png)
>
> ```
> è¾“å…¥ï¼šintersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2
> è¾“å‡ºï¼šnull
> è¾“å…¥è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚
> è§£é‡Šï¼šè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› nullã€‚
> ```
>
>  
>
> **æ³¨æ„ï¼š**
>
> - å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› `null`.
> - åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚
> - å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚
> - ç¨‹åºå°½é‡æ»¡è¶³ O(*n*) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(*1*) å†…å­˜ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé“¾è¡¨äº¤æ¢
    è®¾é•¿é“¾è¡¨ä¸çŸ­é“¾è¡¨çš„é•¿åº¦å·®ä¸ºk,ä¸¤æŒ‡é’ˆa,båˆ†åˆ«æŒ‡å‘headAä¸headBå¹¶åŒæ—¶å‘å‰ç§»åŠ¨
    å½“å…¶ä¸­ä¸€ä¸ªèµ°åˆ°nullæ—¶ï¼Œå®ƒä»¬çš„è·ç¦»å°±ä¸ºk,æ­¤æ—¶å°†aæŒ‡å‘headBï¼Œç»§ç»­å‘å‰èµ°ï¼Œ
    ç›´åˆ°bä¹ŸæŒ‡å‘nullæ—¶ä½¿å®ƒæŒ‡å‘headAï¼Œæ­¤æ—¶aæŒ‡é’ˆå°±èƒ½æ°å¥½èµ°å®Œkæ­¥ï¼Œä¸¤æŒ‡é’ˆå°±èƒ½åŒæ­¥å‘å‰èµ°
    */
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        ListNode nodeA = headA, nodeB = headB;
        while (nodeA != nodeB) {
            nodeA = nodeA == null ? headB : nodeA.next;
            nodeB = nodeB == null ? headA : nodeB.next;
        }
        return nodeB;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ™®é€šéå†
    */
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        int lenA = 0, lenB = 0;
        ListNode nodeA = headA, nodeB = headB;
        while (nodeA != null) {
            ++lenA;
            nodeA = nodeA.next;
        }
        while (nodeB != null) {
            ++lenB;
            nodeB = nodeB.next;
        }
        nodeA = headA;
        nodeB = headB;
        //lenAæ€»æ˜¯æ›´é•¿çš„é‚£ä¸ª
        if (lenA < lenB) {
            int tmp = lenA;
            lenA = lenB;
            lenB = tmp;
            nodeA = headB;
            nodeB = headA;
        }
        for (int i = 0 ; i < lenA - lenB; ++i) {
            nodeA = nodeA.next;
        }
        while (nodeA != nodeB) {
            nodeA = nodeA.next;
            nodeB = nodeB.next;
        }
        return nodeA;
    }
}




```



## 57.[å¤šæ•°å…ƒç´ ](https://leetcode-cn.com/problems/majority-element/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªå¤§å°ä¸º *n* çš„æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°**å¤§äº** `âŒŠ n/2 âŒ‹` çš„å…ƒç´ ã€‚
>
> ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [3,2,3]
> è¾“å‡º: 3
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [2,2,1,1,1,2,2]
> è¾“å‡º: 2
> ```

**æ€è·¯ï¼š**

[å¤šæ•°å…ƒç´  - å¤šæ•°å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/majority-element/solution/duo-shu-yuan-su-by-leetcode-solution/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ‘©å°”æŠ•ç¥¨æ³•
    å€™é€‰äºº(cand_num)åˆå§‹åŒ–ä¸ºnums[0]ï¼Œç¥¨æ•°countåˆå§‹åŒ–ä¸º1ã€‚
    å½“é‡åˆ°ä¸cand_numç›¸åŒçš„æ•°ï¼Œåˆ™ç¥¨æ•°count = count + 1ï¼Œå¦åˆ™ç¥¨æ•°count = count - 1ã€‚
    å½“ç¥¨æ•°countä¸º0æ—¶ï¼Œæ›´æ¢å€™é€‰äººï¼Œå¹¶å°†ç¥¨æ•°counté‡ç½®ä¸º1ã€‚
    éå†å®Œæ•°ç»„åï¼Œcand_numå³ä¸ºæœ€ç»ˆç­”æ¡ˆã€‚
    */
    public int majorityElement(int[] nums) {
        int len = nums.length;
        int cnt = 1, lastNum = nums[0];
        for (int i = 1; i < len; ++i) {
            if (lastNum == nums[i]) {
                ++cnt;
            } else {
                --cnt;
                if (cnt == 0) {
                    lastNum = nums[i];
                    ++cnt;
                }
            }
        }
        return lastNum;
    }
}
```



## 58.[ æ‰“å®¶åŠ«èˆ](https://leetcode-cn.com/problems/house-robber/)

**é¢˜ç›®ï¼š**

> ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ**å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦**ã€‚
>
> ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  **ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹** ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š[1,2,3,1]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚
>      å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼š[2,7,9,3,1]
> è¾“å‡ºï¼š12
> è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚
>      å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `0 <= nums.length <= 100`
> - `0 <= nums[i] <= 400`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    dp[i] = max(dp[i - 2] + nums[i], dp[i - 1])
    */
    public int rob(int[] nums) {
        int twoBefor = 0, oneBefor = 0, tmp;
        for (int i = 0; i < nums.length; ++i) {
            tmp = oneBefor;
            oneBefor = Math.max(twoBefor + nums[i], oneBefor);
            twoBefor = tmp;
        }
        return oneBefor;
    }
}
```



## 59.[ å²›å±¿æ•°é‡](https://leetcode-cn.com/problems/number-of-islands/)

**é¢˜ç›®ï¼š**

ç»™ä½ ä¸€ä¸ªç”± `'1'`ï¼ˆé™†åœ°ï¼‰å’Œ `'0'`ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚

å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","1","1","0"],
  ["1","1","0","1","0"],
  ["1","1","0","0","0"],
  ["0","0","0","0","0"]
]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šgrid = [
  ["1","1","0","0","0"],
  ["1","1","0","0","0"],
  ["0","0","1","0","0"],
  ["0","0","0","1","1"]
]
è¾“å‡ºï¼š3
```

 

**æç¤ºï¼š**

- `m == grid.length`
- `n == grid[i].length`
- `1 <= m, n <= 300`
- `grid[i][j]` çš„å€¼ä¸º `'0'` æˆ– `'1'`

**æ€è·¯ï¼š**

[200. å²›å±¿æ•°é‡ï¼ˆDFS / BFSï¼‰ - å²›å±¿æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/number-of-islands/solution/number-of-islands-shen-du-you-xian-bian-li-dfs-or-/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šDFS
    */
    int cols;
    int rows;
    char grid[][];
    public int numIslands(char[][] grid) {
        this.cols = grid[0].length;
        this.rows = grid.length;
        this.grid = grid;
        int cnt = 0;
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (grid[i][j] == '1') {
                    ++cnt;
                    dfs(i, j);
                }
            }
        }
        return cnt;
    }

    public void dfs(int i, int j) {
        if (i >= 0 && i < rows && j >= 0 && j < cols && grid[i][j] == '1') {
            grid[i][j] = '0';
            dfs(i + 1, j);
            dfs(i, j + 1);
            dfs(i - 1, j);
            dfs(i, j - 1);
        }
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šBFS
    éå†æ¯ä¸ªé™†åœ°èŠ‚ç‚¹ï¼Œè‹¥å…¶æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™ä½¿ç”¨bfså¯¹å…¶éå†ï¼Œå¹¶å°†è®¿é—®è¿‡çš„èŠ‚ç‚¹æ ‡è®°ä¸º2ï¼Œå¹¶æ›´æ–°è®¡æ•°å˜é‡++cnt
    */
    int[][] direc = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    int rows, cols;
    public int numIslands(char[][] grid) {
        int cnt = 0;
        this.rows = grid.length;
        this.cols = grid[0].length;
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (grid[i][j] == '1') {
                    ++cnt;
                    bfs(grid, i, j);
                }
            }
        }
        return cnt;
    }

    public void bfs(char[][] grid, int i, int j) {
        Deque<int[]> queue = new ArrayDeque<>();
        queue.add(new int[]{i, j});
        while (!queue.isEmpty()) {
            int[] cur = queue.remove();
            i = cur[0];
            j = cur[1];
            if (i >= 0 && i < rows && j >= 0 && j < cols && grid[i][j] == '1') {
                grid[i][j] = '0';
                for (int[] d : direc) {
                    queue.add(new int[]{i + d[0], j + d[1]});
                }
            }
        }
    }
}
```



## 60.[åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/reverse-linked-list/)

**é¢˜ç›®ï¼š**

> åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: 1->2->3->4->5->NULL
> è¾“å‡º: 5->4->3->2->1->NULL
> ```
>
> **è¿›é˜¶:**
> ä½ å¯ä»¥è¿­ä»£æˆ–é€’å½’åœ°åè½¬é“¾è¡¨ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè¿­ä»£
    */
    public ListNode reverseList(ListNode head) {
        ListNode last = null, cur = head;
        while (cur != null) {
            ListNode next = cur.next;
            cur.next = last;
            last = cur;
            cur = next;
        }
        return last;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’
    */
    public ListNode reverseList(ListNode head) {
        reverse(head);
        return last;
    }

    ListNode last = null;
    public void reverse(ListNode pNode) {
        if (pNode == null)
            return;
        ListNode tmp = pNode.next;
        pNode.next = last;
        last = pNode;
        reverse(tmp);
    }
}
```



## 61.[è¯¾ç¨‹è¡¨](https://leetcode-cn.com/problems/course-schedule/)

**é¢˜ç›®ï¼š**

> ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® `numCourse` é—¨è¯¾ç¨‹ï¼Œè®°ä¸º `0` åˆ° `numCourse-1` ã€‚
>
> åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š`[0,1]`
>
> ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: 2, [[1,0]] 
> è¾“å‡º: true
> è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: 2, [[1,0],[0,1]]
> è¾“å‡º: false
> è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> 1. è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± **è¾¹ç¼˜åˆ—è¡¨** è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§[å›¾çš„è¡¨ç¤ºæ³•](http://blog.csdn.net/woaidapaopao/article/details/51732947)ã€‚
> 2. ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚
> 3. `1 <= numCourses <= 10^5`

**æ€è·¯ï¼š**

[è¯¾ç¨‹è¡¨ï¼ˆæ‹“æ‰‘æ’åºï¼šå…¥åº¦è¡¨BFSæ³• / DFSæ³•ï¼Œæ¸…æ™°å›¾è§£ï¼‰ - è¯¾ç¨‹è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/course-schedule/solution/course-schedule-tuo-bu-pai-xu-bfsdfsliang-chong-fa/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šDFS
    éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œåˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ç¯ï¼Œå­˜åœ¨åˆ™è¿”å›false
    å…³é”®æ­¥éª¤ï¼šåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºçŠ¶æ€çš„æ•´å½¢æ•°ç»„status[i]ï¼Œiè¡¨ç¤ºç¬¬iä¸ªèŠ‚ç‚¹
    ä¸º0è¡¨ç¤ºè¯¥èŠ‚ç‚¹æœªè¢«è®¿é—®è¿‡
    ä¸º1è¡¨ç¤ºè¯¥èŠ‚ç‚¹æ­£åœ¨è®¿é—®ä¸­
    ä¸º2è¡¨ç¤ºè¯¥èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡äº†ï¼Œä¸”æ²¡æœ‰ç¯
    */
    int[] status;
    List<List<Integer>> adjacency;
    public boolean canFinish(int numCourses, int[][] prerequisites) {
        status = new int[numCourses];
        adjacency = new ArrayList<>();
        for (int i = 0; i < numCourses; ++i) {
            adjacency.add(new ArrayList<>());
        }
        for (int[] linear: prerequisites) {
            adjacency.get(linear[1]).add(linear[0]);
        }
        for (int i = 0; i < numCourses; ++i) {
            if (!dfs(i))
                return false;
        }
        return true;
    }

    public boolean dfs(int course) {
        if (status[course] == 1)
            return false;
        if (status[course] == 2)
            return true;
        status[course] = 1;
        for (int cur : adjacency.get(course)) {
            if (!dfs(cur))
                return false;
        }
        status[course] = 2;
        return true;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå…¥åº¦è¡¨ï¼ˆBFSï¼‰
    *å…¥åº¦ï¼šå…¥åº¦æ˜¯å›¾è®ºç®—æ³•ä¸­é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚å®ƒé€šå¸¸æŒ‡æœ‰å‘å›¾ä¸­æŸç‚¹ä½œä¸ºå›¾ä¸­è¾¹çš„ç»ˆç‚¹çš„æ¬¡æ•°ä¹‹å’Œã€‚
    æœ¬é¢˜å¯çœ‹ä½œï¼šè¯¾ç¨‹å®‰æ’å›¾æ˜¯å¦æ˜¯æœ‰å‘æ— ç¯å›¾(DAG)ã€‚å³è¯¾ç¨‹é—´è§„å®šäº†å‰ç½®æ¡ä»¶ï¼Œä½†ä¸èƒ½æ„æˆç¯è·¯ï¼Œå¦åˆ™å‰ç½®æ¡ä»¶å°†ä¸æˆç«‹
    æ€è·¯æ˜¯é€šè¿‡æ‰˜æ™®æ’åºåˆ¤æ–­æ­¤è¯¾ç¨‹å®‰æ’å›¾ä¸­æ˜¯å¦æœ‰DAGã€‚æ‹“æ‰‘æ’åºåŸç†ï¼šå¯¹ DAG çš„é¡¶ç‚¹è¿›è¡Œæ’åºï¼Œä½¿å¾—å¯¹æ¯ä¸€æ¡æœ‰å‘è¾¹ (u, v)ï¼Œå‡æœ‰ uï¼ˆåœ¨æ’åºè®°å½•ä¸­ï¼‰æ¯” v å…ˆå‡ºç°ã€‚äº¦å¯ç†è§£ä¸ºå¯¹æŸç‚¹ v è€Œè¨€
    åªæœ‰å½“ v çš„æ‰€æœ‰æºç‚¹å‡å‡ºç°äº†ï¼Œv æ‰èƒ½å‡ºç°ã€‚
    é€šè¿‡è¯¾ç¨‹å‰ç½®æ¡ä»¶åˆ—è¡¨ prerequisites å¯ä»¥å¾—åˆ°è¯¾ç¨‹å®‰æ’å›¾çš„ é‚»æ¥è¡¨ adjacencyï¼Œä»¥é™ä½ç®—æ³•æ—¶é—´å¤æ‚åº¦ã€‚

    ç®—æ³•æµç¨‹ï¼š
    1.ç»Ÿè®¡è¯¾ç¨‹å®‰æ’å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ï¼Œç”Ÿæˆå…¥åº¦è¡¨
    2.å€ŸåŠ©ä¸€ä¸ªé˜Ÿåˆ—queueï¼Œå°†æ‰€æœ‰å…¥åº¦ä¸º0çš„èŠ‚ç‚¹å…¥é˜Ÿ
    3.å½“queueä¸ºéç©ºæ—¶ï¼Œä¾æ¬¡å°†é˜Ÿé¦–èŠ‚ç‚¹å‡ºé˜Ÿï¼Œå¹¶åˆ é™¤è¯¾ç¨‹å®‰æ’å›¾ä¸­çš„æ­¤èŠ‚ç‚¹pre:
        1.å¹¶ä¸æ˜¯çœŸçš„ä»é‚»æ¥è¡¨ä¸­åˆ é™¤æ­¤èŠ‚ç‚¹ï¼Œè€Œæ˜¯å°†è¯¥èŠ‚ç‚¹å¯¹åº”æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹curçš„å…¥åº¦-1,å³indegrees[cur] -= 1 (å³pre -> cur1, pre -> cur2è¿™ç§è¾¹ï¼Œåœ¨åˆ é™¤preä¹‹åï¼Œå˜æˆäº†cur1, cue2ï¼Œéœ€è¦å°†å¯¹åº”cur1,cur2çš„å…¥åº¦-1)
        2.è‹¥å…¥åº¦-1åcurèŠ‚ç‚¹çš„å…¥åº¦ä¸º0ï¼Œè¯´æ˜å®ƒçš„æ‰€æœ‰å‰é©±èŠ‚ç‚¹å·²ç»è¢«åˆ é™¤ï¼Œæ­¤æ—¶å°†curå…¥é˜Ÿ
    4.æ¯æ¬¡preå‡ºé˜Ÿä»¥åï¼Œæ‰§è¡ŒnumCourses--
        1.è‹¥æ•´ä¸ªè¯¾ç¨‹å®‰æ’å›¾æ˜¯æœ‰å‘æ— ç¯å›¾ï¼Œåˆ™æ‰€æœ‰èŠ‚ç‚¹ä¸€å®šéƒ½å…¥é˜Ÿå¹¶å‡ºé˜Ÿè¿‡ï¼Œå³å®Œæˆæ‹“æ‰‘æ’åºã€‚æ¢è€Œè¨€ä¹‹ï¼Œè‹¥å­˜åœ¨ç¯ï¼Œä¸€å®šæœ‰èŠ‚ç‚¹å…¥åº¦ä¸ä¸º0
        2.æ‰€ä»¥ï¼Œæ‹“æ‰‘æ’åºå‡ºé˜Ÿæ¬¡æ•°ç­‰äºè¯¾ç¨‹ä¸ªæ•°ï¼Œç„¶ånumCourses == 0 åˆ¤æ–­è¯¾ç¨‹æ˜¯å¦å¯ä»¥æˆåŠŸå®‰æ’
    */
    public boolean canFinish(int numCourses, int[][] prerequisites) {
        //å…¥åº¦è¡¨
        int[] indegree = new int[numCourses];
        //é‚»æ¥è¡¨
        List<List<Integer>> adjacency = new ArrayList<>();
        for (int i = 0; i < numCourses; ++i) {
            adjacency.add(new ArrayList<>());
        }
        for (int[] linear : prerequisites) {
            ++indegree[linear[0]];
            //åŠ å…¥ä¸€æ¡è¾¹æœ‰å‘è¾¹linear[1] -> linear[0]
            adjacency.get(linear[1]).add(linear[0]);
        }
        Deque<Integer> queue = new ArrayDeque<>();
        //å°†åº¦ä¸º0çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­
        for (int i = 0; i < numCourses; ++i) {
            if (indegree[i] == 0)
                queue.offer(i);
        }
        while (!queue.isEmpty()) {
            int pre = queue.poll();
            --numCourses;
            //æ›´æ–°ä»¥preä¸ºå‰ç½®èŠ‚ç‚¹çš„èŠ‚ç‚¹çš„åº¦
            for (Integer cur : adjacency.get(pre)) {
                --indegree[cur];
                if (indegree[cur] == 0)
                    queue.offer(cur);
            }
        }
        return numCourses == 0;
    }
}
```



## 62.[å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode-cn.com/problems/implement-trie-prefix-tree/)

**é¢˜ç›®ï¼š**

> å®ç°ä¸€ä¸ª Trie (å‰ç¼€æ ‘)ï¼ŒåŒ…å« `insert`, `search`, å’Œ `startsWith` è¿™ä¸‰ä¸ªæ“ä½œã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> Trie trie = new Trie();
> 
> trie.insert("apple");
> trie.search("apple");   // è¿”å› true
> trie.search("app");     // è¿”å› false
> trie.startsWith("app"); // è¿”å› true
> trie.insert("app");   
> trie.search("app");     // è¿”å› true
> ```
>
> **è¯´æ˜:**
>
> - ä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„è¾“å…¥éƒ½æ˜¯ç”±å°å†™å­—æ¯ `a-z` æ„æˆçš„ã€‚
> - ä¿è¯æ‰€æœ‰è¾“å…¥å‡ä¸ºéç©ºå­—ç¬¦ä¸²ã€‚

**æ€è·¯ï¼š**

[å®ç° Trie (å‰ç¼€æ ‘) - å®ç° Trie (å‰ç¼€æ ‘) - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/implement-trie-prefix-tree/solution/shi-xian-trie-qian-zhui-shu-by-leetcode/)

**ä»£ç ï¼š**

```java
class Trie {
    /*
    è§£é¢˜æ€è·¯ï¼šå»ºç«‹å­—ç¬¦æ˜ å°„æ•°ç»„
    */
    boolean isEnd;
    Trie[] next = new Trie[26];

    /** Initialize your data structure here. */
    public Trie() {

    }
    
    /** Inserts a word into the trie. */
    public void insert(String word) {
        Trie root = this;
        char[] words = word.toCharArray();
        for (int i = 0; i < words.length; ++i) {
            if (root.next[words[i] - 'a'] == null) {
                root.next[words[i] - 'a'] = new Trie();
            }
            root = root.next[words[i] - 'a'];
        }
        root.isEnd = true;
    }
    
    /** Returns if the word is in the trie. */
    public boolean search(String word) {
        Trie root = this;
        char[] words = word.toCharArray();
        for (int i = 0; i < words.length; ++i) {
            if (root.next[words[i] - 'a'] == null) {
                return false;
            }
            root = root.next[words[i] - 'a'];
        }
        return root.isEnd;
    }
    
    /** Returns if there is any word in the trie that starts with the given prefix. */
    public boolean startsWith(String prefix) {
        Trie root = this;
        char[] words = prefix.toCharArray();
        for (int i = 0; i < words.length; ++i) {
            if (root.next[words[i] - 'a'] == null) {
                return false;
            }
            root = root.next[words[i] - 'a'];
        }
        return true;
    }
}

/**
 * Your Trie object will be instantiated and called as such:
 * Trie obj = new Trie();
 * obj.insert(word);
 * boolean param_2 = obj.search(word);
 * boolean param_3 = obj.startsWith(prefix);
 */
```



## 63.[æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/)

**é¢˜ç›®ï¼š**

> åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ **k** ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2
> è¾“å‡º: 5
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [3,2,3,1,2,4,5,5,6] å’Œ k = 4
> è¾“å‡º: 4
> ```
>
> **è¯´æ˜:**
>
> ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„çš„é•¿åº¦ã€‚

**æ€è·¯ï¼š**

[é€šè¿‡ partition å‡æ²» + ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆJavaã€C++ã€Pythonï¼‰ - æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/kth-largest-element-in-an-array/solution/partitionfen-er-zhi-zhi-you-xian-dui-lie-java-dai-/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ’æ€æƒ³
    */
    public int findKthLargest(int[] nums, int k) {
        if (nums.length < k) {
            return -1;
        }
        return quickSort(nums, 0, nums.length - 1, k);
    }

    public int quickSort(int[] nums, int l, int r, int k) {
        //å¼•å…¥éšæœºç®—æ³•ï¼Œé¢˜ç›®æ¡ˆä¾‹ä¸­å…·æœ‰æç«¯æ¡ˆä¾‹
        int ran = l + (int)(Math.random() * (r - l + 1));
        int t = nums[ran];
        nums[ran] = nums[l];
        nums[l] = t;
        
        int base = nums[l];
        int p = l, q = r;
        int tmp = base;
        while (p < q) {
            while (p < q && nums[q] >= base)
                --q;
            while (p < q && nums[p] <= base)
                ++p;
             tmp = nums[p];
             nums[p] = nums[q];
             nums[q] = tmp;
        }
        nums[p] = base;
        nums[l] = tmp;
        //éœ€è¦åœ¨å³ä¾§å¯»æ‰¾
        int target = nums.length - k;
        if (p == target)
            return nums[p];
        if (p < target) {
            return quickSort(nums, p + 1, r, k);
        } else {
            return quickSort(nums, l, p - 1, k);
        }
    }
}
```



## 64.[æœ€å¤§æ­£æ–¹å½¢](https://leetcode-cn.com/problems/maximal-square/)

**é¢˜ç›®ï¼š**

> åœ¨ä¸€ä¸ªç”± `'0'` å’Œ `'1'` ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« `'1'` çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚
>
>  
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> è¾“å…¥ï¼š
> matrix = [["1","0","1","0","0"],
>           ["1","0","1","1","1"],
>           ["1","1","1","1","1"],
>           ["1","0","0","1","0"]]
> 
> è¾“å‡ºï¼š4
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä»å·¦åˆ°å³è‡ªä¸Šè€Œä¸‹éå†ï¼Œå°†æ¯ä¸ªä¸º'1'çš„æ ¼å­ä½œä¸ºæ­£æ–¹å½¢çš„å·¦ä¸Šè§’è¿›è¡Œä¸€åœˆä¸€åœˆçš„éå†
    */
    public int maximalSquare(char[][] matrix) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return 0;
        }
        int maxSide = 0;
        for (int row = 0; row < matrix.length; ++row) {
            for (int col = 0; col < matrix[0].length; ++col) {
                if (matrix[row][col] == '1') {
                    maxSide = Math.max(maxSide, findMaxSide(matrix, row, col));
                }
            }
        }
        return maxSide * maxSide;
    }

    public int findMaxSide(char[][] matrix, int row, int col) {
        int side = 1;
        int rows = matrix.length;
        int cols = matrix[0].length;
        while (row + side < rows && col + side < cols) {
            for (int i = 0; i <= side; ++i) {
                //ç«–ç€åˆ¤æ–­ï¼Œæœ‰ä¸ä¸º'1'çš„ç›´æ¥è¿”å›
                if (matrix[row + i][col + side] != '1')
                    return side;
                //æ¨ªç€åˆ¤æ–­ï¼Œæœ‰ä¸ä¸º'1'çš„ç›´æ¥è¿”å›
                if (matrix[row + side][col + i] != '1')
                    return side;
            }
            ++side;
        }
        return side;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    è®¾dp[i][j]è¡¨ç¤ºä»¥matrix[i - 1][j - 1]ä¸ºæ­£æ–¹å½¢å³ä¸‹è§’çš„æœ€å¤§è¾¹é•¿,è‹¥å…¶ç­‰äºmï¼Œåˆ™éœ€è¦æ»¡è¶³dp[i - 1][j] = m - 1,dp[i][j - 1] = m - 1, dp[i - 1][j - 1] = m - 1
    å³è¯¥ä¸Šä¸€ä¸ªç‚¹ï¼Œå·¦è¾¹çš„ç‚¹ä¸å·¦ä¸Šçš„ç‚¹éƒ½è¦æ»¡è¶³ç­‰äº m - 1æ‰å¯ä»¥,æ¢å¥è¯è¯´dp[i][j]ä¸ºä»¥ä¸Š3ä¸ªç‚¹çš„æœ€å°å€¼ + 1ï¼Œå³å– min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) + 1
    */
    public int maximalSquare(char[][] matrix) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0)
            return 0;
        int maxSide = 0, cols = matrix[0].length;
        int[] dp = new int[cols + 1];
        for (char[] chars: matrix) {
            int leftTop = 0;
            for (int i = 0; i < cols; ++i) {
                //ä¿å­˜è¯¥ç‚¹åŸæ¥çš„å€¼ï¼Œä½œä¸ºä¸‹ä¸€ä¸ªç‚¹çš„å·¦ä¸Šè§’ç‚¹çš„å€¼
                int nextLeftTop = dp[i + 1];
                if (chars[i] == '1') {
                    dp[i + 1] = Math.min(Math.min(dp[i], dp[i + 1]), leftTop) + 1;
                    maxSide = Math.max(maxSide, dp[i + 1]);
                } else {
                    dp[i + 1] = 0;
                }
                leftTop = nextLeftTop;
            }
        }
        return maxSide * maxSide;
    }
}
```



## 65.[ç¿»è½¬äºŒå‰æ ‘](https://leetcode-cn.com/problems/invert-binary-tree/)

**é¢˜ç›®ï¼š**

> ç¿»è½¬ä¸€æ£µäºŒå‰æ ‘ã€‚
>
> **ç¤ºä¾‹ï¼š**
>
> è¾“å…¥ï¼š
>
> ```
>      4
>    /   \
>   2     7
>  / \   / \
> 1   3 6   9
> ```
>
> è¾“å‡ºï¼š
>
> ```
>      4
>    /   \
>   7     2
>  / \   / \
> 9   6 3   1
> ```
>
> **å¤‡æ³¨:**
> è¿™ä¸ªé—®é¢˜æ˜¯å—åˆ° [Max Howell ](https://twitter.com/mxcl)çš„ [åŸé—®é¢˜](https://twitter.com/mxcl/status/608682016205344768) å¯å‘çš„ ï¼š
>
> > è°·æ­Œï¼šæˆ‘ä»¬90ï¼…çš„å·¥ç¨‹å¸ˆä½¿ç”¨æ‚¨ç¼–å†™çš„è½¯ä»¶(Homebrew)ï¼Œä½†æ˜¯æ‚¨å´æ— æ³•åœ¨é¢è¯•æ—¶åœ¨ç™½æ¿ä¸Šå†™å‡ºç¿»è½¬äºŒå‰æ ‘è¿™é“é¢˜ï¼Œè¿™å¤ªç³Ÿç³•äº†ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šBFS
    */
    public TreeNode invertTree(TreeNode root) {
        Deque<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        while (!queue.isEmpty()) {
            TreeNode cur = queue.poll();
            if (cur != null) {
                TreeNode tmp = cur.left;
                cur.left = cur.right;
                cur.right = tmp;
                queue.offer(cur.left);
                queue.offer(cur.right);
            }
        }
        return root;
    }
}
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå‰åºéå†ï¼Œäº¤æ¢å·¦å³å­æ ‘
    */
    public TreeNode invertTree(TreeNode root) {
        reverse(root);
        return root;
    }

    public void reverse(TreeNode root) {
        if (root == null) {
            return;
        }
        TreeNode tmp = root.left;
        root.left = root.right;
        root.right = tmp;
        reverse(root.left);
        reverse(root.right);
    }
}
```



## 66.[ å›æ–‡é“¾è¡¨](https://leetcode-cn.com/problems/palindrome-linked-list/)

**é¢˜ç›®ï¼š**

> è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: 1->2
> è¾“å‡º: false
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: 1->2->2->1
> è¾“å‡º: true
> ```
>
> **è¿›é˜¶ï¼š**
> ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ…¢æŒ‡é’ˆ + åè½¬é“¾è¡¨
    */
    public boolean isPalindrome(ListNode head) {
        if (head == null)
            return true;
        //1.åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹
        ListNode fast = head, slow = head;
        while (fast.next != null && fast.next.next != null) {
            fast = fast.next.next;
            slow = slow.next;
        }
        //2.å°†slowä»¥åŠslowä¹‹å‰çš„èŠ‚ç‚¹åˆ†ä¸ºä¸€ç»„ï¼Œslowä¹‹åçš„åˆ†ä¸ºä¸€ç»„
        ListNode secHead = slow.next;
        slow.next = null;
        //3.ç¿»è½¬é“¾è¡¨
        ListNode pre = null;
        ListNode cur = secHead;
        while(cur != null) {
            ListNode tmp = cur.next;
            cur.next = pre;
            pre = cur;
            cur = tmp; 
        }
        //4.åŒæ—¶éå†ä¸¤ä¸ªé“¾è¡¨
        secHead = pre;
        while (secHead != null) {
            if (secHead.val != head.val)
                return false;
            secHead = secHead.next;
            head = head.next;
        }
        return true;
    }
}
```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdeque
    */
    public boolean isPalindrome(ListNode head) {
        Deque<ListNode> queue = new LinkedList<>();
        ListNode pNode = head;
        while (pNode != null) {
            queue.offer(pNode);
            pNode = pNode.next;
        }
        while (queue.size() > 1) {
            if (queue.pollLast().val != queue.poll().val) {
                return false;
            }
        }
        return true;
    }
}
```



## 67.[äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚
>
> [ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/æœ€è¿‘å…¬å…±ç¥–å…ˆ/8918834?fr=aladdin)ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ**ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ**ï¼‰ã€‚â€
>
> ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘: root = [3,5,1,6,2,0,8,null,null,7,4]
>
> ![img](E:/program files/Topora images/binarytree.png)
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
> è¾“å‡º: 3
> è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4
> è¾“å‡º: 5
> è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚
> ```
>
>  
>
> **è¯´æ˜:**
>
> - æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚
> - pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šDFS
    1.è‹¥æœ¬èŠ‚ç‚¹æ˜¯pæˆ–è€…qç›´æ¥è¿”å›æœ¬èŠ‚ç‚¹,è‹¥ä¸ºç©ºåˆ™è¿”å›ç©º
    2.å¯¹å·¦å³å­èŠ‚ç‚¹é€’å½’ï¼š
        1.è‹¥å·¦å³åŒæ—¶ä¸ånullï¼šè¯´æ˜å·¦å³å­æ ‘å„æœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›æœ¬èŠ‚ç‚¹
        2.è‹¥åªæœ‰ä¸€ä¸ªä¸è¿”null,ç»§ç»­ä¼ é€’è¯¥è¿”å›å€¼
    */
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if (root == null)
            return null;
        if (root.val == p.val || root.val == q.val)
            return root;
        TreeNode left = lowestCommonAncestor(root.left, p, q);
        TreeNode right = lowestCommonAncestor(root.right, p, q);
        if (left != null && right != null)
            return root;
        if (left == null)
            return right;
        return left;
    }
}
```



## 68.[é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯](https://leetcode-cn.com/problems/product-of-array-except-self/)

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º *n* çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå…¶ä¸­ *n* > 1ï¼Œè¿”å›è¾“å‡ºæ•°ç»„ `output` ï¼Œå…¶ä¸­ `output[i]` ç­‰äº `nums` ä¸­é™¤ `nums[i]` ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ã€‚
>
>  
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [1,2,3,4]
> è¾“å‡º: [24,12,8,6]
> ```
>
>  
>
> **æç¤ºï¼š**é¢˜ç›®æ•°æ®ä¿è¯æ•°ç»„ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€ï¼ˆç”šè‡³æ˜¯æ•´ä¸ªæ•°ç»„ï¼‰çš„ä¹˜ç§¯éƒ½åœ¨ 32 ä½æ•´æ•°èŒƒå›´å†…ã€‚
>
> **è¯´æ˜:** è¯·**ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œ**ä¸”åœ¨ O(*n*) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚
>
> **è¿›é˜¶ï¼š**
> ä½ å¯ä»¥åœ¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸ªé¢˜ç›®å—ï¼Ÿï¼ˆ å‡ºäºå¯¹ç©ºé—´å¤æ‚åº¦åˆ†æçš„ç›®çš„ï¼Œè¾“å‡ºæ•°ç»„**ä¸è¢«è§†ä¸º**é¢å¤–ç©ºé—´ã€‚ï¼‰

**æ€è·¯ï¼š**

[é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ï¼ˆä¸Šä¸‰è§’ï¼Œä¸‹ä¸‰è§’ï¼‰ - é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/product-of-array-except-self/solution/product-of-array-except-self-shang-san-jiao-xia-sa/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šç®€å•æ•°ç»„éå†
    output[i]å› ä¸ºç¼ºå°‘äº†nums[i]å¯ä»¥å°†å…¶çœ‹ä½œä¸¤éƒ¨åˆ†: output[i] = partOne[i] * partTwo[i]
    1.partOne[i] = nums[0]*nums[1]....*nums[i - 1]
    2.partTwo[i] = nums[i + 1]*nums[i + 1]...*nums[n - 1]
    è¿™ä¸¤éƒ¨åˆ†åˆ†åˆ«ä»ä¸Šå¾€ä¸‹çœ‹ï¼Œä¸ä»ä¸‹å¾€ä¸Šçœ‹éƒ½æ˜¯dpæ•°ç»„
    partOneä»ä¸Šå¾€ä¸‹çœ‹: partOne[i] = partOne[i - 1] * nums[i - 1]
    partTwoä»ä¸‹å¾€ä¸Šçœ‹: partTwo[i] = partTwo[i + 1] * nums[i + 1]
    */
    public int[] productExceptSelf(int[] nums) {
        int len = nums.length;
        if (len < 1)
            return nums;
        int[] partOne = new int[len];
        partOne[0] = 1;
        for (int i = 1; i < len; ++i) {
            partOne[i] = partOne[i - 1] * nums[i - 1];
        }
        int partTwo = 1;
        for (int i = len - 2; i >= 0; --i) {
            partTwo = partTwo * nums[i + 1];
            partOne[i] = partOne[i] * partTwo;
        }
        return partOne;
    }
}
```



## 69.[ æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode-cn.com/problems/sliding-window-maximum/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•°ç»„ *nums*ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º *k* çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ *k* ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚
>
> è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚
>
>  
>
> **è¿›é˜¶ï¼š**
>
> ä½ èƒ½åœ¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å†…è§£å†³æ­¤é¢˜å—ï¼Ÿ
>
>  
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
> è¾“å‡º: [3,3,5,5,6,7] 
> è§£é‡Š: 
> 
>   æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
> ---------------               -----
> [1  3  -1] -3  5  3  6  7       3
>  1 [3  -1  -3] 5  3  6  7       3
>  1  3 [-1  -3  5] 3  6  7       5
>  1  3  -1 [-3  5  3] 6  7       5
>  1  3  -1  -3 [5  3  6] 7       6
>  1  3  -1  -3  5 [3  6  7]      7
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= nums.length <= 10^5`
> - `-10^4 <= nums[i] <= 10^4`
> - `1 <= k <= nums.length`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    å…ˆå°†è¾“å…¥æ•°ç»„åˆ†å‰²æˆè‹¥å¹²ä¸ªkä¸ªå…ƒç´ çš„å—ï¼Œä¾‹ï¼š1,3,-1,3,-3,5,3,6,7,9 k = 3 åˆ™å˜æˆ[1,3,-1][3,-3,5][3,6,7][9]
    è‹¥n % k != 0åˆ™æœ€åä¸€å—çš„å…ƒç´ å¯èƒ½æ›´å°‘
    å¼€å¤´å…ƒç´ ä¸ºi,ç»“å°¾å…ƒç´ ä¸ºjçš„å½“å‰æ»‘åŠ¨çª—å£æœ‰ä¸¤ç§æƒ…å†µï¼š1.æ»‘åŠ¨çª—å£æ°å¥½åœ¨ä¸€ä¸ªå—å†… 2.æ»‘åŠ¨çª—å£åœ¨ä¸¤ä¸ªå—ä¸­é—´
    æƒ…å†µ1æ¯”è¾ƒç®€å•ï¼š
        å»ºç«‹æ•°ç»„left,å…¶ä¸­left[j]æ˜¯ä»å—çš„å¼€å§‹åˆ°ä¸‹æ ‡jæœ€å¤§çš„å…ƒç´ ï¼Œæ–¹å‘æ˜¯ä»å·¦åˆ°å³
    æƒ…å†µ2ç¨æ˜¾å¤æ‚ï¼š
        æˆ‘ä»¬è¿˜éœ€è¦å¦ä¸€ä¸ªæ•°ç»„right,å…¶ä¸­right[j]æ˜¯ä»å—çš„ç»“å°¾åˆ°ä¸‹æ ‡jçš„æœ€å¤§å…ƒç´ ï¼Œæ–¹å‘æ˜¯ä»å³åˆ°å·¦ã€‚
    æœ‰äº†ä»¥ä¸Šæåˆ°çš„ä¸¤ä¸ªæ•°ç»„æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ä¸¤ä¸ªç›¸é‚»å—å†…å…ƒç´ çš„å…¨éƒ¨ä¿¡æ¯ã€‚è€ƒè™‘ä»ä¸‹æ ‡iåˆ°ä¸‹æ ‡jçš„æ»‘åŠ¨çª—å£ã€‚
    æ ¹æ®å®šä¹‰ï¼Œright[i]æ˜¯å·¦ä¾§å—å†…çš„æœ€å¤§å…ƒç´ ï¼Œleft[j]æ˜¯å³ä¾§å—å†…çš„æœ€å¤§å…ƒç´ ï¼Œå› æ­¤æ»‘åŠ¨çª—å£çš„æœ€å¤§å…ƒç´ ä¸ºmax(left[j], right[i])
    */
    public int[] maxSlidingWindow(int[] nums, int k) {
        int len = nums.length;
        int[] left = new int[len];
        int[] right = new int[len];
        //åˆå§‹åŒ–leftä¸rightçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé˜²æ­¢rightäº§ç”Ÿè¶Šç•Œ,å› ä¸ºrightæ˜¯ä»å³å‘å·¦éå†çš„ï¼Œç¬¬ä¸€ä¸ªjå¯èƒ½ä¸æ˜¯kçš„æ•´æ•°å€
        left[0] = nums[0];
        right[len - 1] = nums[len - 1];
        for (int i = 1; i < len; ++i) {
            if (i % k == 0)
                left[i] = nums[i];
            else
                left[i] = Math.max(left[i - 1], nums[i]);
            int j = len - 1 - i;
            if (j % k == 0)
                right[j] = nums[j];
            else
                right[j] = Math.max(right[j + 1], nums[j]);
        }
        int[] res = new int[len - (k - 1)];
        for (int i = 0, j = k - 1; j < len; ++i, ++j) {
            res[i] = Math.max(left[j], right[i]);
        }
        return res;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå­˜å‚¨ä¸‹æ ‡çš„å•è°ƒé˜Ÿåˆ—
    1.åˆå§‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ªå­˜å‚¨å…ƒç´ ä¸‹æ ‡çš„å•è°ƒæ ˆé€’å¢é˜Ÿåˆ—queueï¼Œç»“æœæ•°ç»„res,å¤§å°ä¸ºnums.length - (k - 1)
    2.éå†numsæ•°ç»„ï¼Œè®¾æ¯ä¸ªå…ƒç´ ä¸ºnums[i]:
        1.æ’å…¥iï¼šä»queueçš„åé¢å¾€å‰æ’å…¥i,å°†é‡åˆ°çš„å°äºnum[i]çš„å…ƒç´ å¼¹å‡º(å› ä¸ºå®ƒä»¬å·²ç»ä¸èƒ½æˆä¸ºæœ€å¤§å€¼äº†)
        2.è‹¥i >= k - 1åˆ™å¼€å¯è®°å½•æœ€å¤§å€¼ï¼š
            1.åˆ¤æ–­å½“å‰queueå¤´éƒ¨å…ƒç´ (å³æœ€å¤§å…ƒç´ )æ˜¯å¦è¿‡æœŸï¼Œè®¾aä¸ºå¤´éƒ¨å…ƒç´ ï¼Œè‹¥a + (k - 1) < i åˆ™ä¸ºè¿‡æœŸï¼Œ
            è¿‡æœŸåˆ™å°†å…¶å¼¹å‡ºï¼Œå¹¶å¾ªç¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„å…ƒç´ ï¼ˆæ‰¾åˆ°äº†å°±ä¸éœ€è¦å¼¹å‡ºï¼‰ï¼Œå¹¶è®°å½•nums[a]ä¸ºå½“å‰çª—å£çš„æœ€å¤§å€¼
    */
    public int[] maxSlidingWindow(int[] nums, int k) {
        int len = nums.length;
        int[] res = new int[len - (k - 1)];
        Deque<Integer> queue = new LinkedList<>();
        int index = 0;
        for (int i = 0; i < len; ++i) {
            //æ’å…¥i
            while (!queue.isEmpty() && nums[queue.peekLast()] < nums[i]) {
                queue.pollLast();
            }
            queue.offer(i);
            if (i >= k - 1) {
                while (queue.peek() + (k - 1) < i) {
                    queue.poll();
                }
                res[index++] = nums[queue.peek()];
            }
        }
        return res;
    }
}
```



## 70.[æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode-cn.com/problems/search-a-2d-matrix-ii/)

**é¢˜ç›®ï¼š**

> ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ `*m* x *n*` çŸ©é˜µ `matrix` ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ `target` ã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
>
> - æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚
> - æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](E:/program files/Topora images/searchgrid2.jpg)
>
> ```
> è¾“å…¥ï¼šmatrix = [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target = 5
> è¾“å‡ºï¼štrue
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ![img](E:/program files/Topora images/searchgrid.jpg)
>
> ```
> è¾“å…¥ï¼šmatrix = [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target = 20
> è¾“å‡ºï¼šfalse
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `m == matrix.length`
> - `n == matrix[i].length`
> - `1 <= n, m <= 300`
> - `-109 <= matix[i][j] <= 109`
> - æ¯è¡Œçš„æ‰€æœ‰å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—
> - æ¯åˆ—çš„æ‰€æœ‰å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—
> - `-109 <= target <= 109`

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå³ä¸Šè§’æœç´¢
    æ‰¾åˆ°ä¸€ä¸ªä¸´ç•Œç‚¹ï¼Œä½¿è¯¥ç‚¹æ»¡è¶³ï¼Œå€¼æ¯”å®ƒå¤§çš„å…¶ä»–ç‚¹åœ¨ä¸€ä¸ªç¡®å®šçš„æ–¹å‘ä¸Šï¼Œå€¼æ¯”å®ƒå°çš„å…¶ä»–ç‚¹åœ¨å¦ä¸€ä¸ªç¡®å®šçš„æ–¹å‘ä¸Š
    æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶çš„åªæœ‰å³ä¸Šè§’çš„ç‚¹ä¸å·¦ä¸‹è§’çš„ç‚¹
    ä»å³ä¸Šè§’çš„ç‚¹å¼€å§‹ï¼Œè®¾å…¶ä¸ºmarix[i][j]ï¼Œè‹¥target < matrix[i][j] åˆ™æ ¹æ®é¢˜æ„ï¼Œåº”è¯¥å‘å·¦ç§»åŠ¨å˜ä¸ºmatrix[i][j-1]
    è‹¥target > matrix[i][j]åˆ™å‘ä¸‹ç§»åŠ¨å˜ä¸ºmatrix[i + 1][j]
    è‹¥target == matrix[i][j]åˆ™è¿”å›true
    è‹¥iæˆ–jè¶Šç•Œè¯´æ˜æŸ¥è¯¢å¤±è´¥
    */
    public boolean searchMatrix(int[][] matrix, int target) {
        if (matrix.length == 0 || matrix[0].length == 0)
            return false;
        int rows = matrix.length;
        //åˆå§‹åŒ–å³ä¸Šè§’çš„ç‚¹
        int cols = matrix[0].length;
        int row = 0, col = cols - 1;
        while (row < rows && col >= 0) {
            if (target == matrix[row][col])
                return true;
            else if (target < matrix[row][col]) {
                --col;
            } else {
                ++row;
            }
        }
        return false;
    }
}
```

## 71.ä¼šè®®å®¤II

**é¢˜ç›®ï¼š**

**æ€è·¯ï¼š**

**ä»£ç ï¼š**



## 72.[å®Œå…¨å¹³æ–¹æ•°](https://leetcode-cn.com/problems/perfect-squares/)

**é¢˜ç›®ï¼š**

> ç»™å®šæ­£æ•´æ•° *n*ï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ `1, 4, 9, 16, ...`ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº *n*ã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: n = 12
> è¾“å‡º: 3 
> è§£é‡Š: 12 = 4 + 4 + 4.
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: n = 13
> è¾“å‡º: 2
> è§£é‡Š: 13 = 4 + 9.
> ```

**æ€è·¯ï¼š**

[ç”»è§£ç®—æ³•ï¼š279. å®Œå…¨å¹³æ–¹æ•° - å®Œå…¨å¹³æ–¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/perfect-squares/solution/hua-jie-suan-fa-279-wan-quan-ping-fang-shu-by-guan/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    æ­¤é—®é¢˜å¯ä»¥è½¬æ¢ä¸ºæ±‚æœ€å°ä»·å€¼çš„å®Œå…¨èƒŒåŒ…é—®é¢˜
    1.å¤–å±‚å¾ªç¯æ§åˆ¶çš„æ˜¯å‰iä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œå³ i = 1, sqrt = i *i; sqrt <= n; ++i, sqrt = i * i
    2.å†…å±‚å¾ªç¯æ§åˆ¶ å‰©ä½™æ•°å­—è¿˜èƒ½æ”¾å¤šå°‘ç¬¬iä¸ªæ•°å­—ï¼ˆèƒŒåŒ…å®¹é‡)
    æ¯ä¸ªæ•°å­—çš„ä»·å€¼valéƒ½ç›¸å½“äºæ˜¯1ï¼Œæˆ‘ä»¬è¦æ±‚æœ€å°ï¼Œå³Math.min(dp[j], dp[j - sqrt] + 1)
    */
    public int numSquares(int n) {
        int[] dp = new int[n + 1];
        Arrays.fill(dp, Integer.MAX_VALUE);
        dp[0] = 0;
        for (int i = 1, sqrt = i * i; sqrt <= n; ++i, sqrt = i * i) {
            for (int j = sqrt; j <= n; ++j) {
                dp[j] = Math.min(dp[j], dp[j - sqrt] + 1);
            }
        }
        return dp[n];
    }
}
```



## 73.[ç§»åŠ¨é›¶](https://leetcode-cn.com/problems/move-zeroes/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•°ç»„ `nums`ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ `0` ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [0,1,0,3,12]
> è¾“å‡º: [1,3,12,0,0]
> ```
>
> **è¯´æ˜**:
>
> 1. å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚
> 2. å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚

**æ€è·¯ï¼š**

[åŠ¨ç”»æ¼”ç¤º 283.ç§»åŠ¨é›¶ - ç§»åŠ¨é›¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/move-zeroes/solution/dong-hua-yan-shi-283yi-dong-ling-by-wang_ni_ma/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¿«æ’æ€æƒ³
    å°†0ä½œä¸ºä¸­å¿ƒç‚¹ï¼ŒæŠŠä¸ç­‰äº0çš„æ”¾åˆ°ä¸­å¿ƒç‚¹å·¦è¾¹ï¼Œç­‰äº0çš„æ”¾åˆ°ä¸­å¿ƒç‚¹å³è¾¹
    */
    public void moveZeroes(int[] nums) {
        int j = 0;
        for (int i = 0; i < nums.length; ++i) {
            if (nums[i] != 0) {
                int tmp = nums[i];
                nums[i] = nums[j];
                nums[j++] = tmp;
            }
        }
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå·§ç”¨æŒ‡é’ˆ
    1.ç¬¬ä¸€æ¬¡éå†ï¼šnums[i]è¡¨ç¤ºç¬¬iä¸ªå…ƒç´ ï¼ŒæŒ‡é’ˆjè®°å½•å½“å‰æœ‰å¤šå°‘é0å…ƒç´ ï¼Œæ¯éå†åˆ°ä¸€ä¸ªé0å…ƒç´ å°†nums[i]ä¸nums[j]äº¤æ¢ç„¶å++j
    2.ç¬¬äºŒæ¬¡éå†ï¼šç¬¬ä¸€æ¬¡éå†ç»“æŸåjä¸€å®šæŒ‡å‘ç¬¬ä¸€ä¸ª0å…ƒç´ çš„ä½ç½®ï¼Œå°†è¯¥ä½ç½®çš„å…ƒç´ ä¸ä¹‹åçš„æ‰€æœ‰å…ƒç´ ç½®ä¸º0å³å¯
    */
    public void moveZeroes(int[] nums) {
        int j = 0;
        for (int i = 0; i < nums.length; ++i) {
            if (nums[i] != 0) {
                int tmp = nums[i];
                nums[i] = nums[j];
                nums[j++] = tmp;
            }
        }
        for (; j < nums.length; ++j) {
            nums[j] = 0;
        }
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå†’æ³¡æ’åº
    */
    public void moveZeroes(int[] nums) {
        for (int i = nums.length - 1; i > 0; --i) {
            for (int j = 0; j < i; ++j) {
                if (nums[j] == 0 && nums[j + 1] != 0) {
                    swap(nums, j, j + 1);
                }
            }
        }
    }

    public void swap(int[] nums, int a, int b) {
        int tmp = nums[a];
        nums[a] = nums[b];
        nums[b] = tmp;
    }
}
```



## 74.[ å¯»æ‰¾é‡å¤æ•°](https://leetcode-cn.com/problems/find-the-duplicate-number/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªåŒ…å« *n* + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ *nums*ï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° *n* ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ *n*ï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [1,3,4,2,2]
> è¾“å‡º: 2
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [3,1,3,4,2]
> è¾“å‡º: 3
> ```
>
> **è¯´æ˜ï¼š**
>
> 1. **ä¸èƒ½**æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚
> 2. åªèƒ½ä½¿ç”¨é¢å¤–çš„ *O*(1) çš„ç©ºé—´ã€‚
> 3. æ—¶é—´å¤æ‚åº¦å°äº *O*(*n*2) ã€‚
> 4. æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚

**æ€è·¯ï¼š**

[ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ä¸€ä¸ªæœ‰èŒƒå›´çš„æ•´æ•°ï¼ˆç»“åˆæŠ½å±‰åŸç†ï¼‰ - å¯»æ‰¾é‡å¤æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/find-the-duplicate-number/solution/er-fen-fa-si-lu-ji-dai-ma-python-by-liweiwei1419/)

[287.å¯»æ‰¾é‡å¤æ•° - å¯»æ‰¾é‡å¤æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/find-the-duplicate-number/solution/287xun-zhao-zhong-fu-shu-by-kirsche/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå°†æ•°ç»„çœ‹ä½œé“¾è¡¨ï¼Œè‹¥æœ‰é‡å¤æ•°å­—ï¼Œåˆ™è‚¯å®šæ˜¯ç¯å½¢é“¾è¡¨
    åªéœ€è¦æ‰¾åˆ°ç¯å½¢é“¾è¡¨çš„å…¥å£èŠ‚ç‚¹å³å¯
    */
    public int findDuplicate(int[] nums) {
        int pre = nums[nums[0]];
        int slow = nums[0];
        while (pre != slow) {
            pre = nums[nums[pre]];
            slow = nums[slow];
        }
        pre = 0;
        while (pre != slow) {
            pre = nums[pre];
            slow = nums[slow];
        }
        return slow;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾
    å…³é”®ç‚¹ï¼šäºŒåˆ†çš„ä¾æ®ä¸æ˜¯æ•°å€¼ï¼Œè€Œæ˜¯ä¸ªæ•°
    å…ˆçŒœä¸€ä¸ªæ•°ï¼Œè¯¥æ•°ä¸ºæœ‰æ•ˆèŒƒå›´[left,right]é‡Œçš„ä¸­é—´æ•°midï¼Œç„¶åç»Ÿè®¡åŸå§‹æ•°ç»„ä¸­å°äºç­‰äºmidçš„å…ƒç´ ä¸ªæ•°cntï¼Œå¦‚æœcntä¸¥æ ¼å¤§äºmidï¼Œæ ¹æ®æŠ½å±‰åŸç†ï¼Œé‡å¤å…ƒç´ å°±åœ¨åŒºé—´[left, mid]ä¸­
    æŠ½å±‰åŸç†ï¼šæ¡Œä¸Šæœ‰åä¸ªè‹¹æœï¼Œè¦æŠŠè¿™åä¸ªè‹¹æœæ”¾åˆ°ä¹ä¸ªæŠ½å±‰é‡Œï¼Œæ— è®ºæ€æ ·æ”¾ï¼Œæˆ‘ä»¬ä¼šå‘ç°è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæŠ½å±‰é‡Œé¢æ”¾ä¸å°‘äºä¸¤ä¸ªè‹¹æœ
    */
    public int findDuplicate(int[] nums) {
        int len = nums.length;
        int left = 1, right = len - 1;
        while (left < right) {
            int cnt = 0;
            int mid = (left + right) >>> 1;
            for (int num : nums) {
                if (num <= mid)
                    ++cnt;
            }
            if (cnt > mid) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }
        return right;
    }
}
```



## 75.[äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–](https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/)

**é¢˜ç›®ï¼š**

> åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚
>
> è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚
>
> **ç¤ºä¾‹:** 
>
> ```
> ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š
> 
>     1
>    / \
>   2   3
>      / \
>     4   5
> 
> åºåˆ—åŒ–ä¸º "[1,2,3,null,null,4,5]"
> ```
>
> **æç¤º:** è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… [LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼](https://leetcode-cn.com/faq/#binary-tree)ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
>
> **è¯´æ˜:** ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚

**æ€è·¯ï¼š**

[ã€æ‰‹ç”»å›¾è§£ã€å‰–æDFSã€BFSè§£æ³• | äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– - äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/solution/shou-hui-tu-jie-gei-chu-dfshe-bfsliang-chong-jie-f/)

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Codec {
    /*
    è§£é¢˜æ€è·¯ï¼šå‰åºéå†
    */

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        if (root == null) {
            return "#,";
        } else {
            return root.val + "," + serialize(root.left) + serialize(root.right);
        }
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        Deque<String> queue = new LinkedList<>(Arrays.asList(data.split(",")));
        return build(queue);
    }

    public TreeNode build(Deque<String> queue) {
        String node = queue.poll();
        TreeNode pNode = null;
        if (!"#".equals(node)) {
            pNode = new TreeNode(Integer.valueOf(node));
            pNode.left = build(queue);
            pNode.right = build(queue);
        }
        return pNode;
    }
}

// Your Codec object will be instantiated and called as such:
// Codec ser = new Codec();
// Codec deser = new Codec();
// TreeNode ans = deser.deserialize(ser.serialize(root));
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Codec {
    /*
    è§£é¢˜æ€è·¯ï¼šBFS
    */

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        if (root == null)
            return "";
        StringBuilder builder = new StringBuilder();
        Deque<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        while (!queue.isEmpty()) {
            TreeNode pNode = queue.poll();
            if (pNode == null) {
                builder.append("#,");
            } else {
                builder.append(pNode.val + ",");
                queue.offer(pNode.left);
                queue.offer(pNode.right);
            }
        }
        return builder.toString();
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        if ("".equals(data))
            return null;
        String[] nodes = data.split(",");
        Deque<TreeNode> queue = new LinkedList<>();
        TreeNode root = new TreeNode(Integer.valueOf(nodes[0]));
        queue.offer(root);
        int i = 1;
        while (!queue.isEmpty()) {
            int len = queue.size();
            for (int j = 0; j < len; ++j) {
                TreeNode pNode = queue.poll();
                TreeNode left = null;
                TreeNode right = null;
                if (!"#".equals(nodes[i])) {
                    left = new TreeNode(Integer.valueOf(nodes[i]));
                    queue.offer(left);
                }
                ++i;
                if (!"#".equals(nodes[i])) {
                    right = new TreeNode(Integer.valueOf(nodes[i]));
                    queue.offer(right);
                }
                ++i;
                pNode.left = left;
                pNode.right = right;
            }
        }
        return root;
    }
}

// Your Codec object will be instantiated and called as such:
// Codec ser = new Codec();
// Codec deser = new Codec();
// TreeNode ans = deser.deserialize(ser.serialize(root));
```



## 76.[æœ€é•¿ä¸Šå‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [10,9,2,5,3,7,101,18]
> è¾“å‡º: 4 
> è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚
> ```
>
> **è¯´æ˜:**
>
> - å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚
> - ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(*n2*) ã€‚
>
> **è¿›é˜¶:** ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(*n* log *n*) å—?

**æ€è·¯ï¼š**

[æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆåŠ¨æ€è§„åˆ’ + äºŒåˆ†æŸ¥æ‰¾ï¼Œæ¸…æ™°å›¾è§£ï¼‰ - æœ€é•¿ä¸Šå‡å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/longest-increasing-subsequence/solution/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-2/)

[æœ€é•¿ä¸Šå‡å­åºåˆ—/åŠ¨æ€è§„åˆ’/äºŒåˆ†æŸ¥æ‰¾ - æœ€é•¿ä¸Šå‡å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/longest-increasing-subsequence/solution/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-e/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    */
    public int lengthOfLIS(int[] nums) {
        int len = nums.length;
        if (len == 0)
            return 0;
        int[] dp = new int[len];
        //æ¯ä¸ªæ•°å­—éƒ½è‡³å°‘ä¸º1
        Arrays.fill(dp, 1);
        int max = 0;
        for (int i = 0; i < len; ++i) {
            for (int j = 0; j < i; ++j) {
                if (nums[j] < nums[i]) {
                    dp[i] = Math.max(dp[j] + 1, dp[i]);
                }
            }
            max = Math.max(max, dp[i]);
        }
        return max;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp + äºŒåˆ†
    å¾ˆå…·å°å·§æ€ã€‚æ–°å»ºæ•°ç»„ cellï¼Œç”¨äºä¿å­˜æœ€é•¿ä¸Šå‡å­åºåˆ—ã€‚
    å¯¹åŸåºåˆ—è¿›è¡Œéå†ï¼Œå°†æ¯ä½å…ƒç´ äºŒåˆ†æ’å…¥ cell ä¸­ã€‚
    å¦‚æœ cell ä¸­å…ƒç´ éƒ½æ¯”å®ƒå°ï¼Œå°†å®ƒæ’åˆ°æœ€å
    å¦åˆ™ï¼Œç”¨å®ƒè¦†ç›–æ‰æ¯”å®ƒå¤§çš„å…ƒç´ ä¸­æœ€å°çš„é‚£ä¸ªã€‚
    æ€»ä¹‹ï¼Œæ€æƒ³å°±æ˜¯è®© cell ä¸­å­˜å‚¨æ¯”è¾ƒå°çš„å…ƒç´ ã€‚è¿™æ ·ï¼Œcell æœªå¿…æ˜¯çœŸå®çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œä½†é•¿åº¦æ˜¯å¯¹çš„ã€‚
    */
    public int lengthOfLIS(int[] nums) {
        int[] cell = new int[nums.length];
        //cellçš„å³è¾¹ç•Œ(ä¸åŒ…å«ï¼Œå¯ä»¥çœ‹ä½œcellçš„é•¿åº¦)
        int len = 0;
        for (int num : nums) {
            int i = 0, j = len;
            while (i < j) {
                int m = (i + j) >> 1;
                if (cell[m] < num) {
                    i = m + 1;
                } else {
                    j = m;
                }
            }
            cell[i] = num;
            if (j == len)
                ++len;
        }
        return len;
    }
}
```



## 77.[åˆ é™¤æ— æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/remove-invalid-parentheses/)

**é¢˜ç›®ï¼š**

> åˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚
>
> **è¯´æ˜:** è¾“å…¥å¯èƒ½åŒ…å«äº†é™¤ `(` å’Œ `)` ä»¥å¤–çš„å­—ç¬¦ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: "()())()"
> è¾“å‡º: ["()()()", "(())()"]
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: "(a)())()"
> è¾“å‡º: ["(a)()()", "(a())()"]
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥: ")("
> è¾“å‡º: [""]
> ```

**æ€è·¯ï¼š**

[è¯¦ç»†é€šä¿—çš„æ€è·¯åˆ†æï¼Œå¤šè§£æ³• - åˆ é™¤æ— æ•ˆçš„æ‹¬å· - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/remove-invalid-parentheses/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by--56/)

[C++ æ™®é€šdfs(16 ms)å’Œå‰ªæä¼˜åŒ–åçš„dfs(0 ms) - åˆ é™¤æ— æ•ˆçš„æ‹¬å· - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/remove-invalid-parentheses/solution/c-pu-tong-dfs16-mshe-jian-zhi-you-hua-hou-de-dfs0-/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfså›æº¯
    1.å…ˆéå†ä¸€éå­—ç¬¦ä¸²sï¼Œè®¡ç®—å‡ºéœ€è¦åˆ é™¤çš„å·¦å³æ‹¬å·ä¸ªæ•°left,rightï¼Œä¸ºæˆ‘ä»¬çš„å‰ªæ”¯åšå‡†å¤‡
    2.å»ºç«‹Seté›†åˆæ¥ä¿å­˜ä¸é‡å¤çš„ç»“æœ,tmpä¿å­˜ä¸­é—´è§£
    3.å†æ¬¡éå†sçš„æ¯ä¸ªå­—ç¬¦ï¼Œå¯¹æ¯ä¸ªæ‹¬å·éƒ½åªæœ‰ä¸¤ç§é€‰æ‹©ï¼š1.ä¿ç•™2.åˆ é™¤
    ä½†åŒæ—¶åˆ é™¤æ‹¬å·çš„ä¸ªæ•°ä¼šæ”¶åˆ°left ä¸ rightçš„é™åˆ¶ï¼Œå½“åˆ é™¤çš„ä¸ªæ•°è¶…è¿‡leftæˆ–è€…rightå°†ç›´æ¥return
    4.è‹¥ç´¢å¼•ç­‰äºs.lengthå°±å°†å½“å‰è§£åŠ å…¥Setä¸­
    */
    Set<String> res = new HashSet<>();
    StringBuilder builder = new StringBuilder();
    int left;
    int right;
    int totalLen;
    public List<String> removeInvalidParentheses(String s) {
        for (int i = 0; i < s.length(); ++i) {
            char ch = s.charAt(i);
            if (ch == '(') {
                ++left;
            } else if (ch == ')') {
                if (left > 0) {
                    --left;
                } else {
                    ++right;
                }
            }
        }
        totalLen = s.length() - left - right;
        backtrack(s, 0, 0, 0, 0);
        if (res.size() == 0) {
            return new ArrayList<>(){{
                add("");
            }};
        } else {
            return new ArrayList<>(res);
        }
    }

    public void backtrack(String s, int curLeft, int curRight, int k, int curLen) {
        if (curLeft > left || curRight > right || curLen > totalLen)
            return;
        if (k == s.length()) {
            String str = builder.toString();
            if (check(str)) {
                res.add(str);
            }
            return;
        }
        //1.ä¿ç•™
        builder.append(s.charAt(k));
        backtrack(s, curLeft, curRight, k + 1, curLen + 1);
        builder.deleteCharAt(builder.length() - 1);
        //2.åˆ é™¤å·¦æ‹¬å·æˆ–è€…å³æ‹¬å·,å…¶ä»–å­—ç¬¦ä¸èƒ½åˆ 
        if (s.charAt(k) == '(') {
            backtrack(s, ++curLeft, curRight, k + 1, curLen);
        } else if (s.charAt(k) == ')') {
            backtrack(s, curLeft, ++curRight, k + 1, curLen);
        }
    }

    //æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åˆæ³•
    public boolean check(String s) {
        int l = 0;
        int r = 0;
        for (int i = 0; i < s.length(); ++i) {
            char ch = s.charAt(i);
            if (ch == '(') {
                ++l;
            } else if (ch == ')') {
                if (l > 0) {
                    --l;
                } else {
                    return false;
                }
            }
        }
        return l == r;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfså›æº¯
    1.å…ˆéå†ä¸€éå­—ç¬¦ä¸²sï¼Œè®¡ç®—å‡ºéœ€è¦åˆ é™¤çš„å·¦å³æ‹¬å·ä¸ªæ•°left,rightï¼Œä¸ºæˆ‘ä»¬çš„å‰ªæ”¯åšå‡†å¤‡
    2.å»ºç«‹Seté›†åˆæ¥ä¿å­˜ä¸é‡å¤çš„ç»“æœ,tmpä¿å­˜ä¸­é—´è§£
    3.å†æ¬¡éå†sçš„æ¯ä¸ªå­—ç¬¦ï¼Œå¯¹æ¯ä¸ªæ‹¬å·éƒ½åªæœ‰ä¸¤ç§é€‰æ‹©ï¼š1.ä¿ç•™2.åˆ é™¤
    ä½†åŒæ—¶åˆ é™¤æ‹¬å·çš„ä¸ªæ•°ä¼šæ”¶åˆ°left ä¸ rightçš„é™åˆ¶ï¼Œå½“åˆ é™¤çš„ä¸ªæ•°è¶…è¿‡leftæˆ–è€…rightå°†ç›´æ¥return
    4.è‹¥ç´¢å¼•ç­‰äºs.lengthå°±å°†å½“å‰è§£åŠ å…¥Setä¸­
    */
    List<String> res = new ArrayList<>();
    public List<String> removeInvalidParentheses(String s) {
        int left = 0, right = 0;
        for (int i = 0; i < s.length(); ++i) {
            char ch = s.charAt(i);
            if (ch == '(') {
                ++left;
            } else if (ch == ')') {
                if (left > 0) {
                    --left;
                } else {
                    ++right;
                }
            }
        }
        dfs(s, left, right, 0);
        return res;
    }

    public void dfs(String s, int curLeft, int curRight, int k) {
        if (curLeft == 0 && curRight == 0) {
            if (check(s)) {
                res.add(s);
            }
            return;
        }
        if (curRight < 0 || curLeft < 0)
            return;
        for (int i = k; i < s.length(); ++i) {
            //å»é‡å¤
            if (i - 1 >= k && s.charAt(i) == s.charAt(i - 1)) {
                continue;
            }
            String tmp = s.substring(0, i) + s.substring(i + 1);
            if (curLeft > 0 && s.charAt(i) == '(') {
                dfs(tmp, curLeft - 1, curRight, i);
            }
            if (curRight > 0 && s.charAt(i) == ')') {
                dfs(tmp, curLeft, curRight - 1, i);
            }
        }
    }

    //æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åˆæ³•
    public boolean check(String s) {
        int l = 0;
        int r = 0;
        for (int i = 0; i < s.length(); ++i) {
            char ch = s.charAt(i);
            if (ch == '(') {
                ++l;
            } else if (ch == ')') {
                if (l > 0) {
                    --l;
                } else {
                    return false;
                }
            }
        }
        return l == 0;
    }
}
```



## 78.[æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ *i* ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ *i* å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚
>
> è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰:
>
> - ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚
> - å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [1,2,3,0,2]
> è¾“å‡º: 3 
> è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º]
> ```

**æ€è·¯ï¼š**

[æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ - æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/zui-jia-mai-mai-gu-piao-shi-ji-han-leng-dong-qi-4/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    è®¾dp[i]è¡¨ç¤ºç¬¬iå¤©ç»“æŸä¹‹åçš„ã€ç´¯è®¡æœ€å¤§æ”¶ç›Šã€‘ã€‚æ ¹æ®é¢˜ç›®æè¿°ï¼Œç”±äºæˆ‘ä»¬æœ€å¤šåªèƒ½åŒæ—¶æŒæœ‰ä¸€åªè‚¡ç¥¨ï¼Œå¹¶ä¸”å–å‡ºè‚¡ç¥¨åæœ‰å†·å†»æœŸçš„é™åˆ¶ï¼Œå› æ­¤æœ‰ä¸‰ç§ä¸åŒçŠ¶æ€ï¼š
    1.æˆ‘ä»¬ç›®å‰æŒæœ‰ä¸€æ”¯è‚¡ç¥¨ï¼Œå¯¹åº”çš„ã€ç´¯è®¡æœ€å¤§æ”¶ç›Šã€‘è®°ä¸ºdp[i][0];
    2.æˆ‘ä»¬ç›®å‰ä¸æŒæœ‰ä»»ä½•ä¸€åªè‚¡ç¥¨ï¼Œå¹¶ä¸”å¤„äºå†·å†»æœŸä¸­ï¼Œå¯¹åº”ã€ç´¯è®¡æœ€å¤§æ”¶ç›Šã€‘è®°ä¸ºdp[i][1];
    3.æˆ‘ä»¬ç›®å‰ä¸æŒæœ‰ä»»ä½•è‚¡ç¥¨ï¼Œå¹¶ä¸”ä¸å¤„äºå†·å†»æœŸä¸­ï¼Œå¯¹åº”ã€ç´¯è®¡æœ€å¤§æ”¶ç›Šã€‘è®°ä¸ºdp[i][2];
    *è¿™é‡Œçš„ã€å¤„äºå†·å†»æœŸã€‘æ˜¯æŒ‡åœ¨ç¬¬iå¤©ç»“æŸä¹‹åçš„çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå¦‚æœç¬¬iå¤©ç»“æŸä¹‹åå¤„äºå†·å†»æœŸï¼Œé‚£ä¹ˆç¬¬i + 1å¤©æ— æ³•ä¹°å…¥è‚¡ç¥¨
    é‚£ä¹ˆæˆ‘ä»¬åœ¨ä¸è¿åè§„åˆ™çš„æƒ…å†µä¸‹å¯¹è¿™ä¸‰ç§æƒ…å†µè¿›è¡Œåˆ†æï¼š
    1.æˆ‘ä»¬å½“å‰æŒæœ‰çš„è‚¡ç¥¨å¯èƒ½æ˜¯ç»§æ‰¿è‡ªæ˜¨å¤©çš„ï¼Œå³dp[i - 1][0],ä¹Ÿå¯èƒ½æ˜¯ä¸å¤„äºå†·å†»æœŸçš„ä»Šå¤©åˆšä¹°çš„è‚¡ç¥¨ï¼Œä¹Ÿå°±æ˜¯è¦æ»¡è¶³æ˜¨å¤©ä¸å¯èƒ½å”®å‡ºè‚¡ç¥¨å¹¶ä¸”ä¹Ÿä¸èƒ½æŒæœ‰è‚¡ç¥¨
    å¹¶ä¸”ä»Šå¤©çš„è‚¡ç¥¨å°†äº§ç”Ÿè´Ÿä»·å€¼ï¼Œå³dp[i - 1][2] - price[i]ã€‚
    æ€»ç»“ï¼šdp[i][0] = max(dp[i - 1][0], dp[i - 1][2] - price[i]);
    2.å› ä¸ºi + 1å¤©å¤„äºå†·å†»æœŸï¼Œæ‰€ä»¥ç¬¬iå¤©è‚¯å®šè¿›è¡Œäº†è‚¡ç¥¨å‡ºå”®ï¼Œç”±äºåªèƒ½å‡ºå”®æ˜¨å¤©å³ä»¥ä¸Šçš„è‚¡ç¥¨ï¼Œå³dp[i][1] = dp[i - 1][0] + price[i]
    æ€»ç»“ï¼šdp[i][1] = dp[i - 1][0] + price[i];
    3.i + 1å¤©ä¸å¤„äºå†·å†»æœŸï¼Œä¸”ç¬¬iå¤©æ²¡æœ‰ä»»ä½•è‚¡ç¥¨ï¼Œè¯´æ˜ç¬¬iå¤©å¯èƒ½å¤„äºå†·å†»æœŸä¹Ÿå°±è¯´i - 1å¤©è¿›è¡Œäº†è‚¡ç¥¨å‡ºå”®ï¼Œå³dp[i][2] = dp[i - 1][1]
    æˆ–è€…ç¬¬iå¤©æ—¢æ²¡æœ‰è¿›è¡Œè‚¡ç¥¨è´­ä¹°ä¹Ÿæ²¡æœ‰å‡ºå”®å³dp[i][2] = dp[i - 1][2]
    æ€»ç»“ï¼šdp[i][2] = max(dp[i - 1][1], dp[i - 1][2]);
    ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥æ¨å‡ºæœ€åä¸€å¤©çš„ä»·å€¼ä¸ºmax(dp[n - 1][0], dp[n - 1][1], dp[n - 1][2])ï¼Œä½†ç”±äºæœ€åä¸€å¤©å°±ç®—æŒæœ‰äº†è‚¡ç¥¨ä¹Ÿä¸å¯èƒ½å‡ºå”®ï¼Œæ‰€ä»¥å¯ä»¥å»æ‰dp[n - 1][0]è¿™ç§æƒ…å†µ
    å³maxValue = max(dp[n - 1][1], dp[n - 1][2])
    åˆå§‹åŒ–ç¬¬0å¤©ï¼š
    åœ¨ç¬¬0å¤©æ—¶ï¼Œå¦‚æœæŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆåªèƒ½æ˜¯ç¬¬0å¤©ä¹°å…¥çš„ï¼Œå¯¹åº”çš„è´Ÿæ”¶ç›Š-price[0]ï¼Œdp[0][2]è¡¨ç¤ºåˆå§‹ä¸æŒæœ‰ä»»ä½•è‚¡ç¥¨ï¼Œæ‰€ä»¥ä¸º0ï¼Œç”±äºdp[0][1]åªä¼šä¸dp[0][2]å½±å“
    ä¸‹ä¸€è½®çš„dp[1][2]ï¼Œæ‰€ä»¥åªè¦ä½¿å¥¹å°äºæˆ–è€…ç­‰äºdp[0][2]å³å¯
    https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/zui-jia-mai-mai-gu-piao-shi-ji-han-leng-dong-qi-4/
    */
    public int maxProfit(int[] prices) {
        int n = prices.length;
        if (n <= 1)
            return 0;
        int[][] dp = new int[n][3];
        dp[0][0] = -prices[0];
        for (int i = 1; i < n; ++i) {
            dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][2] - prices[i]);
            dp[i][1] = dp[i - 1][0] + prices[i];
            dp[i][2] = Math.max(dp[i - 1][1], dp[i - 1][2]);
        }
        return Math.max(dp[n - 1][1], dp[n - 1][2]);
    }
}
```



## 79.[æˆ³æ°”çƒ](https://leetcode-cn.com/problems/burst-balloons/)

**é¢˜ç›®ï¼š**

> æœ‰ `n` ä¸ªæ°”çƒï¼Œç¼–å·ä¸º`0` åˆ° `n-1`ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„ `nums` ä¸­ã€‚
>
> ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚å¦‚æœä½ æˆ³ç ´æ°”çƒ `i` ï¼Œå°±å¯ä»¥è·å¾— `nums[left] * nums[i] * nums[right]` ä¸ªç¡¬å¸ã€‚ è¿™é‡Œçš„ `left` å’Œ `right` ä»£è¡¨å’Œ `i` ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚æ³¨æ„å½“ä½ æˆ³ç ´äº†æ°”çƒ `i` åï¼Œæ°”çƒ `left` å’Œæ°”çƒ `right` å°±å˜æˆäº†ç›¸é‚»çš„æ°”çƒã€‚
>
> æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚
>
> **è¯´æ˜:**
>
> - ä½ å¯ä»¥å‡è®¾ `nums[-1] = nums[n] = 1`ï¼Œä½†æ³¨æ„å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„æ‰€ä»¥å¹¶ä¸èƒ½è¢«æˆ³ç ´ã€‚
> - 0 â‰¤ `n` â‰¤ 500, 0 â‰¤ `nums[i]` â‰¤ 100
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: [3,1,5,8]
> è¾“å‡º: 167 
> è§£é‡Š: nums = [3,1,5,8] --> [3,5,8] -->   [3,8]   -->  [8]  --> []
>      coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167
> ```

**æ€è·¯ï¼š**

//https://leetcode-cn.com/problems/burst-balloons/solution/zhe-ge-cai-pu-zi-ji-zai-jia-ye-neng-zuo-guan-jian-/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp forever the god
    è®¾dp[i][j]è¡¨ç¤ºä»¥iä¸ºå·¦è¾¹ç•Œï¼Œjä¸ºå³è¾¹ç•Œçš„å¼€åŒºé—´(i,j)çš„æœ€å¤§ä»·å€¼ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»å°†(i,j)å†…çš„æ°”çƒæˆ³ç ´å¾—åªå‰©ä¸‹ä¸€ä¸ªkäº†
    é‚£ä¹ˆæ­¤æ—¶(i,j)å¼€åŒºé—´çš„æœ€å¤§ä»·å€¼å¯ä»¥ç”±dp[i][k]å’Œdp[k][j]è¿›è¡Œè½¬ç§»ï¼Œå¦‚æœæ­¤åˆ»é€‰æ‹©æˆ³ç ´k,é‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°çš„é‡‘å¸æ•°é‡æ˜¯ï¼š
    total = dp[i][k] + val[i]*val[k]*val[j] + dp[k][j];
    è€Œ(i,j)åŒºé—´çš„æ°”çƒå¯èƒ½ä¸åªkè¿™ä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦å¯¹è¯¥å¼€åŒºé—´çš„æ‰€æœ‰æ°”çƒè¿›è¡Œè®¡ç®—ï¼Œå¹¶å°†æœ€å¤§å€¼maxèµ‹å€¼ç»™dp[i][j]ï¼Œå³å¯ç®—å‡º(i,j)å¼€åŒºé—´çš„æœ€å¤§ä»·å€¼
    ç„¶åå‘¢ï¼Œå°±å¯ä»¥ä» (i,j) å¼€åŒºé—´åªæœ‰ä¸‰ä¸ªæ•°å­—çš„æ—¶å€™å¼€å§‹è®¡ç®—ï¼Œå‚¨å­˜æ¯ä¸ªå°åŒºé—´å¯ä»¥å¾—åˆ°é‡‘å¸çš„æœ€å¤§å€¼
    ç„¶åæ…¢æ…¢æ‰©å±•åˆ°æ›´å¤§çš„åŒºé—´ï¼Œåˆ©ç”¨å°åŒºé—´é‡Œå·²ç»ç®—å¥½çš„æ•°å­—æ¥ç®—æ›´å¤§çš„åŒºé—´(å³ç®—å‡ºæ‰€æœ‰åŒºé—´é•¿åº¦ä¸º3çš„dpï¼Œæ¥ç€å°†é•¿åº¦+1è®¡ç®—ä¸º4çš„dp....ç›´åˆ°é•¿åº¦è¦†ç›–æ•´ä¸ªæ•°ç»„)
    */
    public int maxCoins(int[] nums) {
        int n = nums.length;
        if (n < 1)
            return 0;
        int[] vals = new int[n + 2];
        System.arraycopy(nums, 0, vals, 1, n);
        //ä¸¤ä¸ªå“¨å…µç‚¹é˜²æ­¢è¶Šç•Œ
        vals[0] = 1;
        vals[n + 1] = 1;
        int[][] dp = new int[n + 2][n + 2];
        //åŒºé—´é•¿åº¦lenï¼Œä»3å¼€å§‹,é€æ¸è¦†ç›–æ•´ä¸ªæ•°ç»„
        for (int len = 3; len <= n + 2; ++len) {
            //åŒºé—´èµ·å§‹ç‚¹i
            for (int i = 0; i <= n + 2 - len; ++i) {
                int max = 0;
                //è¦åˆ é™¤çš„ç‚¹k
                for (int k = i + 1; k < i + len - 1; ++k) {
                    int left = dp[i][k];
                    int right = dp[k][i + len - 1];
                    max = Math.max(max, left + right + vals[i] * vals[k] * vals[i + len - 1]);
                }
                dp[i][i + len - 1] = max;
            }
        }
        return dp[0][n + 1];
    }
}
```



## 80.[é›¶é’±å…‘æ¢](https://leetcode-cn.com/problems/coin-change/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ `coins` å’Œä¸€ä¸ªæ€»é‡‘é¢ `amount`ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1`ã€‚
>
> ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šcoins = [1, 2, 5], amount = 11
> è¾“å‡ºï¼š3 
> è§£é‡Šï¼š11 = 5 + 5 + 1
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šcoins = [2], amount = 3
> è¾“å‡ºï¼š-1
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šcoins = [1], amount = 0
> è¾“å‡ºï¼š0
> ```
>
> **ç¤ºä¾‹ 4ï¼š**
>
> ```
> è¾“å…¥ï¼šcoins = [1], amount = 1
> è¾“å‡ºï¼š1
> ```
>
> **ç¤ºä¾‹ 5ï¼š**
>
> ```
> è¾“å…¥ï¼šcoins = [1], amount = 2
> è¾“å‡ºï¼š2
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= coins.length <= 12`
> - `1 <= coins[i] <= 231 - 1`
> - `0 <= amount <= 104`

**æ€è·¯ï¼š**

[Java é€’å½’ã€è®°å¿†åŒ–æœç´¢ã€åŠ¨æ€è§„åˆ’ - é›¶é’±å…‘æ¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/coin-change/solution/javadi-gui-ji-yi-hua-sou-suo-dong-tai-gui-hua-by-s/)
[åŠ¨æ€è§„åˆ’ã€å®Œå…¨èƒŒåŒ…ã€BFSï¼ˆåŒ…å«å®Œå…¨èƒŒåŒ…é—®é¢˜å…¬å¼æ¨å¯¼ï¼‰ - é›¶é’±å…‘æ¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/coin-change/solution/dong-tai-gui-hua-shi-yong-wan-quan-bei-bao-wen-ti-/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    æ­¤é—®é¢˜å¯ä»¥è½¬æ¢ä¸ºæ±‚æœ€å°ä»·å€¼çš„å®Œå…¨èƒŒåŒ…é—®é¢˜,æ˜¾ç„¶æ¯åŠ ä¸€æšç¡¬å¸ç›¸å½“äºä»·å€¼ + 1ï¼Œè®¾dp[i][j]è¡¨ç¤ºä½¿ç”¨å‰iç§ç¡¬å¸å‡‘é½é‡‘é¢jæ‰€éœ€çš„æœ€å°ç¡¬å¸æ•°
    1.å¤–å¾ªç¯ï¼šå¯¹æ¯ç§ç¡¬å¸coins[i]è¿›è¡Œéå†ï¼Œè¡¨ç¤ºä½¿ç”¨åˆ°äº†å‰iç§ç¡¬å¸
    2.å†…å¾ªç¯ï¼šä½¿ç”¨jæ¥è¡¨ç¤º0 ~ amountçš„é‡‘é¢ï¼ˆé¡ºåºä¼šè¦†ç›–ä»¥å‰çš„çŠ¶æ€ï¼Œæ‰€ä»¥å­˜åœ¨å¤šæ¬¡é€‰æ‹©çš„æƒ…å†µï¼‰ï¼Œè€ƒè™‘åˆ°j < coins[i]æ—¶ä¸å¯èƒ½åŠ å…¥ç¡¬å¸iï¼Œæ‰€ä»¥
    jå¯ä»¥ç›´æ¥ä»coins[i]å¼€å§‹éå†ï¼šå¹¶ä¸”ä¸Šé™ä¸ºkæ¬¡ï¼Œå…¶ä¸­coins[i] * k <= jï¼Œå¹¶ä¸”å¯èƒ½é‡åˆ°ä»¥ä¸‹4ç§æƒ…å†µï¼š
    1.è‹¥å‰i - 1ç§ç¡¬å¸å‡‘ä¸é½é‡‘é¢jï¼Œå³dp[i - 1][j]ä¸º-1ï¼š
        1.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¹Ÿä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼Œåˆ™dp[i][j] = -1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼›
        2.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¸ä¸º-1ï¼Œåˆ™dp[i][j] = dp[i - 1][j - k * coins[i]] + 1ï¼›
    2.è‹¥å‰i - 1ç§ç¡¬å¸å¯ä»¥å‡‘é½é‡‘é¢jï¼Œå³dp[i - 1][j] >= 1ï¼š
        1.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¹Ÿä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼Œåˆ™dp[i][j] = dp[i - 1][j]ï¼›
        2.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¸ä¸º-1ï¼Œåˆ™æœ¬æ¬¡åº”è¯¥å–ä»–ä»¬çš„æ›´å°è€…ï¼Œå³dp[i][j] = min(dp[i - 1][j], dp[i - 1][j - k * coins[i]] + 1)ï¼›
    åˆå§‹åŒ–ï¼šdp[0][0] = 0ï¼Œå¹¶ä¸”dp[0][i] = -1 (i > 0)è¡¨ç¤ºæ²¡æœ‰ç‰©å“ä¸”æœ‰é‡‘é¢æ—¶ä¸€å®šä¸èƒ½å‡‘æ•´
    ä¼˜åŒ–ï¼šç”±äºæ¯è½®içš„å€¼éƒ½åªä¸i - 1è½®æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„ä»£æ›¿äºŒç»´æ•°ç»„
    */
    public int coinChange(int[] coins, int amount) {
        int[] dp = new int[amount + 1];
        Arrays.fill(dp, -1);
        dp[0] = 0;
        //å¤–å¾ªç¯è¡¨ç¤ºå‰iä¸ªç¡¬å¸
        for (int i = 0; i < coins.length; ++i) {
            //å†…å¾ªç¯è¡¨ç¤ºå½“å‰é‡‘é¢,åº”è¯¥ä»coins[i]å¼€å§‹
            for (int j = coins[i]; j <= amount; ++j) {
                if (dp[j - coins[i]] != -1) {
                    if (dp[j] == -1) {
                        dp[j] = dp[j - coins[i]] + 1;
                    } else {
                        dp[j] = Math.min(dp[j - coins[i]] + 1, dp[j]);
                    }
                }
            }
        }
        return dp[amount];
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfs + è®°å¿†åŒ–æœç´¢ (ç±»dp)
    int dfs(int amount),è¿”å›å€¼ä»£è¡¨è¿˜éœ€å‡‘æ•´çš„ç¡¬å¸æ•°
    1.åˆå§‹åŒ–ï¼šå…¨å±€å˜é‡int cache[j] è¡¨ç¤ºé‡‘é¢jå¯ä»¥è¢«æ¢å–çš„æœ€å°‘ç¡¬å¸æ•°ï¼Œä¸º-1è¡¨ç¤ºä¸èƒ½æ¢å–ï¼Œå…¨å±€å˜é‡count = 0
    2.ç»“æŸæ¡ä»¶ï¼š
        1.amount == 0è¡¨ç¤ºå‡‘æ•´æˆåŠŸï¼Œæœ¬æ¬¡æ²¡æœ‰ä½¿ç”¨ç¡¬å¸ï¼Œç›´æ¥return 0å³å¯
        2.è‹¥amount < 0 å¹¶return -1,ä»£è¡¨å‡‘æ•´å¤±è´¥
        3.è‹¥cache[amount]ä¸ä¸º0è¡¨ç¤ºè¯¥é‡‘é¢amountè®¿é—®è¿‡ï¼Œç›´æ¥è¿”å›cache[amount]å³å¯
    3.é¢„å…ˆå®šä¹‰å˜é‡minç”¨æ¥ä¿å­˜æœ€å°å€¼ï¼Œéœ€è¦åˆå§‹åŒ–ä¸ºintçš„æœ€å¤§å€¼ï¼Œç„¶åå¯¹coinsé‡‘é¢è¿›è¡Œéå†ï¼Œä½¿ç”¨coins[i]è¡¨ç¤ºï¼š
        1.å¼€å¯ä¸‹ä¸€å±‚é€’å½’dfs(amount - coins[i])å¹¶ä½¿ç”¨resæ¥æ”¶å…¶è¿”å›å€¼
        2.åˆ¤æ–­resçš„å¤§å°å’Œresä¸minçš„å…³ç³»ï¼š
            1.res == -1:è¡¨ç¤ºå‡‘æ•´å¤±è´¥ï¼Œè·³è¿‡å³å¯
            2.res >=0 :è¡¨ç¤ºå‡‘æ•´æˆåŠŸï¼Œmin = min(min, res + 1),res + 1æ˜¯å› ä¸ºresä»…ä»…ä»£è¡¨å‡å»æœ¬æ¬¡é‡‘é¢åæ‰€éœ€çš„ç¡¬å¸ï¼Œæ‰€ä»¥è¿˜éœ€åŠ ä¸Šæœ¬æ¬¡çš„è¿™ä¸€æšç¡¬å¸
    4.æ·»åŠ ç¼“å­˜ï¼šè‹¥minæœªè¢«èµ‹å€¼è¿‡è¡¨ç¤ºæ‰€æœ‰ç¡¬å¸éƒ½æ— æ³•å°†æœ¬æ¬¡amountå‡‘æ•´æˆåŠŸï¼Œç›´æ¥å°†cache[amount] = -1ï¼Œ
        åä¹‹å°†å…¶èµ‹å€¼ä¸ºminå³å¯
    3.è¿”å›å€¼ï¼šè¿”å›cache[amount]å³å¯
    */
    int[] cache;
    int[] coins;
    public int coinChange(int[] coins, int amount) {
        cache = new int[amount + 1];
        this.coins = coins;
        return dfs(amount);
    }

    public int dfs(int amount) {
        if (amount == 0) {
            return 0;
        } else if (amount < 0) {
            return - 1;
        } else if (cache[amount] != 0) {
            return cache[amount];
        }
        int min = Integer.MAX_VALUE;
        for (int i = 0; i < coins.length; ++i) {
            int res = dfs(amount - coins[i]);
            //resä¸º-1è¡¨ç¤ºå·²ç»è®¿é—®è¿‡ï¼Œä¸”ä¸èƒ½å‡‘æ•´
            if (res >= 0 && res < min) {
                min = res + 1;//åŠ ä¸Šæœ¬æ¬¡çš„ç¡¬å¸
            }
        }
        //æœ¬æ¬¡çš„ç»“æœç¼“å­˜èµ·æ¥ï¼Œè‹¥minä»æœªintæœ€å¤§å€¼åˆ™è¡¨ç¤ºæ— æ³•å‡‘æ•´
        cache[amount] = min == Integer.MAX_VALUE ? -1 : min;
        return cache[amount];
    }
}


```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šbfs
    1.åˆå§‹åŒ–ï¼šå®šä¹‰é˜Ÿåˆ—queueå­˜å‚¨å‰©ä½™é‡‘é¢èŠ‚ç‚¹ï¼Œvisitedæ•°ç»„ä¿å­˜0 ~ amounté‡‘é¢çš„è®¿é—®æƒ…å†µ,countä¿å­˜å½“å‰ç¡¬å¸ä¸ªæ•°
    2.å°†åˆå§‹åŒ–é‡‘é¢amountåŠ å…¥queueç§ï¼Œå½“queueä¸ä¸ºç©ºæ—¶è¿›è¡Œå¾ªç¯ï¼š
        1.å˜é‡sizeä¿å­˜æœ¬æ¬¡éœ€è¦éå†queueçš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œsize = queue.size()
        2.å–å‡ºqueueç§å‰sizeä¸ªèŠ‚ç‚¹ï¼Œè®¾å…¶ä¸ºkï¼š
            1.è‹¥k == 0ï¼šåˆ™ç›´æ¥è¿”å›count
            2.éå†coins[i],è‹¥k - coins[i] > 0ä¸”visited[k - coins[i]]ä¸ºæœªè®¿é—®è¿‡åˆ™å°†å…¶åŠ å…¥queueä¸­,æ ‡è®°visited[k - coins[i]]ä¸ºè®¿é—®è¿‡
        3.++count
    3.è¿”å›-1è¡¨ç¤ºæœªæ‰¾åˆ°
    */
    public int coinChange(int[] coins, int amount) {
        if (amount == 0)
            return 0;
        Deque<Integer> queue = new LinkedList<>();
        boolean[] visited = new boolean[amount + 1];
        Arrays.sort(coins);
        int count = 1;
        queue.offer(amount);
        visited[amount] = true;
        while (!queue.isEmpty()) {
            int size = queue.size();
            for (int i = 0; i < size; ++i) {
                int curAmount = queue.poll();
                for (int coin : coins) {
                    int next = curAmount - coin;
                    if (next == 0) {
                        return count;
                    }
                    if (next < 0) {
                        break;
                    }
                    if (!visited[next]) {
                        queue.offer(next);
                        visited[next] = true;
                    }
                }
            }
            ++count;
        }
        return -1;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    æ­¤é—®é¢˜å¯ä»¥è½¬æ¢ä¸ºæ±‚æœ€å°ä»·å€¼çš„å®Œå…¨èƒŒåŒ…é—®é¢˜,æ˜¾ç„¶æ¯åŠ ä¸€æšç¡¬å¸ç›¸å½“äºä»·å€¼ + 1ï¼Œè®¾dp[i][j]è¡¨ç¤ºä½¿ç”¨å‰iç§ç¡¬å¸å‡‘é½é‡‘é¢jæ‰€éœ€çš„æœ€å°ç¡¬å¸æ•°
    1.å¤–å¾ªç¯ï¼šå¯¹æ¯ç§ç¡¬å¸coins[i]è¿›è¡Œéå†ï¼Œè¡¨ç¤ºä½¿ç”¨åˆ°äº†å‰iç§ç¡¬å¸
    2.å†…å¾ªç¯ï¼šä½¿ç”¨jæ¥è¡¨ç¤º0 ~ amountçš„é‡‘é¢ï¼ˆé¡ºåºä¼šè¦†ç›–ä»¥å‰çš„çŠ¶æ€ï¼Œæ‰€ä»¥å­˜åœ¨å¤šæ¬¡é€‰æ‹©çš„æƒ…å†µï¼‰ï¼Œè€ƒè™‘åˆ°j < coins[i]æ—¶ä¸å¯èƒ½åŠ å…¥ç¡¬å¸iï¼Œæ‰€ä»¥
    jå¯ä»¥ç›´æ¥ä»coins[i]å¼€å§‹éå†ï¼šå¹¶ä¸”ä¸Šé™ä¸ºkæ¬¡ï¼Œå…¶ä¸­coins[i] * k <= jï¼Œå¹¶ä¸”å¯èƒ½é‡åˆ°ä»¥ä¸‹4ç§æƒ…å†µï¼š
    1.è‹¥å‰i - 1ç§ç¡¬å¸å‡‘ä¸é½é‡‘é¢jï¼Œå³dp[i - 1][j]ä¸º-1ï¼š
        1.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¹Ÿä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼Œåˆ™dp[i][j] = -1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼›
        2.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¸ä¸º-1ï¼Œåˆ™dp[i][j] = dp[i - 1][j - k * coins[i]] + 1ï¼›
    2.è‹¥å‰i - 1ç§ç¡¬å¸å¯ä»¥å‡‘é½é‡‘é¢jï¼Œå³dp[i - 1][j] >= 1ï¼š
        1.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¹Ÿä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼Œåˆ™dp[i][j] = dp[i - 1][j]ï¼›
        2.è‹¥æœ¬æ¬¡dp[i - 1][j - k * coins[i]] ä¸ä¸º-1ï¼Œåˆ™æœ¬æ¬¡åº”è¯¥å–ä»–ä»¬çš„æ›´å°è€…ï¼Œå³dp[i][j] = min(dp[i - 1][j], dp[i - 1][j - k * coins[i]] + 1)ï¼›
    åˆå§‹åŒ–ï¼šdp[0][0] = 0ï¼Œå¹¶ä¸”dp[0][i] = -1 (i > 0)è¡¨ç¤ºæ²¡æœ‰ç‰©å“ä¸”æœ‰é‡‘é¢æ—¶ä¸€å®šä¸èƒ½å‡‘æ•´
    ä¼˜åŒ–ï¼šç”±äºæ¯è½®içš„å€¼éƒ½åªä¸i - 1è½®æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸€ç»´æ•°ç»„ä»£æ›¿äºŒç»´æ•°ç»„
    */
    public int coinChange(int[] coins, int amount) {
        int[] dp = new int[amount + 1];
        //å°†æ•°ç»„å¡«å……ä¸ºæœ€å°ä¸å¯èƒ½åˆ°è¾¾çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å‡è®¾è¢«å…¨ä¸º1çš„ç¡¬å¸å é¢†çš„åŸºç¡€ä¸Šå† + 1
        //å…¶å®ä¹Ÿèƒ½åˆå§‹åŒ–ä¸º-1ï¼Œè¡¨ç¤ºä¸èƒ½å‡‘æ•´ï¼Œä½†è¿™æ ·åšä¼šå¯¼è‡´åœ¨å¾ªç¯ä¸­å¢åŠ æ›´å¤šçš„åˆ¤æ–­è¯­å¥ï¼Œå˜ç›¸åŠ å¤§æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä½¿ç”¨æœ€å°ä¸å¯è¾¾å€¼åˆ™åªéœ€åˆ¤æ–­æ›´å°å€¼å³å¯
        Arrays.fill(dp, amount + 1);
        dp[0] = 0;
        //å¤–å¾ªç¯è¡¨ç¤ºå‰iä¸ªç¡¬å¸
        for (int i = 0; i < coins.length; ++i) {
            //å†…å¾ªç¯è¡¨ç¤ºå½“å‰é‡‘é¢,å¯ä»¥ç›´æ¥ä»ä»coins[i]å¼€å§‹ï¼Œç›´æ¥é¡ºåºéå†è¡¨ç¤ºå¯ä»¥é‡å¤å–
            for (int j = coins[i]; j <= amount; ++j) {
                dp[j] = Math.min(dp[j], dp[j - coins[i]] + 1);                
            }
        }
        return dp[amount] == amount + 1 ? -1 : dp[amount];
    }
}
```



## 81.[æ‰“å®¶åŠ«èˆ III](https://leetcode-cn.com/problems/house-robber-iii/)

**é¢˜ç›®ï¼š**

> åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚
>
> è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [3,2,3,null,3,null,1]
> 
>      3
>     / \
>    2   3
>     \   \ 
>      3   1
> 
> è¾“å‡º: 7 
> è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [3,4,5,1,3,null,1]
> 
>      3
>     / \
>    4   5
>   / \   \ 
>  1   3   1
> 
> è¾“å‡º: 9
> è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9.
> ```

**æ€è·¯ï¼š**

[ä¸‰ç§æ–¹æ³•è§£å†³æ ‘å½¢åŠ¨æ€è§„åˆ’é—®é¢˜-ä»å…¥é—¨çº§ä»£ç åˆ°é«˜æ•ˆæ ‘å½¢åŠ¨æ€è§„åˆ’ä»£ç å®ç° - æ‰“å®¶åŠ«èˆ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/house-robber-iii/solution/san-chong-fang-fa-jie-jue-shu-xing-dong-tai-gui-hu/)

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfs + è®°å¿†æ³•

    */
    public int rob(TreeNode root) {
        Map<TreeNode, Integer> cache = new HashMap<>();
        return dfs(root, cache);
    }

    public int dfs(TreeNode root, Map<TreeNode, Integer> cache) {
        if (root == null) {
            return 0;
        } else if (cache.containsKeyâ€‹(root)) {
            return cache.get(root);
        }
        //æƒ…å†µ1ï¼šåŠ ä¸Šæœ¬æ¬¡èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼š
        int sumA = 0;
        sumA += root.val;
        if (root.left != null) {
            sumA += dfs(root.left.left, cache);
            sumA += dfs(root.left.right, cache);
        }
        if (root.right != null) {
            sumA += dfs(root.right.left, cache);
            sumA += dfs(root.right.right, cache);
        }
        //æƒ…å†µ2ï¼šåªåŠ ä¸Šå­èŠ‚ç‚¹çš„å€¼
        int sumB = 0;
        sumB += dfs(root.left, cache);
        sumB += dfs(root.right, cache);
        int max = Math.max(sumB, sumA);
        cache.put(root, max);
        return max;
    }
}
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp + ååºéå†
    dp[pNode]è¡¨ç¤ºåœ¨pNodeèƒ½æ‰“åŠ«çš„æœ€å¤§ä»·å€¼
    æƒ…å†µ1ï¼šé€‰æ‹©æœ¬èŠ‚ç‚¹ï¼šdp[pNode] = pNode.val + dp[pNode.left.left] + dp[pNode.left.right] + dp[pNode.right.left] + dp[pNode.right.right]
    æƒ…å†µ2ï¼šä¸é€‰æ‹©æœ¬èŠ‚ç‚¹ï¼šdp[pNode] = dp[pNode.left] + dp[pNode.right]
    dp[pNode] = Max()
    */
    Map<TreeNode, Integer> dp = new HashMap<>();
    public int rob(TreeNode root) {
        if (root == null)
            return 0;
        dfs(root);
        return dp.get(root);
    }

    public void dfs(TreeNode root) {
        if (root == null) {
            return;
        }
        dfs(root.left);
        dfs(root.right);
        int sumA = 0;
        if (root.left != null) {
            if (root.left.left != null) {
                sumA += dp.get(root.left.left);
            }
            if (root.left.right != null) {
                sumA += dp.get(root.left.right);
            }
        }
        if (root.right != null) {
            if (root.right.left != null) {
                sumA += dp.get(root.right.left);
            }
            if (root.right.right != null) {
                sumA += dp.get(root.right.right);
            }
        }
        sumA += root.val;
        int sumB = 0;
        if (root.left != null) {
            sumB += dp.get(root.left);
        }
        if (root.right != null) {
            sumB += dp.get(root.right);
        }
        int max = Math.max(sumA, sumB);
        dp.put(root, max);
    }
}

```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp + åç»­éå† + ç©ºé—´ä¼˜åŒ–
    åˆšåˆšçš„dpä½¿ç”¨äº†ç©ºé—´å¤æ‚åº¦ä¸ºnçš„dpå“ˆå¸Œè¡¨ï¼Œè€Œå®é™…ä¸Šæ¯è½®åªä¸ä¸Šä¸€è½®æœ‰å…³ï¼Œå®Œå…¨å¯ä»¥çœå»è¿™nçš„ç©ºé—´ï¼Œé‚£ä¹ˆå¦‚ä½•è¿›è¡Œæ–°çš„çŠ¶æ€è½¬ç§»å‘¢ï¼Ÿ
    å‡è®¾æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥é€‰æ‹©å·æˆ–è€…ä¸å·ä¸¤ç§çŠ¶æ€ï¼Œæ ¹æ®é¢˜ç›®æ„æ€ï¼Œç›¸é‚»èŠ‚ç‚¹ä¸èƒ½ä¸€èµ·å·
    1.å½“å‰èŠ‚ç‚¹é€‰æ‹©å·æ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­©å­èŠ‚ç‚¹å°±ä¸èƒ½é€‰æ‹©å·
    2.å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·æ—¶ï¼Œä¸¤ä¸ªå­©å­èŠ‚ç‚¹åªéœ€è¦æ‹¿æ›´å¤šçš„é’±å°±è¡Œï¼ˆç®¡å­©å­ä»¬å·ä¸å·å‘¢ï¼Œç»™æˆ‘æœ€å¤šå°±è¡Œï¼‰
    æˆ‘ä»¬ä½¿ç”¨å¤§å°ä¸º2çš„æ•°ç»„æ¥è¡¨ç¤º int[] res = new int[2] 0ä»£è¡¨ä¸å·ï¼Œ1ä»£è¡¨å·
    ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±çš„çŠ¶æ€å¯ä»¥å®šä¹‰ä¸ºï¼š
    1.å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­èƒ½å·ç›—é’±çš„æœ€å¤§ + å³å­©å­èƒ½å·åˆ°çš„é’±çš„æœ€å¤§
    2.å½“å‰èŠ‚ç‚¹é€‰æ‹©å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·ç›—çš„æœ€å¤§é’±æ•° = å·¦å­©å­é€‰æ‹©è‡ªå·±ä¸å·æ—¶èƒ½å¾—åˆ°çš„æœ€å¤§é’± + å³å­©å­é€‰æ‹©ä¸å·æ—¶èƒ½å¾—åˆ°çš„æœ€å¤§é’± + å½“å‰èŠ‚ç‚¹çš„é’±
    */
    public int rob(TreeNode root) {
        int[] res = dfs(root);
        return Math.max(res[0], res[1]);
    }

    public int[] dfs(TreeNode root) {
        if (root == null) {
            return new int[2];
        }
        int[] left = dfs(root.left);
        int[] right = dfs(root.right);
        //é€‰æ‹©ä¸å·
        int[] res = new int[2];
        res[0] = Math.max(left[0], left[1]) + Math.max(right[0], right[1]);
        //é€‰æ‹©å·
        res[1] = root.val + left[0] + right[0];
        return res;
    }
}
//å‚è€ƒï¼šhttps://leetcode-cn.com/problems/house-robber-iii/solution/san-chong-fang-fa-jie-jue-shu-xing-dong-tai-gui-hu/
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp + åç»­éå† + ç©ºé—´ä¼˜åŒ–
    åˆšåˆšçš„dpä½¿ç”¨äº†ç©ºé—´å¤æ‚åº¦ä¸ºnçš„dpå“ˆå¸Œè¡¨ï¼Œè€Œå®é™…ä¸Šæ¯è½®åªä¸ä¸Šä¸€è½®æœ‰å…³ï¼Œå®Œå…¨å¯ä»¥çœå»è¿™nçš„ç©ºé—´ï¼Œé‚£ä¹ˆå¦‚ä½•è¿›è¡Œæ–°çš„çŠ¶æ€è½¬ç§»å‘¢ï¼Ÿ
    å‡è®¾æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥é€‰æ‹©å·æˆ–è€…ä¸å·ä¸¤ç§çŠ¶æ€ï¼Œæ ¹æ®é¢˜ç›®æ„æ€ï¼Œç›¸é‚»èŠ‚ç‚¹ä¸èƒ½ä¸€èµ·å·
    1.å½“å‰èŠ‚ç‚¹é€‰æ‹©å·æ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­©å­èŠ‚ç‚¹å°±ä¸èƒ½é€‰æ‹©å·
    2.å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·æ—¶ï¼Œä¸¤ä¸ªå­©å­èŠ‚ç‚¹åªéœ€è¦æ‹¿æ›´å¤šçš„é’±å°±è¡Œï¼ˆç®¡å­©å­ä»¬å·ä¸å·å‘¢ï¼Œç»™æˆ‘æœ€å¤šå°±è¡Œï¼‰
    æˆ‘ä»¬ä½¿ç”¨å¤§å°ä¸º2çš„æ•°ç»„æ¥è¡¨ç¤º int[] res = new int[2] 0ä»£è¡¨ä¸å·ï¼Œ1ä»£è¡¨å·
    ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±çš„çŠ¶æ€å¯ä»¥å®šä¹‰ä¸ºï¼š
    1.å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­èƒ½å·ç›—é’±çš„æœ€å¤§é’±æ•° + å³å­©å­èƒ½å·åˆ°çš„é’±çš„æœ€å¤§é’±æ•°
    2.å½“å‰èŠ‚ç‚¹é€‰æ‹©å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·ç›—çš„æœ€å¤§é’±æ•° = å·¦å­©å­é€‰æ‹©è‡ªå·±ä¸å·æ—¶èƒ½å¾—åˆ°çš„æœ€å¤§é’± + å³å­©å­é€‰æ‹©ä¸å·æ—¶èƒ½å¾—åˆ°çš„æœ€å¤§é’± + å½“å‰èŠ‚ç‚¹çš„é’±
    */
    public int rob(TreeNode root) {
        int[] res = dfs(root);
        return res[1];
    }

    public int[] dfs(TreeNode root) {
        if (root == null) {
            return new int[2];
        }
        int[] left = dfs(root.left);
        int[] right = dfs(root.right);
        //é€‰æ‹©ä¸å·
        int[] res = new int[2];
        res[0] = left[1] + right[1];
        //é€‰æ‹©å·
        res[1] = root.val + left[0] + right[0];
        //res[1]ä¿å­˜ä¸¤è€…ä¸­æ›´å¤§çš„
        res[1] = Math.max(res[0], res[1]);
        return res;
    }
}
//å‚è€ƒï¼šhttps://leetcode-cn.com/problems/house-robber-iii/solution/san-chong-fang-fa-jie-jue-shu-xing-dong-tai-gui-hu/

```

## 82.[æ¯”ç‰¹ä½è®¡æ•°](https://leetcode-cn.com/problems/counting-bits/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° **num**ã€‚å¯¹äº **0 â‰¤ i â‰¤ num** èŒƒå›´ä¸­çš„æ¯ä¸ªæ•°å­— **i** ï¼Œè®¡ç®—å…¶äºŒè¿›åˆ¶æ•°ä¸­çš„ 1 çš„æ•°ç›®å¹¶å°†å®ƒä»¬ä½œä¸ºæ•°ç»„è¿”å›ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: 2
> è¾“å‡º: [0,1,1]
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: 5
> è¾“å‡º: [0,1,1,2,1,2]
> ```
>
> **è¿›é˜¶:**
>
> - ç»™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º**O(n\*sizeof(integer))**çš„è§£ç­”éå¸¸å®¹æ˜“ã€‚ä½†ä½ å¯ä»¥åœ¨çº¿æ€§æ—¶é—´**O(n)**å†…ç”¨ä¸€è¶Ÿæ‰«æåšåˆ°å—ï¼Ÿ
> - è¦æ±‚ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º**O(n)**ã€‚
> - ä½ èƒ½è¿›ä¸€æ­¥å®Œå–„è§£æ³•å—ï¼Ÿè¦æ±‚åœ¨C++æˆ–ä»»ä½•å…¶ä»–è¯­è¨€ä¸­ä¸ä½¿ç”¨ä»»ä½•å†…ç½®å‡½æ•°ï¼ˆå¦‚ C++ ä¸­çš„ **__builtin_popcount**ï¼‰æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚

**æ€è·¯ï¼š**

[æ¸…æ™°çš„æ€è·¯ - æ¯”ç‰¹ä½è®¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/counting-bits/solution/hen-qing-xi-de-si-lu-by-duadua/)

[æ¯”ç‰¹ä½è®¡æ•° - æ¯”ç‰¹ä½è®¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/counting-bits/solution/bi-te-wei-ji-shu-by-leetcode/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    ä»¥äºŒè¿›åˆ¶æ•°çš„ä½æ•°åˆ†å±‚ï¼Œé€å±‚æ±‚è§£ï¼Œä¾‹å¦‚[10, 11], [100, 101, 110, 111]
    2kä¸ºxä½çš„æœ€å°äºŒè¿›åˆ¶æ•°çš„åè¿›åˆ¶æ•°ï¼Œä¾‹ï¼š1000 -> 8
    res[2k + i] = res[k + i]  å…¶ä¸­k > i >=0 
    res[2k + i] = res[k + i] + 1   å…¶ä¸­2k > i >= k
    å³å¯æŒ‰ä½æ¥åˆ†å±‚é€’æ¨
    */
    public int[] countBits(int num) {
        int[] res = new int[num + 1];
        if (num == 0)
            return res;
        //åˆå§‹åŒ–ç¬¬0å±‚ä¸ç¬¬1å±‚
        res[0] = 0;
        res[1] = 1;
        //è¡¨ç¤ºè¯¥å±‚èµ·å§‹ç‚¹ä¸è¯¥å±‚ä¸ªæ•°
        int k = 2;
        while (k <= num) {
            for (int i = k, j = (k >> 1); i < k + (k >> 1) && i <= num; ++i, ++j) {
                res[i] = res[j];
            }
            for (int i = k + (k >> 1), j = (k >> 1); i < (k << 1) && i <= num; ++i, ++j) {
                res[i] = res[j] + 1;
            }
            k = k << 1;
        }
        return res;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    å¯¹äºæ‰€æœ‰çš„æ•°å­—ï¼Œåªæœ‰ä¸¤ç±»ï¼š
    1.å¥‡æ•°ï¼šäºŒè¿›åˆ¶æ•°ä¸­ï¼Œå¥‡æ•°ä¸€å®šæ¯”å‰é¢çš„å¶æ•°åŠ ä¸€
    2.å¶æ•°ï¼šäºŒè¿›åˆ¶æ•°ä¸­ï¼Œå¶æ•°ä¸­1çš„ä¸ªæ•°ä¸€å®šå’Œé™¤ä»¥2ä¹‹åçš„é‚£ä¸ªæ•°ä¸€æ ·å¤š
    */
    public int[] countBits(int num) {
        int[] res = new int[num + 1];
        for (int i = 1; i <= num; ++i) {
            if ((i & 1) == 1) {
                res[i] = res[i - 1] + 1;
            } else {
                res[i] = res[i >> 1];
            }
        }
        return res;
    }
}
//å‚è€ƒï¼šhttps://leetcode-cn.com/problems/counting-bits/solution/hen-qing-xi-de-si-lu-by-duadua/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè§‚å¯Ÿæ³•
    x1 = (1001001)2
    x2 = (100100)2
    å¯ä»¥å‘ç°x1ä¸x2åªæœ‰1ä½ä¸åŒï¼Œè¿™æ˜¯å› ä¸ºx2å¯ä»¥çœ‹åšx1ç§»é™¤æœ€ä½æœ‰æ•ˆä½çš„ç»“æœ
    res[x] = res[x / 2] + (x mod 2)
    */
    public int[] countBits(int num) {
        int[] res = new int[num + 1];
        for (int i = 1; i <= num; ++i) {
            res[i] = res[i >> 1] + (i & 1);
        }
        return res;
    }
}
//å‚è€ƒï¼šhttps://leetcode-cn.com/problems/counting-bits/solution/bi-te-wei-ji-shu-by-leetcode/
```

## 83.[å‰ K ä¸ªé«˜é¢‘å…ƒç´ ](https://leetcode-cn.com/problems/top-k-frequent-elements/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ ***k\*** é«˜çš„å…ƒç´ ã€‚
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: nums = [1,1,1,2,2,3], k = 2
> è¾“å‡º: [1,2]
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: nums = [1], k = 1
> è¾“å‡º: [1]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - ä½ å¯ä»¥å‡è®¾ç»™å®šçš„ *k* æ€»æ˜¯åˆç†çš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ã€‚
> - ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦**å¿…é¡»**ä¼˜äº O(*n* log *n*) , *n* æ˜¯æ•°ç»„çš„å¤§å°ã€‚
> - é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå”¯ä¸€ï¼Œæ¢å¥è¯è¯´ï¼Œæ•°ç»„ä¸­å‰ k ä¸ªé«˜é¢‘å…ƒç´ çš„é›†åˆæ˜¯å”¯ä¸€çš„ã€‚
> - ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

**æ€è·¯ï¼š**

[347. å‰ K ä¸ªé«˜é¢‘å…ƒç´  --ä¸¤ç§å¸¸ç”¨ç®—æ³•è§£å†³ - å‰ K ä¸ªé«˜é¢‘å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/top-k-frequent-elements/solution/347-qian-k-ge-gao-pin-yuan-su-by-echo__www/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå“ˆå¸Œè¡¨ + æ¡¶æ’åº
    */
    public int[] topKFrequent(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap<>();
        for (int num : nums) {
            map.put(num, map.getOrDefault(num, 0) + 1);
        }
        //1.æ¡¶æ•°ç»„çš„ä¸‹æ ‡æ˜¯å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼Œnumsæœ‰å¯èƒ½åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆéœ€è¦æ¡¶æ•°ç»„ä¸‹æ ‡æ»¡è¶³nums.lengthï¼Œæ‰€ä»¥é•¿åº¦ä¸ºnums.length + 1ï¼Œå¹¶ä¸”éå†æ—¶ä¹Ÿåº”è¯¥
        //ä»åå¾€å‰éå†ï¼Œåº”è¯¥éœ€è¦çš„æ˜¯å‡ºç°é¢‘ç‡æœ€é«˜çš„å‰kä¸ªå…ƒç´ 
        //2.å› ä¸ºå¯èƒ½å­˜åœ¨å‡ºç°é¢‘ç‡ç›¸åŒçš„å…ƒç´ ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨é›†åˆå­˜å‚¨
        List<Integer>[] bucket = new List[nums.length + 1];
        for (int num: map.keySet()) {
            int i = map.get(num);
            if (bucket[i] == null) {
                bucket[i] = new ArrayList();
            }
            bucket[i].add(num);
        }
        int[] res = new int[k];
        int idx = 0;
        //ä»åå‘å‰éå†æ¡¶æ•°ç»„
        for (int i = nums.length; i >=0; --i) {
            //éå†ä¸ä¸ºç©ºçš„æ¡¶
            if (bucket[i] != null) {
                for (int j = 0; j < bucket[i].size(); ++j) {
                    res[idx++] = bucket[i].get(j);
                    if (idx == k)
                        return res;
                }
            }
        }
        return res;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå°æ ¹å † + å“ˆå¸Œè¡¨
    1.å»ºç«‹å“ˆå¸Œè¡¨map,ä»¥æ•°å­—ä¸ºé”®ï¼Œé¢‘ç‡ä¸ºå€¼ï¼Œéå†numså¹¶å°†å…ƒç´ å­˜å…¥
    2.å»ºç«‹æŒ‰ç…§é¢‘ç‡ä¸ºæ’åºå…³é”®çš„å°æ ¹å †(æ ¹èŠ‚ç‚¹å°äºå †èŠ‚ç‚¹)ï¼Œå®¹é‡å¤§å°ä¸ºkï¼Œéå†mapå°†å…ƒç´ å­˜å…¥
        1.è‹¥å †ä¸­å…ƒç´ ä¸ªæ•°å°‘äºkåˆ™ç›´æ¥å­˜å…¥
        2.è‹¥å †ä¸­å…ƒç´ ä¸ªæ•°ç­‰äºKï¼šåˆ™å°†å½“å‰å…ƒç´ äºå †å¤´å…ƒç´ æ¯”è¾ƒï¼Œè‹¥å¤§äºå †å¤´å…ƒç´ åˆ™å…ˆåˆ é™¤å †å¤´ï¼Œç„¶ååŠ å…¥å †ä¸­
    3.å°†å †ä¸­å…ƒç´ å¼¹å‡ºä¿å­˜åˆ°ç»“æœæ•°ç»„resä¸­
    4.è¿”å›reså³å¯
    */
    public int[] topKFrequent(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap();
        for (int num: nums) {
            map.put(num, map.getOrDefault(num, 0) + 1);
        }
        //æŒ‰ç…§é¢‘ç‡æ’åºçš„æœ€å°å †
        PriorityQueue<Integer> minHeap = new  PriorityQueue((x1, x2) -> map.get(x1) - map.get(x2));
        for (int num: map.keySet()) {
            if (minHeap.size() < k) {
                minHeap.offer(num);
            } else {
                if (map.get(minHeap.peek()) < map.get(num)) {
                    minHeap.poll();
                    minHeap.offer(num);
                }
            }
        }
        int[] res = new int[k];
        for (int i = 0; i < k; ++i) {
            res[i] = minHeap.poll();
        }
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/top-k-frequent-elements/solution/347-qian-k-ge-gao-pin-yuan-su-by-echo__www/
*/
```



## 84.[å­—ç¬¦ä¸²è§£ç ](https://leetcode-cn.com/problems/decode-string/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚
>
> ç¼–ç è§„åˆ™ä¸º: `k[encoded_string]`ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ *encoded_string* æ­£å¥½é‡å¤ *k* æ¬¡ã€‚æ³¨æ„ *k* ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚
>
> ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚
>
> æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° *k* ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ `3a` æˆ– `2[4]` çš„è¾“å…¥ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "3[a]2[bc]"
> è¾“å‡ºï¼š"aaabcbc"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "3[a2[c]]"
> è¾“å‡ºï¼š"accaccacc"
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "2[abc]3[cd]ef"
> è¾“å‡ºï¼š"abcabccdcdcdef"
> ```
>
> **ç¤ºä¾‹ 4ï¼š**
>
> ```
> è¾“å…¥ï¼šs = "abc3[cd]xyz"
> è¾“å‡ºï¼š"abccdcdcdxyz"
> ```

**æ€è·¯ï¼š**

[å­—ç¬¦ä¸²è§£ç ï¼ˆè¾…åŠ©æ ˆæ³• / é€’å½’æ³•ï¼Œæ¸…æ™°å›¾è§£ï¼‰ - å­—ç¬¦ä¸²è§£ç  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/decode-string/solution/decode-string-fu-zhu-zhan-fa-di-gui-fa-by-jyd/)

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ‰¾è¾¹ç•Œçš„é€’å½’
    */
    public String decodeString(String s) {
        int idx = 0;
        StringBuilder builder = new StringBuilder();
        while (idx < s.length()) {
            char ch = s.charAt(idx);
            if (ch >= '0' && ch <= '9') {
                int numEnd = findNumEnd(s, idx + 1);
                //å°†Stringè½¬ä¸ºint
                int count = Integer.valueOf(s.substring(idx, numEnd));
                //æ‰¾åˆ°å³æ‹¬å·
                int strEnd = findStrEnd(s, ++numEnd);
                String sub = decodeString(s.substring(numEnd, strEnd));
                buildString(builder, count, sub);
                idx = ++strEnd;
            } else {
                builder.append(ch);
                ++idx;
            }
        }
        return builder.toString();
    }

    public void buildString(StringBuilder builder, int count, String sub) {
        for (int i = 0; i < count; ++i) {
            builder.append(sub);
        }
    }

    public int findNumEnd(String s, int start) {
        int i = start;
        while (s.charAt(i) != '[') {
            ++i;
        }
        return i;
    }

    //æ‰¾åˆ°è¢«[]åŒ…æ‹¬çš„å­—ç¬¦ä¸²çš„æœ€å³ä¾§å…ƒç´  + 1çš„ä¸‹æ ‡
    public int findStrEnd(String s, int start) {
        int i = start;
        int left = 1;
        while (left != 0) {
            char ch = s.charAt(i);
            if (ch == '[') {
                ++left;
            } else if (ch == ']') {
                --left;
            }
            ++i;
        }
        return i - 1;
    }
}

```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè¾…åŠ©æ ˆ
    æœ¬é¢˜éš¾ç‚¹åœ¨äºæ‹¬å·å†…åµŒå¥—æ‹¬å·ï¼Œéœ€è¦ä»å†…å‘å¤–ç”Ÿæˆä¸æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè¿™ä¸æ ˆçš„å…ˆå…¥åå‡ºçš„ç‰¹æ€§å¯¹åº”ã€‚
    1.æ„å»ºè¾…åŠ©æ ˆstack,éå†å­—ç¬¦ä¸²sä¸­çš„æ¯ä¸ªå­—ç¬¦c:
        Â·å½“cä¸ºæ•°å­—æ—¶ï¼Œå°†æ•°å­—å­—ç¬¦è½¬åŒ–ä¸ºæ•°å­—multi,ç”¨äºåç»­éå†è®¡ç®—;
        Â·å½“cä¸ºå­—æ¯æ—¶ï¼Œåœ¨reså°¾éƒ¨æ·»åŠ c;
        Â·å½“cä¸º[æ—¶ï¼Œå°†å½“å‰multiå’Œreså…¥æ ˆ(å³ä¿å­˜çŠ¶æ€)ï¼Œå¹¶å°†muiltä¸resåˆ†åˆ«ç½®0ç½®ç©º
        Â·å½“cä¸º]æ—¶ï¼Œstackå‡ºæ ˆï¼Œæ‹¼æ¥å­—ç¬¦ä¸²res = last_res + cur_multi * res
            Â·last_resæ˜¯ä¸Šä¸ª[åˆ°å½“å‰[çš„å­—ç¬¦ä¸²,ä¾‹å¦‚"3[a2[c]]"ä¸­çš„a;
            Â·cur_multiæ˜¯å½“å‰[åˆ°]å†…å­—ç¬¦ä¸²çš„é‡å¤å€æ•°ä¾‹å¦‚"3[a2[c]]"ä¸­çš„2
    2.è¿”å›å­—ç¬¦ä¸²res
    */
    public String decodeString(String s) {
        Deque<Integer> numStack = new LinkedList();
        Deque<String> strStack = new LinkedList();
        int multi = 0;
        StringBuilder res = new StringBuilder();
        for (char ch: s.toCharArray()) {
            if (ch >= '0' && ch <= '9') {
                multi = 10 * multi + (ch - '0');
            } else if (ch == '[') {
                numStack.offer(multi);
                strStack.offer(res.toString());
                multi = 0;
                res = new StringBuilder();
            } else if (ch == ']') {
                StringBuilder tmp = new StringBuilder();
                Integer cur_multi = numStack.pollLast();
                for (int i = 0; i < cur_multi; ++i) {
                    tmp.append(res);
                }
                res = new StringBuilder(strStack.pollLast() + tmp);
            } else {
                res.append(ch);
            }
        }
        return res.toString();
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/decode-string/solution/decode-string-fu-zhu-zhan-fa-di-gui-fa-by-jyd/
*/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šé€’å½’æ³•
    Â·æ€»ä½“æ€è·¯ä¸è¾…åŠ©æ ˆæ³•ä¸€è‡´ï¼Œä¸åŒç‚¹åœ¨äºå°†[å’Œ]åˆ†åˆ«ä½œä¸ºé€’å½’å¼€å¯ä¸ç»ˆæ­¢çš„æ¡ä»¶ï¼š
        Â·å½“s[i] == ']'æ—¶ï¼Œè¿”å›å½“å‰æ‹¬å·è®°å½•çš„reså­—ç¬¦ä¸²ä¸]çš„ç´¢å¼•i(ç”¨äºæ›´æ–°ä¸Šæ¬¡é€’å½’æŒ‡é’ˆ)
        Â·å½“s[i] == '['æ—¶ï¼Œå¼€å¯æ–°çš„ä¸€è½®é€’å½’ï¼Œè®°å½•æ­¤[...]å†…çš„å­—ç¬¦ä¸²tmpå’Œé€’å½’åçš„æ–°ç´¢å¼•i
        å¹¶æ‰§è¡Œres + multi * tmpæ‹¼æ¥å­—ç¬¦ä¸²
        Â·éå†å®Œæ¯•åè¿”å›res
    */
    public String decodeString(String s) {
        return dfs(s);
    }
    int idx = 0;
    public String dfs(String s) {
        StringBuilder res = new StringBuilder();
        int multi = 0;
        while (idx < s.length()) {
            char ch = s.charAt(idx);
            if (ch >= '0' && ch <= '9') {
                multi = multi * 10 + (ch - '0');
            } else if (ch == '[') {
                ++idx;
                String sub = dfs(s);
                for (int i = 0; i < multi; ++i) {
                    res.append(sub);
                }
                multi = 0;
            } else if (ch == ']') {
                return res.toString();
            } else {
                res.append(ch);
            }
            ++idx;
        }
        return res.toString();
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/decode-string/solution/decode-string-fu-zhu-zhan-fa-di-gui-fa-by-jyd/
*/
```

## 85.[ é™¤æ³•æ±‚å€¼](https://leetcode-cn.com/problems/evaluate-division/)

**é¢˜ç›®ï¼š**

> ç»™å‡ºæ–¹ç¨‹å¼ `A / B = k`, å…¶ä¸­ `A` å’Œ `B` å‡ä¸ºç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„å˜é‡ï¼Œ `k` æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹æ•°å­—ã€‚æ ¹æ®å·²çŸ¥æ–¹ç¨‹å¼æ±‚è§£é—®é¢˜ï¼Œå¹¶è¿”å›è®¡ç®—ç»“æœã€‚å¦‚æœç»“æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› `-1.0`ã€‚
>
> è¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º 0 çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼šequations = [["a","b"],["b","c"]], values = [2.0,3.0], queries = [["a","c"],["b","a"],["a","e"],["a","a"],["x","x"]]
> è¾“å‡ºï¼š[6.00000,0.50000,-1.00000,1.00000,-1.00000]
> è§£é‡Šï¼š
> ç»™å®šï¼ša / b = 2.0, b / c = 3.0
> é—®é¢˜ï¼ša / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?
> è¿”å›ï¼š[6.0, 0.5, -1.0, 1.0, -1.0 ]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šequations = [["a","b"],["b","c"],["bc","cd"]], values = [1.5,2.5,5.0], queries = [["a","c"],["c","b"],["bc","cd"],["cd","bc"]]
> è¾“å‡ºï¼š[3.75000,0.40000,5.00000,0.20000]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šequations = [["a","b"]], values = [0.5], queries = [["a","b"],["b","a"],["a","c"],["x","y"]]
> è¾“å‡ºï¼š[0.50000,2.00000,-1.00000,-1.00000]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= equations.length <= 20`
> - `equations[i].length == 2`
> - `1 <= equations[i][0].length, equations[i][1].length <= 5`
> - `values.length == equations.length`
> - `0.0 < values[i] <= 20.0`
> - `1 <= queries.length <= 20`
> - `queries[i].length == 2`
> - `1 <= queries[i][0].length, queries[i][1].length <= 5`
> - `equations[i][0], equations[i][1], queries[i][0], queries[i][1]` ç”±å°å†™è‹±æ–‡å­—æ¯ä¸æ•°å­—ç»„æˆ

**æ€è·¯ï¼š**

https://www.cnblogs.com/wangyuliang/p/9216365.html
https://leetcode-cn.com/problems/evaluate-division/solution/san-chong-jie-fa-by-baymaxhwy/



**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šFloydç®—æ³•
    */
    public double[] calcEquation(List<List<String>> equations, double[] values, List<List<String>> queries) {
        int count = 0;
        //ç»™æ¯ä¸ªèŠ‚ç‚¹èµ‹å€¼ä¸€ä¸ªä¸‹æ ‡ï¼Œmapç”¨æ¥å®ç°èŠ‚ç‚¹åä¸ä¸‹æ ‡çš„æ˜ å°„
        Map<String, Integer> map = new HashMap();
        for (List<String> equation: equations) {
            for (String s: equation) {
                if (!map.containsKey(s)) {
                    map.put(s, count++);
                }
            }
        }
        //æ„å»ºä¸€ä¸ªçŸ©é˜µä»£æ›¿å›¾ç»“æ„
        double[][] graph = new double[count][count];
        //åˆå§‹åŒ–
        for (String s: map.keySet()) {
            int idx = map.get(s);
            graph[idx][idx] = 1.0;
        }
        //æ„å»ºåŒå‘è¾¹
        int index = 0;
        for (List<String> equation: equations) {
            String a = equation.get(0), b = equation.get(1);
            int idxA = map.get(a), idxB = map.get(b);
            double value = values[index++];
            graph[idxA][idxB] = value;
            graph[idxB][idxA] = 1 / value;
        }
        //Floydç®—æ³•,å°†æ¯ä¸ªç‚¹é€ä¸ªåŠ å…¥ä¸­è½¬ç‚¹ä¸­
        for (int k = 0; k < count; ++k) {
            for (int i = 0; i < count; ++i) {
                for (int j = 0; j < count; ++j) {
                    if (i == j || graph[i][j] != 0) {
                        continue;
                    }
                    if (graph[i][k] != 0 && graph[k][j] != 0) {
                        graph[i][j] = graph[i][k] * graph[k][j];
                    }
                }
            }
        }
        
        double[] res = new double[queries.size()];
        for (int i = 0; i < res.length; ++i) {
            List<String> query = queries.get(i);
            String a = query.get(0), b = query.get(1);
            if (map.containsKey(a) && map.containsKey(b)) {
                double ans = graph[map.get(a)][map.get(b)];
                res[i] = ans == 0 ? -1.0 : ans;
            } else {
                res[i] = -1.0;
            }
        }
        return res;
    }
}
/*å‚è€ƒï¼š
https://www.cnblogs.com/wangyuliang/p/9216365.html
https://leetcode-cn.com/problems/evaluate-division/solution/san-chong-jie-fa-by-baymaxhwy/
*/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¸¦æƒå¹¶æŸ¥é›†--è·¯å¾„å‹ç¼©
    å®ç°æ€è·¯ï¼š
    1.ç»´æŠ¤ä¸¤ä¸ªhashè¡¨ï¼Œparentè¡¨è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œdistè¡¨è®°å½•è¯¥èŠ‚ç‚¹åˆ°ç¥–å…ˆèŠ‚ç‚¹(root)çš„è·ç¦»(dist[i] = i / root)
    2.åˆå§‹åŒ–æ¯ä¸ªèŠ‚ç‚¹ä¸ºä¸€ä¸ªé›†åˆparent[i] = i, dist[i] = 1
    3.éå†equationsã€valuesæ•°ç»„ï¼Œæ¯æ¬¡å°†ä¸¤ä¸ªä¸åŒé›†åˆåˆå¹¶
    4.éå†queriesæ•°ç»„ï¼Œå¦‚æœå­˜åœ¨è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”å®ƒä»¬(a, b)éƒ½å¤„äºåŒä¸€ä¸ªé›†åˆä¸­ï¼Œåˆ™å‘ç»“æœæ•°ç»„resæ·»åŠ dist[a] / dist[b],å¦åˆ™æ·»åŠ -1.0
    é›†åˆåˆå¹¶ï¼ˆraä¸ºaçš„çˆ¶èŠ‚ç‚¹ï¼Œrbä¸ºbçš„çˆ¶èŠ‚ç‚¹ï¼‰ï¼Œç°åœ¨å·²çŸ¥çš„æ¡ä»¶æœ‰ï¼š
    Â·x1 = a / raï¼Œ x2 = b / rb
    Â·a / b = v
    ç°åœ¨éœ€è¦å°†ä¸¤ä¸ªé›†åˆè¿›è¡Œåˆå¹¶çš„è¯ï¼Œå°±æ˜¯å°†a / b = vè¿™æ¡å…³ç³»åŠ å…¥åˆ°é›†åˆä¸­ï¼Œé‚£ä¹ˆå¯ä»¥ç»™ra -> bè¿ä¸€æ¡å…³ç³»
    è®¾ra -> bçš„è¿™æ¡è¾¹çš„å€¼ä¸º t ,é‚£ä¹ˆå¯ä»¥è¡¨ç¤ºä¸º ra / b = tï¼Œç°åœ¨åªéœ€è¦æ±‚å‡ºtçš„å€¼å³å¯ï¼Œç»è¿‡å…¬å¼æ¨å¯¼å¯ä»¥å¾—åˆ° t = v / x1
    å…¬å¼æ¨å¯¼ï¼š
    ra -> b ,å‡è®¾t = ra / b
    a / b = (a / ra) * (ra / b) = v ä¸” a / ra = x1, ra / b = t
    æ‰€ä»¥t = v / x1

    å¦‚ä½•è®¡ç®—a / b
    å‰æï¼šéœ€è¦ä¿è¯aã€bå¤„äºåŒä¸€é›†åˆï¼Œå¦åˆ™æ— æ³•è®¡ç®—
    Â·å› ä¸ºdist[a] = a / ra, dist[b] = b / rb
    Â·ä¸”aã€bå¤„äºåŒä¸€é›†åˆï¼Œé‚£ä¹ˆra = rb = root
    Â·å¯ä»¥å¾—åˆ°a / b = (a / root) / (b / root) = dist[a] / dist[b]
    */
    Map<String, String> parent = new HashMap();
    Map<String, Double> dist = new HashMap();
    public double[] calcEquation(List<List<String>> equations, double[] values, List<List<String>> queries) {
        //åˆå§‹åŒ–æ‰€æœ‰ç‚¹
        for (List<String> equation : equations) {
            String a = equation.get(0), b = equation.get(1);
            parent.put(a, a);
            parent.put(b, b);
            dist.put(a, 1.0);
            dist.put(b, 1.0);
        }
        //é›†åˆåˆå¹¶
        for (int i = 0; i < equations.size(); ++i) {
            List<String> equation = equations.get(i);
            String a = equation.get(0), b = equation.get(1);
            //ä»¥ä¸‹ä»£ç å®Œæˆçš„æ˜¯ra -> b
            String ra = findParent(a);//æ‰¾åˆ°açš„ç¥–å…ˆèŠ‚ç‚¹
            //æ›´æ–°raèŠ‚ç‚¹
            parent.put(ra, b);
            dist.put(ra, values[i] / dist.get(a));
        }
        double[] res = new double[queries.size()];
        int i = 0;
        for (List<String> query: queries) {
            String a = query.get(0), b = query.get(1);
            if (!parent.containsKey(a) || !parent.containsKey(b) || !findParent(a).equals(findParent(b))) {
                res[i] = -1.0;
            } else {
                res[i] = dist.get(a) / dist.get(b);
            }
            ++i;
        }
        return res;
    }

    //å¯»æ‰¾çˆ¶èŠ‚ç‚¹çš„åŒæ—¶å‹ç¼©è·¯å¾„
    public String findParent(String cur) {
        //å½“curçš„çˆ¶èŠ‚ç‚¹ä¸ä¸ºæœ¬èº«æ—¶é€’å½’å¯»æ‰¾çˆ¶èŠ‚ç‚¹ï¼Œå¹¶åŒæ—¶å‹ç¼©è·¯å¾„
        if (!parent.get(cur).equals(cur)) {
            String papa = findParent(parent.get(cur));
            //å¯ä»¥ä»æ•°å­¦æ„ä¹‰ä¸Šæ¨å¯¼ï¼ša / c = (a / b) * (b / c)
            dist.put(cur, dist.get(cur) * dist.get(parent.get(cur)));
            parent.put(cur, papa);
        }
        return parent.get(cur);
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/evaluate-division/solution/san-chong-jie-fa-by-baymaxhwy/
*/
```



## 86.[æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—](https://leetcode-cn.com/problems/queue-reconstruction-by-height/)

**é¢˜ç›®ï¼š**

> å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ `people` è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª `people[i] = [hi, ki]` è¡¨ç¤ºç¬¬ `i` ä¸ªäººçš„èº«é«˜ä¸º `hi` ï¼Œå‰é¢ **æ­£å¥½** æœ‰ `ki` ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº `hi` çš„äººã€‚
>
> è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ `people` æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ `queue` ï¼Œå…¶ä¸­ `queue[j] = [hj, kj]` æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ `j` ä¸ªäººçš„å±æ€§ï¼ˆ`queue[0]` æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚
>
>  
>
> 
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼špeople = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]
> è¾“å‡ºï¼š[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]
> è§£é‡Šï¼š
> ç¼–å·ä¸º 0 çš„äººèº«é«˜ä¸º 5 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
> ç¼–å·ä¸º 1 çš„äººèº«é«˜ä¸º 7 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚
> ç¼–å·ä¸º 2 çš„äººèº«é«˜ä¸º 5 ï¼Œæœ‰ 2 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0 å’Œ 1 çš„äººã€‚
> ç¼–å·ä¸º 3 çš„äººèº«é«˜ä¸º 6 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
> ç¼–å·ä¸º 4 çš„äººèº«é«˜ä¸º 4 ï¼Œæœ‰ 4 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0ã€1ã€2ã€3 çš„äººã€‚
> ç¼–å·ä¸º 5 çš„äººèº«é«˜ä¸º 7 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚
> å› æ­¤ [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] æ˜¯é‡æ–°æ„é€ åçš„é˜Ÿåˆ—ã€‚
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼špeople = [[6,0],[5,0],[4,0],[3,2],[2,2],[1,4]]
> è¾“å‡ºï¼š[[4,0],[5,0],[2,2],[3,2],[1,4],[6,0]]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= people.length <= 2000`
> - `0 <= hi <= 106`
> - `0 <= ki < people.length`
> - é¢˜ç›®æ•°æ®ç¡®ä¿é˜Ÿåˆ—å¯ä»¥è¢«é‡å»º

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/queue-reconstruction-by-height/solution/xian-pai-xu-zai-cha-dui-dong-hua-yan-shi-suan-fa-g/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ’åº
    *ä¸€èˆ¬å¯¹äºè¿™ç§æ•°å¯¹ï¼Œè¿˜æ¶‰åŠæ’åºçš„ï¼Œæ ¹æ®ç¬¬ä¸€ä¸ªå…ƒç´ æ­£å‘æ’åºï¼Œæ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ åå‘æ’åºï¼Œæˆ–è€…æ ¹æ®ç¬¬ä¸€ä¸ªå…ƒç´ åå‘æ’åºï¼Œæ ¹æ®ç¬¬äºŒä¸ªå…ƒç´ æ­£å‘æ’åºï¼Œå¾€å¾€èƒ½å¤Ÿç®€åŒ–è§£é¢˜è¿‡ç¨‹
    åœ¨æœ¬é¢˜ä¸­ï¼Œé¦–å…ˆå¯¹æ•°å¯¹è¿›è¡Œæ’åºï¼ŒæŒ‰ç…§æ•°å¯¹çš„å…ƒç´ 0é™åºæ’åºï¼ŒæŒ‰ç…§æ•°å¯¹çš„å…ƒç´ 1å‡åºæ’åºï¼ŒåŸå› æ˜¯ï¼ŒæŒ‰ç…§å…ƒç´ 0è¿›è¡Œé™åºæ’åºï¼Œå¯¹æ¯ä¸ªå…ƒç´ ï¼Œåœ¨å…¶ä¹‹å‰çš„å…ƒç´ ä¸ªæ•°ï¼Œå°±æ˜¯å¤§äºç­‰äº
    ä»–çš„å…ƒç´ æ•°é‡ï¼Œè€ŒæŒ‰ç…§ç¬¬äºŒä¸ªå…ƒç´ æ­£å‘æ’åºï¼Œæˆ‘ä»¬å¸Œæœ›kå¤§çš„å°½é‡åœ¨åé¢ï¼Œå‡å°‘æ’å…¥æ“ä½œæ¬¡æ•°(å¯ä»¥ä½œä¸ºå®ƒçš„ä¸‹æ ‡)
    å…·ä½“å®ç°ï¼š
    1.æŒ‰ç¬¬ä¸€ä¸ªå…ƒç´ é™åºï¼Œç¬¬äºŒä¸ªå…ƒç´ å‡åºæ’åº
    2.åˆ›å»ºç»“æœé›†åˆreså¤§å°ä¸ºpeople.length
    3.éå†ä»å‰å¾€åéå†peopleï¼š
        1.è‹¥reså®¹é‡å°äºç­‰äºp[1]åˆ™ç›´æ¥å°†å…¶åŠ å…¥reså°¾éƒ¨
        2.è‹¥reså®¹é‡å¤§äºp[1]ï¼Œç”±äºå‰é¢åŠ å…¥çš„å…ƒç´ ç»è¿‡æ’åºåå¿…å®šå¤§äºç­‰äºè¯¥å…ƒç´ ï¼Œæ‰€ä»¥ç›´æ¥æ’å…¥åˆ°res[p[1]]ä½ç½®å³å¯
    */
    public int[][] reconstructQueue(int[][] people) {
        Arrays.sort(people, (o1, o2) -> o1[0] - o2[0] == 0 ? o1[1] - o2[1] : o2[0] - o1[0]);
        LinkedList<int[]> res = new LinkedList();
        for (int[] p: people) {
            res.add(p[1], p);
        }
        return res.toArray(new int[people.length][]);
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/queue-reconstruction-by-height/solution/xian-pai-xu-zai-cha-dui-dong-hua-yan-shi-suan-fa-g/
*/
```



## 87.[åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode-cn.com/problems/partition-equal-subset-sum/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ª**åªåŒ…å«æ­£æ•´æ•°**çš„**éç©º**æ•°ç»„ã€‚æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚
>
> **æ³¨æ„:**
>
> 1. æ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100
> 2. æ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [1, 5, 11, 5]
> 
> è¾“å‡º: true
> 
> è§£é‡Š: æ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11].
> ```
>
>  
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: [1, 2, 3, 5]
> 
> è¾“å‡º: false
> 
> è§£é‡Š: æ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†.
> ```

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/0-1-bei-bao-wen-ti-xiang-jie-zhen-dui-ben-ti-de-yo/

https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/shou-hua-tu-jie-fen-ge-deng-he-zi-ji-dfshui-su-si-/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    Â·çŠ¶æ€å®šä¹‰ï¼šdp[i][j]è¡¨ç¤ºä»æ•°ç»„çš„[0,i]è¿™ä¸ªå­åŒºé—´æŒ‘é€‰ä¸€äº›æ­£æ•´æ•°ï¼Œæ¯ä¸ªæ•°åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ°å¥½ç­‰äºj
    Â·çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
        Â·ä¸é€‰æ‹©nums[i]ï¼Œå¦‚æœåœ¨[0, i - 1]è¿™ä¸ªå­åŒºé—´å†…å·²ç»æœ‰ä¸€éƒ¨åˆ†å…ƒç´ ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œç­‰äºj,é‚£ä¹ˆdp[i][j] = true
        Â·é€‰æ‹©nuns[i],å¦‚æœåœ¨[0, i - 1]è¿™ä¸ªå­åŒºé—´å†…æ‰¾åˆ°ä¸€éƒ¨åˆ†å…ƒç´ ä½¿å¾—å®ƒä»¬å’Œä¸ºj - nums[i]
    dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i]]
    ä½†æ˜¯è¿˜éœ€è¦è€ƒè™‘nums[i] = j (ä¸è€ƒè™‘ä¹Ÿæ— æ‰€è°“ï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œåˆå§‹åŒ–é¦–ä¸ªå…ƒç´ ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¾ç„¶å¯ä»¥æ±‚å‡ºnums[i]ä¹‹å¤–çš„å’Œä¸ºj)æ‰€ä»¥å®Œæ•´çš„æ–¹ç¨‹ä¸º
    dp[i][j] = dp[i - 1][j] || dp[i - 1][j - nums[i]] || nums[i] == j
    */
    public boolean canPartition(int[] nums) {
        int sum = 0;
        for (int num: nums) {
            sum += num;
        }
        //ä¸ºå¥‡æ•°ä¸å¯åˆ†
        if ((sum & 1) == 1)
            return false;
        int target = sum >> 1;
        boolean[] dp = new boolean[target + 1];
        //åˆå§‹åŒ–
        if (nums[0] <= target) {
            dp[nums[0]] = true;
        }
        for (int i = 1; i < nums.length; ++i) {
            for (int j = target; j >= nums[i]; --j) {
                if (dp[target])
                    return true;
                dp[j] = dp[j] || dp[j - nums[i]];
            }
        }
        return dp[target];
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/0-1-bei-bao-wen-ti-xiang-jie-zhen-dui-ben-ti-de-yo/
*/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfs + è®°å¿†åŒ–æœç´¢
    */
    public boolean canPartition(int[] nums) {
        Arrays.sort(nums);
        int sum = 0;
        for (int num: nums) {
            sum += num;
        }
        if ((sum & 1) == 1)
            return false;
        int target = sum >> 1;
        return dfs(nums, 0, target);
    }

    Map<String, Boolean> cache = new HashMap();
    public boolean dfs(int[] nums, int i, int sum) {
        String key = sum + "&" + i;
        if (cache.containsKey(key))
            return cache.get(key);
        if (i >= nums.length || sum < 0) {
            return false;
        }
        if (sum == 0)
            return true;
        boolean res = dfs(nums, i + 1, sum - nums[i]) || dfs(nums, i + 1, sum);
        cache.put(key, res);
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/shou-hua-tu-jie-fen-ge-deng-he-zi-ji-dfshui-su-si-/
*/
```



## 88.[ è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ç€ä¸€ä¸ªæ•´æ•°å€¼ã€‚
>
> æ‰¾å‡ºè·¯å¾„å’Œç­‰äºç»™å®šæ•°å€¼çš„è·¯å¾„æ€»æ•°ã€‚
>
> è·¯å¾„ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚
>
> äºŒå‰æ ‘ä¸è¶…è¿‡1000ä¸ªèŠ‚ç‚¹ï¼Œä¸”èŠ‚ç‚¹æ•°å€¼èŒƒå›´æ˜¯ [-1000000,1000000] çš„æ•´æ•°ã€‚
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> root = [10,5,-3,3,2,null,11,3,-2,null,1], sum = 8
> 
>       10
>      /  \
>     5   -3
>    / \    \
>   3   2   11
>  / \   \
> 3  -2   1
> 
> è¿”å› 3ã€‚å’Œç­‰äº 8 çš„è·¯å¾„æœ‰:
> 
> 1.  5 -> 3
> 2.  5 -> 2 -> 1
> 3.  -3 -> 11
> ```

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/path-sum-iii/solution/qian-zhui-he-di-gui-hui-su-by-shi-huo-de-xia-tian/

https://leetcode-cn.com/problems/path-sum-iii/solution/c-dfs-qian-xu-he-by-cui-jin-hao-_official/

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå‰ç¼€å’Œ
    Â·å‰ç¼€å’Œï¼šåˆ°è¾¾å½“å‰å…ƒç´ çš„è·¯å¾„ä¸Šï¼Œä¹‹å‰æ‰€æœ‰å…ƒç´ çš„å’Œ
    è®¾èŠ‚ç‚¹Aå’ŒèŠ‚ç‚¹Bç›¸å·®targetï¼Œåˆ™ä½äºèŠ‚ç‚¹Aå’ŒèŠ‚ç‚¹Bä¹‹é—´çš„å…ƒç´ ä¹‹å’Œæ˜¯target.
    å› ä¸ºæœ¬é¢˜ä¸­è·¯å¾„æ˜¯ä¸€æ£µæ ‘ï¼Œä»æ ¹å¾€ä»»ä¸€èŠ‚ç‚¹çš„è·¯å¾„ä¸Šï¼Œæœ‰ä¸”ä»…æœ‰ä¸€æ¡è·¯å¾„ï¼Œå› ä¸ºä¸å­˜åœ¨ç¯
    æŠµè¾¾èŠ‚ç‚¹Båï¼Œå°†å‰ç¼€å’Œç´¯åŠ ï¼Œç„¶åæŸ¥æ‰¾åœ¨å‰ç¼€å’Œä¸Šï¼Œæœ‰æ²¡æœ‰å‰ç¼€å’ŒcurSum - targetçš„èŠ‚ç‚¹(å³AèŠ‚ç‚¹)ï¼Œå­˜åœ¨å³è¡¨ç¤ºä»Aåˆ°Bæœ‰ä¸€æ¡è·¯å¾„ä¹‹å’Œæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚
    ç»“æœåŠ ä¸Šæ»¡è¶³å‰ç¼€å’ŒcurSum - target çš„èŠ‚ç‚¹æ•°é‡ã€‚ç„¶åé€’å½’å·¦å³å­æ ‘
    å·¦å³å­æ ‘é€’å½’å®Œæ¯•åï¼Œå›åˆ°å½“å‰å±‚ï¼Œéœ€è¦æŠŠå½“å‰èŠ‚ç‚¹çš„å‰ç¼€å’Œå»é™¤ã€‚é¿å…å›æº¯ä¹‹åå½±å“ä¸Šä¸€å±‚ã€‚

    æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªèŠ‚ç‚¹åªéå†ä¸€æ¬¡,O(N).
    ç©ºé—´å¤æ‚åº¦ï¼šå¼€è¾Ÿäº†ä¸€ä¸ªhashMap,O(N).
    */
    public int pathSum(TreeNode root, int sum) {
        Map<Integer, Integer> prefixSumCnt = new HashMap();
        //åˆå§‹åŒ–
        prefixSumCnt.put(0, 1);
        return help(root, 0, sum, prefixSumCnt);
    }

    public int help(TreeNode root, int curSum, int target, Map<Integer, Integer> prefixSumCnt) {
        if (root == null)
            return 0;
        curSum += root.val;
        int res = 0;
        res += prefixSumCnt.getOrDefault(curSum - target, 0);
        //å°†å¯¹åº”å‰ç¼€+1
        prefixSumCnt.put(curSum, prefixSumCnt.getOrDefault(curSum, 0) + 1);
        //å·¦å³å­æ ‘é€’å½’
        res += help(root.left, curSum, target, prefixSumCnt);
        res += help(root.right, curSum, target, prefixSumCnt);
        //è¿˜åŸ
        prefixSumCnt.put(curSum, prefixSumCnt.get(curSum) - 1);
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/path-sum-iii/solution/qian-zhui-he-di-gui-hui-su-by-shi-huo-de-xia-tian/
*/
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdfs
    å…³é”®ï¼šbooleanå˜é‡isHeadä¿è¯ä¸æ˜¯å¤´èŠ‚ç‚¹çš„é“¾ä¸€å®šèƒ½èµ°åˆ°å¶å­èŠ‚ç‚¹å¹¶ä¸”ä¸ä¼šé‡æ–°ç½®0
    */
    public int pathSum(TreeNode root, int sum) {
        return dfs(root, sum, true);
    }

    public int dfs(TreeNode root, int sum, boolean isHead) {
        if (root == null)
            return 0;
        int count = 0;
        if (sum - root.val == 0)
            ++count;
        if (isHead) {
            count += dfs(root.left, sum, true);
            count += dfs(root.right, sum, true);
        }
        count += dfs(root.left, sum - root.val, false);
        count += dfs(root.right, sum - root.val, false);
        return count;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/path-sum-iii/solution/c-dfs-qian-xu-he-by-cui-jin-hao-_official/
*/


```

## 89.[æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² **s** å’Œä¸€ä¸ªéç©ºå­—ç¬¦ä¸² **p**ï¼Œæ‰¾åˆ° **s** ä¸­æ‰€æœ‰æ˜¯ **p** çš„å­—æ¯å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚
>
> å­—ç¬¦ä¸²åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”å­—ç¬¦ä¸² **s** å’Œ **p** çš„é•¿åº¦éƒ½ä¸è¶…è¿‡ 20100ã€‚
>
> **è¯´æ˜ï¼š**
>
> - å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚
> - ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥:
> s: "cbaebabacd" p: "abc"
> 
> è¾“å‡º:
> [0, 6]
> 
> è§£é‡Š:
> èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚
> èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚
> ```
>
>  **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥:
> s: "abab" p: "ab"
> 
> è¾“å‡º:
> [0, 1, 2]
> 
> è§£é‡Š:
> èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
> èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
> èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
> ```

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/solution/javayou-hua-labuladongda-lao-hua-dong-chuang-kou-t/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ»‘åŠ¨çª—å£
    1.åˆå§‹åŒ–ï¼šéœ€æ±‚å­—ç¬¦æ•°ç»„needï¼Œçª—å£å†…è¢«needæ‰€éœ€è¦çš„å­—ç¬¦æ•°ç»„windowï¼Œå·¦å³æŒ‡é’ˆleft, rightåˆå§‹ä¸º0ï¼Œæ£€æµ‹çª—å£ä¸­æ˜¯å¦
    å·²ç»æ¶µç›–pä¸­æ‰€æœ‰å­—ç¬¦çš„intå˜é‡totalï¼Œåˆå§‹ä¸ºpçš„é•¿åº¦
    2.åˆå§‹åŒ–need[]ï¼šéå†pä¸­çš„æ¯ä¸ªå…ƒç´ p[i],å¹¶å°†needä¸­å¯¹åº”å­—ç¬¦çš„ä¸ªæ•° + 1ï¼Œå³need[p[i]]++
    3.åœ¨rightæŒ‡é’ˆä¸è¶Šç•Œçš„æ¡ä»¶ä¸‹éå†sä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼š
        1.è‹¥å½“å‰rightæ‰€æŒ‡ç¤ºå­—ç¬¦ä¸ºéœ€æ±‚å­—ç¬¦ï¼Œåˆ™å°†windowä¸­å¯¹åº”å­—ç¬¦ä¸ªæ•° + 1
        è‹¥å½“å‰windowsä¸­å­—ç¬¦ä¸ªæ•°ä¸è¶…è¿‡éœ€æ±‚å­—ç¬¦ä¸ªæ•°(é˜²æ­¢é‡å¤)ï¼Œåˆ™å°† total - 1
        2.è‹¥totalä¸º0è¡¨ç¤ºå½“å‰çª—å£ä¸­å·²ç»æ¶µç›–äº†æ‰€æœ‰éœ€æ±‚å­—ç¬¦ï¼Œè¿›è¡Œå¾ªç¯ï¼š
            1.è‹¥å½“å‰çª—å£å¤§å°æ°å¥½ç­‰äºpçš„é•¿åº¦ï¼Œè¯´æ˜è¯¥å­—ç¬¦ä¸²ä¸€å®šæ»¡è¶³è¦æ±‚ï¼Œå°†leftåŠ å…¥resä¸­å³å¯
            2.å³ç§»leftæŒ‡é’ˆï¼š
                1.è‹¥å½“å‰å­—ç¬¦æ˜¯è¢«needæ‰€éœ€è¦çš„ï¼Œåˆ™å°†windowå¯¹åº”å­—ç¬¦ä¸ªæ•° - 1
                2.å¦‚æœwindowå°†å¯¹åº”å­—ç¬¦ - 1åå°äºéœ€æ±‚å­—ç¬¦ï¼Œè¯´æ˜çª—å£å‡å»çš„å­—ç¬¦æ˜¯ä¸ªå…³é”®å­—ç¬¦ï¼Œå¯¹åº”çš„totaléœ€è¦ + 1
                3.leftæŒ‡é’ˆå³ç§»ä¸€ä½
        4.ç»è¿‡ä¸Šè¿°æ“ä½œåï¼Œtotalè‚¯å®šä¸ä¸º0ï¼Œéœ€è¦åŠ å…¥æ–°çš„å…ƒç´ ï¼Œæ‰€ä»¥å³ç§»ä¸€ä½right
    */
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> res = new ArrayList();
        if (s == null || p.length() == 0)
            return res;
        int[] need = new int[26];
        int[] window = new int[26];
        int left = 0, right = 0, total = p.length();
        for (char ch: p.toCharArray()) {
            ++need[ch - 'a'];
        }
        while (right < s.length()) {
            char ch = s.charAt(right);
            if (need[ch - 'a'] > 0) {
                ++window[ch - 'a'];
                if (window[ch - 'a'] <= need[ch - 'a']) {
                    --total;
                }
            }
            while (total == 0) {
                if (right - left + 1 == p.length()) {
                    res.add(left);
                }
                char c = s.charAt(left);
                if (need[c - 'a'] > 0) {
                    --window[c - 'a'];
                    if (window[c - 'a'] < need[c - 'a']) {
                        ++total;
                    }
                }
                ++left;
            }
            ++right;
        }
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/solution/javayou-hua-labuladongda-lao-hua-dong-chuang-kou-t/
*/
```



## 90.æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªèŒƒå›´åœ¨  1 â‰¤ a[i] â‰¤ n ( n = æ•°ç»„å¤§å° ) çš„ æ•´å‹æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸€äº›å‡ºç°äº†ä¸¤æ¬¡ï¼Œå¦ä¸€äº›åªå‡ºç°ä¸€æ¬¡ã€‚
>
> æ‰¾åˆ°æ‰€æœ‰åœ¨ [1, n] èŒƒå›´ä¹‹é—´æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„ä¸­çš„æ•°å­—ã€‚
>
> æ‚¨èƒ½åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´ä¸”æ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„æƒ…å†µä¸‹å®Œæˆè¿™ä¸ªä»»åŠ¡å—? ä½ å¯ä»¥å‡å®šè¿”å›çš„æ•°ç»„ä¸ç®—åœ¨é¢å¤–ç©ºé—´å†…ã€‚
>
> ç¤ºä¾‹:
>
> è¾“å…¥:
> [4,3,2,7,8,2,3,1]
>
> è¾“å‡º:
> [5,6]

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/find-all-numbers-disappeared-in-an-array/solution/xiang-xi-tu-jie-448zhao-dao-suo-you-shu-zu-zhong-x/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŸåœ°å“ˆå¸Œ
    1.éå†numsæ•°ç»„ï¼Œè®¾æ¯ä¸ªå…ƒç´ ä¸ºnums[i]ï¼š
    è‹¥å½“å‰å…ƒç´ å€¼ - 1ä¸ç­‰äºä¸‹æ ‡å¹¶ä¸”nums[nums[i] - 1]ä¸ç­‰äºnums[i - 1]æ—¶äº¤æ¢nums[i]ä¸nums[nums[i] - 1]
    2.å†æ¬¡éå†æ•°ç»„ï¼Œå°†ä¸‹æ ‡ + 1ä¸ç­‰äºnums[i]çš„i + 1åŠ å…¥reså³å¯
    3.è¿”å›res
    */
    public List<Integer> findDisappearedNumbers(int[] nums) {
        List<Integer> res = new ArrayList();
        for (int i = 0; i < nums.length; ++i) {
            while (nums[nums[i] - 1] != nums[i] && nums[i] - 1 != i) {
                int tmp = nums[nums[i] - 1];
                nums[nums[i] - 1] = nums[i];
                nums[i] = tmp;
            }
        }
        for (int i = 0; i < nums.length; ++i) {
            if (nums[i] - 1 != i) {
                res.add(i + 1);
            }
        }
        return res;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŸåœ°å“ˆå¸Œ + åˆ¤æ–­æ­£è´Ÿ
    éå†nums,å°†abs(nums[i]) - 1ä½œä¸ºä¸‹æ ‡index,è‹¥nums[index]ä¸ºè´Ÿæ•°è¯´æ˜è¯¥æ•°è¢«è®¿é—®è¿‡ï¼Œè‹¥ä¸ºæ­£æ•°åˆ™è¡¨ç¤ºæœªè¢«è®¿é—®è¿‡ï¼Œå°†å…¶ç½®ä¸º-nums[index]
    éå†ç»“æŸåï¼Œè‹¥ä»æœ‰nums[i]å¤§äº0è¯´æ˜å…¶ä¸‹æ ‡æœªè¢«è®¿é—®è¿‡ï¼ˆæœªè¢«ç½®ä¸ºè´Ÿæ•°è¿‡ï¼‰
    æ‰€ä»¥å†æ¬¡éå†æ•°ç»„è¿”å›è¿™äº›æ­£æ•°çš„å…ƒç´ å¯¹åº”çš„ä¸‹æ ‡ + 1å³å¯
    */
    public List<Integer> findDisappearedNumbers(int[] nums) {
        List<Integer> res = new ArrayList();
        for (int i = 0; i < nums.length; ++i) {
            int index = Math.abs(nums[i]) - 1;
            if (nums[index] > 0) {
                nums[index] *= -1;
            }
        }
        for (int i = 0; i < nums.length; ++i) {
            if (nums[i] > 0) {
                res.add(i + 1);
            }
        }
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/find-all-numbers-disappeared-in-an-array/solution/xiang-xi-tu-jie-448zhao-dao-suo-you-shu-zu-zhong-x/
*/
```



## 91.[æ±‰æ˜è·ç¦»](https://leetcode-cn.com/problems/hamming-distance/)

**é¢˜ç›®ï¼š**

> ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„[æ±‰æ˜è·ç¦»](https://baike.baidu.com/item/æ±‰æ˜è·ç¦»)æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚
>
> ç»™å‡ºä¸¤ä¸ªæ•´æ•° `x` å’Œ `y`ï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚
>
> **æ³¨æ„ï¼š**
> 0 â‰¤ `x`, `y` < 231.
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: x = 1, y = 4
> 
> è¾“å‡º: 2
> 
> è§£é‡Š:
> 1   (0 0 0 1)
> 4   (0 1 0 0)
>        â†‘   â†‘
> 
> ä¸Šé¢çš„ç®­å¤´æŒ‡å‡ºäº†å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®ã€‚
> ```

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¼‚æˆ– + é€ä½æ±‚1çš„ä¸ªæ•°
    */
    public int hammingDistance(int x, int y) {
        int tmp  = (x ^ y);
        int count = 0;
        for (int i = 0, mult = 1; i < 32; ++i, mult = mult << 1) {
            if ((tmp & mult) != 0)
                ++count;
        }
        return count;
    }
}
```



```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¼‚æˆ– + é€ä½æ±‚1çš„ä¸ªæ•°
    */
    public int hammingDistance(int x, int y) {
        int tmp  = x ^ y;
        int count = 0;
        while (tmp != 0) {
            count += tmp & 1;
            tmp = tmp >> 1;
        }
        return count;
    }
}
```



## 92.[ç›®æ ‡å’Œ](https://leetcode-cn.com/problems/target-sum/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œa1, a2, ..., an, å’Œä¸€ä¸ªç›®æ ‡æ•°ï¼ŒSã€‚ç°åœ¨ä½ æœ‰ä¸¤ä¸ªç¬¦å· `+` å’Œ `-`ã€‚å¯¹äºæ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªæ•´æ•°ï¼Œä½ éƒ½å¯ä»¥ä» `+` æˆ– `-`ä¸­é€‰æ‹©ä¸€ä¸ªç¬¦å·æ·»åŠ åœ¨å‰é¢ã€‚
>
> è¿”å›å¯ä»¥ä½¿æœ€ç»ˆæ•°ç»„å’Œä¸ºç›®æ ‡æ•° S çš„æ‰€æœ‰æ·»åŠ ç¬¦å·çš„æ–¹æ³•æ•°ã€‚
>
>  
>
> **ç¤ºä¾‹ï¼š**
>
> ```
> è¾“å…¥ï¼šnums: [1, 1, 1, 1, 1], S: 3
> è¾“å‡ºï¼š5
> è§£é‡Šï¼š
> 
> -1+1+1+1+1 = 3
> +1-1+1+1+1 = 3
> +1+1-1+1+1 = 3
> +1+1+1-1+1 = 3
> +1+1+1+1-1 = 3
> 
> ä¸€å…±æœ‰5ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º3ã€‚
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - æ•°ç»„éç©ºï¼Œä¸”é•¿åº¦ä¸ä¼šè¶…è¿‡ 20 ã€‚
> - åˆå§‹çš„æ•°ç»„çš„å’Œä¸ä¼šè¶…è¿‡ 1000 ã€‚
> - ä¿è¯è¿”å›çš„æœ€ç»ˆç»“æœèƒ½è¢« 32 ä½æ•´æ•°å­˜ä¸‹ã€‚

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/target-sum/solution/dong-tai-gui-hua-si-kao-quan-guo-cheng-by-keepal/

https://leetcode-cn.com/problems/target-sum/solution/huan-yi-xia-jiao-du-ke-yi-zhuan-huan-wei-dian-xing/
https://leetcode-cn.com/problems/target-sum/solution/c-dfshe-01bei-bao-by-bao-bao-ke-guai-liao/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè½¬æ¢æˆèƒŒåŒ…é—®é¢˜,dp
    è®¾dp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°å­—ç»„æˆç›®æ ‡æ•°ä¸ºjçš„ä¸ªæ•°ï¼Œæ ¹æ®é¢˜æ„å¯å¾—ï¼Œnums[i]å¯ä»¥åŠ ä¹Ÿå¯ä»¥å‡
    åˆ™dp[i][j] = dp[i - 1][j - nums[i]] + dp[i][j + nums[i]]ï¼Œéœ€è¦åˆ¤æ–­å…¶è¶Šç•Œ
    å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæ¯ä¸ªæ•°å­—éƒ½èƒ½å–åˆ°æ­£å·æˆ–ç¬¦å·ï¼Œnums[i]çš„å’Œçš„èŒƒå›´æ˜¯[-sum, +sum]ï¼Œå†åŠ ä¸Šä¸€ä¸ª0
    é‚£ä¹ˆä¸Šè¿°çš„ç›®æ ‡æ•°çš„å¤§å°å°±åº”è¯¥æ˜¯2 * sum + 1ï¼Œå…¶ä¸­ [0, sum - 1]è¡¨ç¤ºè´Ÿæ•°ï¼Œsumè¡¨ç¤º0ï¼Œ[sum, 2 * sum]è¡¨ç¤ºæ­£æ•°
    åˆå§‹åŒ–ï¼š
    è‹¥nums[0]ä¸º0ï¼Œé‚£ä¹ˆæ— è®º+0è¿˜æ˜¯-0ç»“æœéƒ½æ˜¯0ï¼Œç›´æ¥ç½®dp[0][sum] = 2å³å¯
    è‹¥nums[0]ä¸ä¸º0ï¼Œç›´æ¥ç½®dp[0][sum - num[i]] = 1,dp[0][sum + nums[i]] = 1
    ç©ºé—´ä¼˜åŒ–ï¼š
    ç”±äºæ¯æ¬¡çš„ç»“æœåªä¸ä¸Šæ¬¡çš„æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥åªä½¿ç”¨2ä¸ªæ•°ç»„å³å¯
    */
    public int findTargetSumWays(int[] nums, int S) {
        if (nums.length == 0)
            return 0;
        int sum = 0;
        for (int num: nums) {
            sum += num;
        }
        //Sä¸å¯èƒ½æ¯”sumè¿˜å¤§
        if (Math.abs(S) > sum) {
            return 0;
        }
        int t = 2 * sum + 1;
        int[][] dp = new int[2][t];
        int flag = 0;
        dp[flag][sum - nums[0]] += 1;
        dp[flag][sum + nums[0]] += 1;
        flag ^= 1;
        for (int i = 1; i < nums.length; ++i) {
            for (int j = 0; j < t; ++j) {
                int l = j - nums[i] < 0 ? 0 : j - nums[i];
                int r = j + nums[i] >= t ? 0 : j + nums[i];
                dp[flag][j] = dp[flag ^ 1][l] + dp[flag ^ 1][r];
            }
            flag ^= 1;
        }
        return dp[flag ^ 1][sum + S];
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/target-sum/solution/dong-tai-gui-hua-si-kao-quan-guo-cheng-by-keepal/
*/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šè½¬æ¢ä¸º01èƒŒåŒ…

    */
    public int findTargetSumWays(int[] nums, int S) {
        int sum = 0;
        for (int num: nums) {
            sum += num;
        }
        if (((sum + S) & 1) == 1 || S > sum)
            return 0;
        int len = (sum + S) >> 1;
        int[] dp = new int[len + 1];
        dp[0] = 1;
        for (int num: nums) {
            for (int i = len; i >= num; --i) {
                dp[i] += dp[i - num];
            }
        }
        return dp[len];
    }
}
/*å‚è€ƒ
https://leetcode-cn.com/problems/target-sum/solution/huan-yi-xia-jiao-du-ke-yi-zhuan-huan-wei-dian-xing/
https://leetcode-cn.com/problems/target-sum/solution/c-dfshe-01bei-bao-by-bao-bao-ke-guai-liao/
*/
```



## 93.[æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘](https://leetcode-cn.com/problems/convert-bst-to-greater-tree/)

**é¢˜ç›®ï¼š**

> ç»™å‡ºäºŒå‰ **æœç´¢** æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ‘çš„èŠ‚ç‚¹å€¼å„ä¸ç›¸åŒï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼ˆGreater Sum Treeï¼‰ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹ `node` çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº `node.val` çš„å€¼ä¹‹å’Œã€‚
>
> æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š
>
> - èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® **å°äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
> - èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® **å¤§äº** èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
> - å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚
>
> **æ³¨æ„ï¼š**æœ¬é¢˜å’Œ 1038: https://leetcode-cn.com/problems/binary-search-tree-to-greater-sum-tree/ ç›¸åŒ
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/05/03/tree.png)
>
> ```
> è¾“å…¥ï¼š[4,1,6,0,2,5,7,null,null,null,3,null,null,null,8]
> è¾“å‡ºï¼š[30,36,21,36,35,26,15,null,null,null,33,null,null,null,8]
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼šroot = [0,null,1]
> è¾“å‡ºï¼š[1,null,1]
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼šroot = [1,0,2]
> è¾“å‡ºï¼š[3,3,2]
> ```
>
> **ç¤ºä¾‹ 4ï¼š**
>
> ```
> è¾“å…¥ï¼šroot = [3,2,4,1]
> è¾“å‡ºï¼š[7,9,4,10]
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä»‹äº `0` å’Œ `104` ä¹‹é—´ã€‚
> - æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº `-104` å’Œ `104` ä¹‹é—´ã€‚
> - æ ‘ä¸­çš„æ‰€æœ‰å€¼ **äº’ä¸ç›¸åŒ** ã€‚
> - ç»™å®šçš„æ ‘ä¸ºäºŒå‰æœç´¢æ ‘ã€‚

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/convert-bst-to-greater-tree/solution/shou-hua-tu-jie-zhong-xu-bian-li-fan-xiang-de-by-x/

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå³ä¸­å·¦çš„æ–¹å¼éå†
    æ¯ä¸ªèŠ‚ç‚¹çš„æ–°å€¼ = èŠ‚ç‚¹å€¼ + å³å­æ ‘çš„å’Œ
    */
    public TreeNode convertBST(TreeNode root) {
        rebuild(root);
        return root;
    }

    int sum = 0;
    public void rebuild(TreeNode root) {
        if (root == null) {
            return;
        }
        rebuild(root.right);
        sum += root.val;
        root.val = sum;
        rebuild(root.left);
    }
}
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå¾ªç¯åå‘ä¸­åºéå†
    */
    public TreeNode convertBST(TreeNode root) {
        int sum = 0;
        Deque<TreeNode> stack = new LinkedList<>();
        TreeNode cur = root;
        while (cur != null) {
            stack.offer(cur);
            cur = cur.right;
        }
        while (!stack.isEmpty()) {
            cur = stack.pollLast();
            sum += cur.val;
            cur.val = sum;
            cur = cur.left;
            while (cur != null) {
                stack.offer(cur);
                cur = cur.right;
            }
        }
        return root;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/convert-bst-to-greater-tree/solution/shou-hua-tu-jie-zhong-xu-bian-li-fan-xiang-de-by-x/
*/
```



## 94.[äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode-cn.com/problems/diameter-of-binary-tree/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œä½ éœ€è¦è®¡ç®—å®ƒçš„ç›´å¾„é•¿åº¦ã€‚ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç©¿è¿‡ä¹Ÿå¯èƒ½ä¸ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚
>
>  
>
> **ç¤ºä¾‹ :**
> ç»™å®šäºŒå‰æ ‘
>
> ```
>           1
>          / \
>         2   3
>        / \     
>       4   5    
> ```
>
> è¿”å› **3**, å®ƒçš„é•¿åº¦æ˜¯è·¯å¾„ [4,2,1,3] æˆ–è€… [5,2,1,3]ã€‚
>
>  
>
> **æ³¨æ„ï¼š**ä¸¤ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦æ˜¯ä»¥å®ƒä»¬ä¹‹é—´è¾¹çš„æ•°ç›®è¡¨ç¤ºã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šååºéå†
    ä¸€ä¸ªèŠ‚ç‚¹çš„é•¿åº¦ä¸º å·¦å­æ ‘é•¿åº¦ + å³å­æ ‘é•¿åº¦ + 1
    è¿”å›æ—¶åªèƒ½è¿”å›å·¦å³å­æ ‘ä¸­æ›´é•¿çš„é‚£ä¸ª
    */
    public int diameterOfBinaryTree(TreeNode root) {
        diamter(root);
        return max;
    }

    int max = 0;
    public int diamter(TreeNode root) {
        if (root == null) {
            return 0;
        }
        int left = diamter(root.left);
        int right = diamter(root.right);
        max = Math.max(left + right, max);
        return Math.max(left + 1, right + 1);
    }
}
```



## 95.[å’Œä¸ºKçš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-sum-equals-k/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° **kï¼Œ**ä½ éœ€è¦æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º **k** çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚
>
> **ç¤ºä¾‹ 1 :**
>
> ```
> è¾“å…¥:nums = [1,1,1], k = 2
> è¾“å‡º: 2 , [1,1] ä¸ [1,1] ä¸ºä¸¤ç§ä¸åŒçš„æƒ…å†µã€‚
> ```
>
> **è¯´æ˜ :**
>
> 1. æ•°ç»„çš„é•¿åº¦ä¸º [1, 20,000]ã€‚
> 2. æ•°ç»„ä¸­å…ƒç´ çš„èŒƒå›´æ˜¯ [-1000, 1000] ï¼Œä¸”æ•´æ•° **k** çš„èŒƒå›´æ˜¯ [-1e7, 1e7]ã€‚

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/subarray-sum-equals-k/solution/bao-li-jie-fa-qian-zhui-he-qian-zhui-he-you-hua-ja/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šdp
    è®¾dp[i]è¡¨ç¤ºå‰iä¸ªå…ƒç´ çš„å…ƒç´ å’Œï¼Œåˆ™dp[i] = dp[i - 1] + nums[i]
    è®¾sum(i,j)è¡¨ç¤ºå…ƒç´ iåˆ°å…ƒç´ jçš„å’Œï¼Œåˆ™sum(i,j) = dp[j] - dp[i] + nums[i]
    åªè¦éå†ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºè¿ç»­å­æ•°ç»„æœ€åèŠ‚ç‚¹çš„æ‰€æœ‰å¯èƒ½ï¼Œå¹¶å°†æ»¡è¶³è¦æ±‚çš„åŠ å…¥resä¸­å³å¯
    */
    public int subarraySum(int[] nums, int k) {
        if (nums.length == 0)
            return 0;
        int[] dp = new int[nums.length];
        dp[0] = nums[0];
        for (int i = 1; i < nums.length; ++i) {
            dp[i] = dp[i - 1] + nums[i];
        }
        int cnt = 0;
        for (int j = nums.length - 1; j >= 0; --j) {
            for (int i = j; i >= 0; --i) {
                if (dp[j] - dp[i] + nums[i] == k)
                    ++cnt;
            }
        }
        return cnt;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå‰ç¼€å’Œ
    åœ¨è®¡ç®—å®ŒåŒ…å«äº†å½“å‰æ•°çš„å‰ç¼€å’ŒpreSumä¹‹åï¼Œå°±å»æŸ¥è¯¢æœ‰å¤šå°‘å‰ç¼€å’Œæ»¡è¶³preSum - kï¼Œå› ä¸ºpreSum - (preSum - k) = kï¼Œå°†æ»¡è¶³è¦æ±‚çš„è§£çš„ä¸ªæ•°åŠ å…¥ç»“æœä¸­å³å¯ï¼Œæœ€åå†åŠ å…¥æœ¬èŠ‚ç‚¹çš„å‰ç¼€å’Œ
    åˆå§‹åŒ–ï¼šéœ€è¦æ·»åŠ ä¸€ä¸ªå‰ç¼€å’Œä¸º0ï¼Œè®¡æ•°ä¸º1çš„é”®å€¼å¯¹åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œè¡¨ç¤ºå½“å‰å…ƒç´ æœ¬èº«å°±æ»¡è¶³kçš„æƒ…å†µ
    */
    public int subarraySum(int[] nums, int k) {
        Map<Integer, Integer> map = new HashMap();
        map.put(0, 1);
        int cnt = 0;
        int preSum = 0;
        for (int num: nums) {
            preSum += num;
            cnt += map.getOrDefault(preSum - k, 0);
            map.put(preSum, map.getOrDefault(preSum, 0) + 1);
        }
        return cnt;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/subarray-sum-equals-k/solution/bao-li-jie-fa-qian-zhui-he-qian-zhui-he-you-hua-ja/
*/
```



## 96.[æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„](https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œä½ éœ€è¦å¯»æ‰¾ä¸€ä¸ª**è¿ç»­çš„å­æ•°ç»„**ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚
>
> ä½ æ‰¾åˆ°çš„å­æ•°ç»„åº”æ˜¯**æœ€çŸ­**çš„ï¼Œè¯·è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: [2, 6, 4, 8, 10, 9, 15]
> è¾“å‡º: 5
> è§£é‡Š: ä½ åªéœ€è¦å¯¹ [6, 4, 8, 10, 9] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚
> ```
>
> **è¯´æ˜ :**
>
> 1. è¾“å…¥çš„æ•°ç»„é•¿åº¦èŒƒå›´åœ¨ [1, 10,000]ã€‚
> 2. è¾“å…¥çš„æ•°ç»„å¯èƒ½åŒ…å«**é‡å¤**å…ƒç´  ï¼Œæ‰€ä»¥**å‡åº**çš„æ„æ€æ˜¯**<=ã€‚**

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/solution/si-lu-qing-xi-ming-liao-kan-bu-dong-bu-cun-zai-de-/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆ + å“¨å…µ
    1.åˆå§‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ªå•è°ƒé€’å¢æ ˆstackï¼Œç”¨æ¥ä¿å­˜ä¸éœ€è¦è°ƒæ•´çš„æ•°å­—ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—è·ç¦»ï¼Œæ‰€ä»¥åº”è¯¥å­˜å‚¨ä¸‹æ ‡ï¼Œå¹¶ä¸”åº”è¯¥å…ˆåŠ å…¥ä¸€ä¸ªå“¨å…µ-1
    2.æ­£åºéå†numsï¼Œè®¾æ¯ä¸ªæ•°å­—ä¸ºnums[i]ï¼š
        1.æ•°å­—å¯èƒ½å‡ºç°é‡å¤ï¼Œåº”è¯¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š
            1.nums[i - 1] != nums[i]ï¼š
                1.åˆ¤æ–­stacké¡¶éƒ¨å¯¹åº”å…ƒç´ xä¸å½“å‰å…ƒç´ çš„å¤§å°å…³ç³»ï¼š
                    1. x < nums[i]ï¼š
                        ç›´æ¥å°†nums[i]å…¥æ ˆå³å¯
                    2. x > nums[i]ï¼š
                        å°†stackä¸­é™¤äº†-1ä¹‹å¤–çš„ä»ç„¶å¤§äºnums[i]çš„å…ƒç´ å…¨éƒ¨å‡ºæ ˆï¼Œç”±äºnums[i]ä¹Ÿæ˜¯éœ€è¦è°ƒæ•´çš„æ•°å­—ï¼Œæ‰€ä»¥æœ¬èº«ä¸å…¥æ ˆ
            2.nums[i - 1] == nums[i]ï¼š
                1.åˆ¤æ–­å‰ä¸€ä¸ªç›¸åŒçš„æ•°å­—æ˜¯å¦æˆåŠŸå…¥æ ˆäº†ï¼Œè®¾stackçš„æ ˆé¡¶å…ƒç´ ä¸ºx
                    1. x == nums[i]ï¼š
                        ç›´æ¥å…¥æ ˆå³å¯
                    2. x != nums[i]ï¼š
                        è¯´æ˜nums[i]ä¸å‰ä¸€ä¸ªå…ƒç´ ä¸€æ ·éœ€è¦è°ƒæ•´ï¼Œä¸å…¥æ ˆ
    3.åŠ å…¥å°¾éƒ¨å“¨å…µnums.length
    4.ä¾æ¬¡å‡ºæ ˆï¼Œè‹¥å‘ç°å‰ä¸€ä¸ªå‡ºé˜Ÿå…ƒç´  - å½“å‰å…ƒç´  > 1 åˆ™ç«‹å³è¿”å›å‰ä¸€ä¸ªå…ƒç´  - å½“å‰ å…ƒç´  - 1
    5.è‹¥æ‰§è¡Œåˆ°æ­¤ä»å´è¿”å›ï¼Œåˆ™è¯´æ˜æ­¤æ•°ç»„æ˜¯å‡åºçš„ï¼Œè¿”å›0å³å¯
    */
    public int findUnsortedSubarray(int[] nums) {
        if (nums.length <= 1)
            return 0;
        Deque<Integer> stack = new LinkedList();
        int max = Integer.MIN_VALUE;
        stack.offer(-1);
        for (int i = 0; i < nums.length; ++i) {
            if (nums[i] >= max) {
                stack.offer(i);
                max = nums[i];
            } else {
                //æ¸…é™¤stackä¸­æ¯”num[i]å¤§çš„æ•°å­—
                while (stack.peekLast() != - 1 && nums[stack.peekLast()] > nums[i]) {
                    stack.pollLast();
                }
            }
        }
        stack.offer(nums.length);
        //æ‰¾åˆ°æœ€å·¦ä¾§çš„leftå’Œæœ€å³ä¾§çš„right
        int left = -2, right = -1;
        int last = stack.poll();
        while (!stack.isEmpty()) {
            if (stack.peek() - last > 1) {
                if (left == -2) {
                    left = last;
                }
                right = stack.peek();
            }
            last = stack.poll();
        }
        return left == -2 ? 0 : right - left - 1;
    }
}
```



```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆ
    æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ•°ç»„åˆ†ä¸º3æ®µï¼Œå·¦æ®µå’Œå³æ®µéƒ½æ˜¯æ ‡å‡†çš„å‡åºæ•°ç»„ï¼Œä¸­æ®µæ•°ç»„è™½ç„¶æ˜¯æ— åºçš„ï¼Œä½†æ»¡è¶³æœ€å°å€¼å¤§äºå·¦æ®µçš„æœ€å¤§å€¼ï¼Œæœ€å¤§å€¼å°äºå³æ®µçš„æœ€å°å€¼
    é‚£ä¹ˆæˆ‘ä»¬åªè¦æ‰¾åˆ°ä¸­æ®µçš„å·¦å³è¾¹ç•Œå³å¯ï¼Œæˆ‘ä»¬åˆ†åˆ«å®šä¹‰å®ƒä»¬ä¸ºbeginå’Œendï¼Œåˆ†ä¸¤å¤´å¼€å§‹æ‰¾ï¼š
    Â·ä»å·¦åˆ°å³ç»´æŠ¤ä¸€ä¸ªæœ€å¤§å€¼max,é‚£ä¹ˆåœ¨è¿›å…¥å³æ®µä¹‹å‰ï¼Œéå†åˆ°çš„nums[i]è‚¯å®šå°äºmax
    æˆ‘ä»¬åªéœ€è¦æœ€åä¸€ä¸ªnums[i] < maxçš„å…ƒç´ endå³å¯
    Â·åŒç†ï¼Œä¸å†èµ˜è¿°ï¼Œæ‰¾åˆ°startå³å¯
    æœ€åè¿”å›end - start + 1å³å¯
    */
    public int findUnsortedSubarray(int[] nums) {
        if (nums.length <= 1)
            return 0;
        int len = nums.length;
        int max = nums[0], min = nums[len - 1];
        int start = 0, end = -1;
        for (int i = 0; i < len; ++i) {
            //æ‰¾å³è¾¹ç•Œ
            if (nums[i] < max) {
                end = i;
            } else {
                max = nums[i];
            }
            //æ‰¾å·¦è¾¹ç•Œ
            if (nums[len - 1 - i] > min) {
                start = len - 1 - i;
            } else {
                min = nums[len - 1 - i];
            }
        }
        return end - start + 1;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/solution/si-lu-qing-xi-ming-liao-kan-bu-dong-bu-cun-zai-de-/
*/
```

## 97.[åˆå¹¶äºŒå‰æ ‘](https://leetcode-cn.com/problems/merge-two-binary-trees/)

**é¢˜ç›®ï¼š**

> ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œæƒ³è±¡å½“ä½ å°†å®ƒä»¬ä¸­çš„ä¸€ä¸ªè¦†ç›–åˆ°å¦ä¸€ä¸ªä¸Šæ—¶ï¼Œä¸¤ä¸ªäºŒå‰æ ‘çš„ä¸€äº›èŠ‚ç‚¹ä¾¿ä¼šé‡å ã€‚
>
> ä½ éœ€è¦å°†ä»–ä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„äºŒå‰æ ‘ã€‚åˆå¹¶çš„è§„åˆ™æ˜¯å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼Œé‚£ä¹ˆå°†ä»–ä»¬çš„å€¼ç›¸åŠ ä½œä¸ºèŠ‚ç‚¹åˆå¹¶åçš„æ–°å€¼ï¼Œå¦åˆ™**ä¸ä¸º** NULL çš„èŠ‚ç‚¹å°†ç›´æ¥ä½œä¸ºæ–°äºŒå‰æ ‘çš„èŠ‚ç‚¹ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: 
> 	Tree 1                     Tree 2                  
>           1                         2                             
>          / \                       / \                            
>         3   2                     1   3                        
>        /                           \   \                      
>       5                             4   7                  
> è¾“å‡º: 
> åˆå¹¶åçš„æ ‘:
> 	     3
> 	    / \
> 	   4   5
> 	  / \   \ 
> 	 5   4   7
> ```
>
> **æ³¨æ„:** åˆå¹¶å¿…é¡»ä»ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå‰åºéå†
    è‹¥å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›å¦ä¸€ä¸ªå³å¯
    */
    public TreeNode mergeTrees(TreeNode t1, TreeNode t2) {
        if (t1 == null) {
            return t2;
        }
        if (t2 == null) {
            return t1;
        }
        t1.val += t2.val;
        t1.left = mergeTrees(t1.left, t2.left);
        t1.right = mergeTrees(t1.right, t2.right);
        return t1;
    }
}
```



## 98.[ä»»åŠ¡è°ƒåº¦å™¨](https://leetcode-cn.com/problems/task-scheduler/)

**é¢˜ç›®ï¼š**

> ç»™ä½ ä¸€ä¸ªç”¨å­—ç¬¦æ•°ç»„ `tasks` è¡¨ç¤ºçš„ CPU éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚å…¶ä¸­æ¯ä¸ªå­—æ¯è¡¨ç¤ºä¸€ç§ä¸åŒç§ç±»çš„ä»»åŠ¡ã€‚ä»»åŠ¡å¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡éƒ½å¯ä»¥åœ¨ 1 ä¸ªå•ä½æ—¶é—´å†…æ‰§è¡Œå®Œã€‚åœ¨ä»»ä½•ä¸€ä¸ªå•ä½æ—¶é—´ï¼ŒCPU å¯ä»¥å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…å¤„äºå¾…å‘½çŠ¶æ€ã€‚
>
> ç„¶è€Œï¼Œä¸¤ä¸ª **ç›¸åŒç§ç±»** çš„ä»»åŠ¡ä¹‹é—´å¿…é¡»æœ‰é•¿åº¦ä¸ºæ•´æ•° `n` çš„å†·å´æ—¶é—´ï¼Œå› æ­¤è‡³å°‘æœ‰è¿ç»­ `n` ä¸ªå•ä½æ—¶é—´å†… CPU åœ¨æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚
>
> ä½ éœ€è¦è®¡ç®—å®Œæˆæ‰€æœ‰ä»»åŠ¡æ‰€éœ€è¦çš„ **æœ€çŸ­æ—¶é—´** ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 2
> è¾“å‡ºï¼š8
> è§£é‡Šï¼šA -> B -> (å¾…å‘½) -> A -> B -> (å¾…å‘½) -> A -> B
>      åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªç›¸åŒç±»å‹ä»»åŠ¡ä¹‹é—´å¿…é¡»é—´éš”é•¿åº¦ä¸º n = 2 çš„å†·å´æ—¶é—´ï¼Œè€Œæ‰§è¡Œä¸€ä¸ªä»»åŠ¡åªéœ€è¦ä¸€ä¸ªå•ä½æ—¶é—´ï¼Œæ‰€ä»¥ä¸­é—´å‡ºç°äº†ï¼ˆå¾…å‘½ï¼‰çŠ¶æ€ã€‚ 
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 0
> è¾“å‡ºï¼š6
> è§£é‡Šï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»ä½•å¤§å°ä¸º 6 çš„æ’åˆ—éƒ½å¯ä»¥æ»¡è¶³è¦æ±‚ï¼Œå› ä¸º n = 0
> ["A","A","A","B","B","B"]
> ["A","B","A","B","A","B"]
> ["B","B","B","A","A","A"]
> ...
> è¯¸å¦‚æ­¤ç±»
> ```
>
> **ç¤ºä¾‹ 3ï¼š**
>
> ```
> è¾“å…¥ï¼štasks = ["A","A","A","A","A","A","B","C","D","E","F","G"], n = 2
> è¾“å‡ºï¼š16
> è§£é‡Šï¼šä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š
>      A -> B -> C -> A -> D -> E -> A -> F -> G -> A -> (å¾…å‘½) -> (å¾…å‘½) -> A -> (å¾…å‘½) -> (å¾…å‘½) -> A
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - `1 <= task.length <= 104`
> - `tasks[i]` æ˜¯å¤§å†™è‹±æ–‡å­—æ¯
> - `n` çš„å–å€¼èŒƒå›´ä¸º `[0, 100]`

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/task-scheduler/solution/ren-wu-diao-du-qi-by-leetcode-solution-ur9w/

https://leetcode-cn.com/problems/task-scheduler/solution/jian-ming-yi-dong-de-javajie-da-by-lan-s-jfl9/
https://leetcode-cn.com/problems/task-scheduler/solution/tong-zi-by-popopop/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šæ¨¡æ‹Ÿ
    æŒ‰æ—¶é—´é¡ºåºï¼Œä¾æ¬¡ç»™æ¯ä¸ªæ—¶é—´å•ä½åˆ†é…ä»»åŠ¡ã€‚
    å…³é”®ç‚¹ï¼šå¦‚æœå½“å‰æœ‰å¤šç§ä»»åŠ¡ä¸åœ¨å†·å´ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©å‰©ä½™æ‰§è¡Œæ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œå°†æ¯ç§ä»»åŠ¡çš„å‰©ä½™æ‰§è¡Œæ¬¡æ•°å°½å¯èƒ½å¹³å‡ï¼Œä½¿å¾—CPUçš„å¤„äºå¾…å‘½çŠ¶æ€çš„æ—¶é—´å°½å¯èƒ½çš„å°‘ã€‚
    å…·ä½“æ“ä½œï¼šå¯ä»¥ä½¿ç”¨äºŒå…ƒç»„(nextValid_i, rest_i)è¡¨ç¤ºç¬¬iä¸ªä»»åŠ¡ï¼Œå…¶ä¸­nextValid_iè¡¨ç¤ºå…¶å› å†·å´é™åˆ¶ï¼Œæœ€æ—©å¯ä»¥æ‰§è¡Œçš„æ—¶é—´ï¼›rest_iè¡¨ç¤ºå…¶å‰©ä½™çš„æ‰§è¡Œæ¬¡æ•°ã€‚åˆå§‹æ—¶ï¼Œæ‰€æœ‰çš„
    nextValid_iéƒ½ä¸º1ï¼Œè€Œrest_iå³ä¸ºä»»åŠ¡iåœ¨tasksä¸­çš„å‡ºç°æ¬¡æ•°ã€‚
    ç”¨timeè®°å½•å½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©çš„æ˜¯ä¸åœ¨å†·å´ä¸­ä¸”å‰©ä½™æ‰§è¡Œæ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¦æ‰¾åˆ°nextValid_i <= timeå¹¶ä¸”rest_iæœ€å¤§çš„ç´¢å¼•ã€‚é‚£ä¹ˆæˆ‘ä»¬éœ€è¦éå†äºŒå…ƒç´ æ¥æŸ¥æ‰¾ã€‚
    åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†(nextValid_i, rest_i)æ›´æ–°ä¸º(nextValid_i + (n + 1), rest_i - 1)ï¼Œå¦‚æœæ›´æ–°åçš„rest_iä¸º0è¡¨ç¤ºä»»åŠ¡iå…¨éƒ¨åšå®Œï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨éå†äºŒå…ƒç»„æ—¶å¯ä»¥å¿½ç•¥å®ƒäº†
    å¦‚ä½•å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼š
    å¯¹äºtimeçš„æ›´æ–°ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸æ–­å¢åŠ +1æ¥æ¨¡æ‹Ÿæ¯ä¸ªæ—¶é—´ç‰‡ï¼Œä½†è¿™ä¼šå¯¼è‡´CPUå¤„äºå¾…å‘½çŠ¶æ€ï¼Œå¯¹äºŒå…ƒæ•°ç»„è¿›è¡Œä¸å¿…è¦çš„éå†ã€‚ä¸ºäº†å‡å°‘æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸€æ¬¡éå†ä¹‹å‰ï¼Œå°†timeæ›´æ–°
    ä¸ºæ‰€æœ‰nextValid_iä¸­çš„æœ€å°å€¼ï¼Œç›´æ¥è·³è¿‡å¾…å‘½çŠ¶æ€ï¼Œä¿è¯æ¯ä¸€æ¬¡å¯¹äºŒå…ƒç´ çš„éå†éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“è¿™ä¸ªæœ€å°å€¼å¤§äºtimeæ—¶ï¼Œæ‰éœ€è¦è¿™æ ·æ›´æ–°ã€‚
    */
    public int leastInterval(char[] tasks, int n) {
        Map<Character, Integer> map = new HashMap();
        for (char ch: tasks) {
            map.put(ch, map.getOrDefault(ch, 0) + 1);
        }
        int len = map.size();
        List<Integer> nextValid = new ArrayList();
        List<Integer> rest = new ArrayList();
        for (Map.Entry<Character, Integer> entry: map.entrySet()) {
            nextValid.add(1);
            rest.add(entry.getValue());
        }
        int time = 0;
        for (int i = 0; i < tasks.length; ++i) {
            ++time;
            //è·³è¿‡å¾…å‘½
            int minTime = Integer.MAX_VALUE;
            for (int j = 0; j < len; ++j) {
                if (rest.get(j) != 0) {
                    minTime = Math.min(minTime, nextValid.get(j));
                }
            }
            time = Math.max(time, minTime);
            //æ‰¾åˆ°å‰©ä½™æ¬¡æ•°æœ€å¤šçš„
            int best = -1;
            for (int j = 0; j < len; ++j) {
                if (rest.get(j) != 0 && nextValid.get(j) <= time) {
                    if (best == -1 || rest.get(j) > rest.get(best)) {
                        best = j;
                    }
                }
            }
            nextValid.set(best, time + n + 1);
            rest.set(best, rest.get(best) - 1);
        }
        return time;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/task-scheduler/solution/ren-wu-diao-du-qi-by-leetcode-solution-ur9w/
*/
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŸºäºè´ªå¿ƒçš„æ¡¶å­ç®—æ³•
    å®¹æ˜“æƒ³åˆ°çš„ä¸€ç§è´ªå¿ƒç­–ç•¥ä¸ºï¼šå…ˆå®‰æ’å‡ºç°æ¬¡æ•°æœ€å¤šçš„ä»»åŠ¡ï¼Œè®©è¿™ä¸ªä»»åŠ¡ä¸¤æ¬¡æ‰§è¡Œçš„æ—¶é—´é—´éš”æ­£å¥½ä¸ºnã€‚å†åœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…å¡«å……å…¶ä»–çš„ä»»åŠ¡ã€‚

ä¾‹å¦‚ï¼štasks = ["A","A","A","B","B","B"], n = 2

æˆ‘ä»¬å…ˆå®‰æ’å‡ºç°æ¬¡æ•°æœ€å¤šçš„ä»»åŠ¡"A",å¹¶ä¸”è®©ä¸¤æ¬¡æ‰§è¡Œ"A"çš„æ—¶é—´é—´éš”ä¸º2ã€‚åœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…ï¼Œæˆ‘ä»¬ç”¨å…¶ä»–ä»»åŠ¡ç±»å‹å»å¡«å……ï¼Œåˆå› ä¸ºå…¶ä»–ä»»åŠ¡ç±»å‹åªæœ‰"B"ä¸€ä¸ªï¼Œä¸å¤Ÿå¡«å……2çš„æ—¶é—´é—´éš”ï¼Œå› æ­¤é¢å¤–éœ€è¦ä¸€ä¸ªå†·å´æ—¶é—´é—´éš”
å…¶ä¸­ï¼ŒmaxTimesä¸ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªä»»åŠ¡å‡ºç°çš„æ¬¡æ•°ã€‚maxCountä¸ºä¸€å…±æœ‰å¤šå°‘ä¸ªä»»åŠ¡å’Œå‡ºç°æœ€å¤šçš„é‚£ä¸ªä»»åŠ¡å‡ºç°æ¬¡æ•°ä¸€æ ·ã€‚

å›¾ä¸­ä¸€å…±å ç”¨çš„æ–¹æ ¼å³ä¸ºå®Œæˆæ‰€æœ‰ä»»åŠ¡éœ€è¦çš„æ—¶é—´ï¼Œå³ï¼š

(maxTimes - 1)*(n + 1) + maxCount
(maxTimesâˆ’1)âˆ—(n+1)+maxCount

æ­¤å¤–ï¼Œå¦‚æœä»»åŠ¡ç§ç±»å¾ˆå¤šï¼Œåœ¨å®‰æ’æ—¶æ— éœ€å†·å´æ—¶é—´ï¼Œåªéœ€è¦åœ¨ä¸€ä¸ªä»»åŠ¡çš„ä¸¤æ¬¡å‡ºç°é—´å¡«å……å…¶ä»–ä»»åŠ¡ï¼Œç„¶åä»å·¦åˆ°å³ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œå³å¯ï¼Œç”±äºæ¯ä¸€ä¸ªä»»åŠ¡å ç”¨ä¸€ä¸ªæ—¶é—´å•ä½ï¼Œæˆ‘ä»¬åˆæ­£æ­£å¥½å¥½åœ°ä½¿ç”¨äº†tasksä¸­çš„æ‰€æœ‰ä»»åŠ¡ï¼Œè€Œä¸”æˆ‘ä»¬åªä½¿ç”¨tasksä¸­çš„ä»»åŠ¡æ¥å ç”¨æ–¹æ ¼ï¼ˆæ²¡ç”¨å†·å´æ—¶é—´ï¼‰ã€‚å› æ­¤è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰€éœ€è¦çš„æ—¶é—´å³ä¸ºtasksçš„é•¿åº¦ã€‚

ç”±äºè¿™ç§æƒ…å†µæ—¶å†ç”¨ä¸Šè¿°å…¬å¼è®¡ç®—ä¼šå¾—åˆ°ä¸€ä¸ªä¸æ­£ç¡®ä¸”åå°çš„ç»“æœï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€æŠŠå…¬å¼è®¡ç®—çš„ç»“æœå’Œtasksçš„é•¿åº¦å–æœ€å¤§å³ä¸ºæœ€ç»ˆç»“æœã€‚
    */
    public int leastInterval(char[] tasks, int n) {
        int len = tasks.length;
        int[] buckets = new int[26];
        for (char ch: tasks) {
            ++buckets[ch - 'A'];
        }
        Arrays.sort(buckets);
        int lastCount = 1;
        int maxCount = buckets[buckets.length - 1];
        for (int i = buckets.length - 1; i >= 1; --i) {
            if (buckets[i - 1] == buckets[i])
                ++lastCount;
            else
                break;
        }
        int res = (maxCount - 1) * (n + 1) + lastCount;
        return Math.max(res, len);
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/task-scheduler/solution/jian-ming-yi-dong-de-javajie-da-by-lan-s-jfl9/
https://leetcode-cn.com/problems/task-scheduler/solution/tong-zi-by-popopop/
*/
```



## 99.[å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/palindromic-substrings/)

**é¢˜ç›®ï¼š**

> 
> ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­ä¸²ã€‚
>
> å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚
>
>  
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥ï¼š"abc"
> è¾“å‡ºï¼š3
> è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: "a", "b", "c"
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥ï¼š"aaa"
> è¾“å‡ºï¼š6
> è§£é‡Šï¼š6ä¸ªå›æ–‡å­ä¸²: "a", "a", "a", "aa", "aa", "aaa"
> ```
>
>  
>
> **æç¤ºï¼š**
>
> - è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡ 1000 ã€‚

**æ€è·¯ï¼š**

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
    https://leetcode-cn.com/problems/longest-palindromic-substring/
    */
    public int countSubstrings(String s) {
        if (s.length() == 0)
            return 0;
        int left = 0, right = 0;
        int len = s.length();
        int cnt = 0;
        boolean[][] dp = new boolean[len][len];
        for (int i = len - 1; i >=0; --i) {
            for (int j = i; j < len; ++j) {
                if (i == j) {
                    dp[i][j] = true;
                    ++cnt;
                } else if (s.charAt(i) == s.charAt(j) && (i + 1 > j - 1 || dp[i + 1][j - 1])) {
                    dp[i][j] = true;
                    ++cnt;
                }
            }
        }
        return cnt;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä¸­å¿ƒæ‰©å±•æ³•
    å›æ–‡ä¸²ä¸€å®šæ˜¯å¯¹ç§°çš„ï¼Œæ¯æ¬¡å¾ªç¯é€‰æ‹©ä¸€ä¸ªä¸­å¿ƒï¼Œæ¥è¿›è¡Œå·¦å³æ‰©å±•ï¼Œåˆ¤æ–­å·¦å³å­—ç¬¦æ˜¯å¦ç›¸ç­‰
    */
    public int countSubstrings(String s) {
        if (s.length() == 0)
            return 0;
        int cnt = 0;
        for (int i = 0; i < s.length(); ++i) {
            cnt += count(s, i, i);
            cnt += count(s, i, i + 1);
        }
        return cnt;
    }

    public int count(String s, int left, int right) {
        int l = left, r = right, cnt = 0;
        while (l >= 0 && r < s.length() && s.charAt(l) == s.charAt(r)) {
            --l;
            ++r;
            ++cnt;
        }
        return cnt;
    }
}
```

## 100.[æ¯æ—¥æ¸©åº¦](https://leetcode-cn.com/problems/daily-temperatures/)

**é¢˜ç›®ï¼š**

> è¯·æ ¹æ®æ¯æ—¥ `æ°”æ¸©` åˆ—è¡¨ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹åº”ä½ç½®çš„è¾“å‡ºä¸ºï¼šè¦æƒ³è§‚æµ‹åˆ°æ›´é«˜çš„æ°”æ¸©ï¼Œè‡³å°‘éœ€è¦ç­‰å¾…çš„å¤©æ•°ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ `0` æ¥ä»£æ›¿ã€‚
>
> ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨ `temperatures = [73, 74, 75, 71, 69, 72, 76, 73]`ï¼Œä½ çš„è¾“å‡ºåº”è¯¥æ˜¯ `[1, 1, 4, 2, 1, 1, 0, 0]`ã€‚
>
> **æç¤ºï¼š**`æ°”æ¸©` åˆ—è¡¨é•¿åº¦çš„èŒƒå›´æ˜¯ `[1, 30000]`ã€‚æ¯ä¸ªæ°”æ¸©çš„å€¼çš„å‡ä¸ºåæ°åº¦ï¼Œéƒ½æ˜¯åœ¨ `[30, 100]` èŒƒå›´å†…çš„æ•´æ•°ã€‚

**æ€è·¯ï¼š**

https://leetcode-cn.com/problems/daily-temperatures/solution/java-by-sdwwld/

**ä»£ç ï¼š**

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆ
    ç»´æŠ¤ä¸¤ä¸ªå•è°ƒæ ˆdesireä¸who,ç”¨æ¥æè¿°ç¬¬iä¸ªå…ƒç´ çš„éœ€æ±‚ï¼š
    å°†T[i]å…¥æ ˆæ—¶ï¼Œéœ€è¦å°†desireæ ˆä¸­å°äºå®ƒçš„å…ƒç´ å…¨éƒ¨å‡ºæ ˆï¼Œå› ä¸ºå®ƒä»¬è¡¨ç¤ºä¹‹å‰èŠ‚ç‚¹çš„å‡æ¸©éœ€æ±‚ï¼Œ
    è®¾æ ˆé¡¶å…ƒç´ ä¸ºxï¼ŒT[i] > x è¡¨ç¤ºå½“å‰æ¸©åº¦å¤§äºé‚£ä¸ªèŠ‚ç‚¹çš„æ¸©åº¦ï¼Œä¹Ÿå°±æ»¡è¶³äº†å‡æ¸©ï¼Œæ‰€ä»¥åŒæ—¶
    å°†whoä¸­å­˜å‚¨ç€çš„å…ƒç´ ä¸‹æ ‡jå‡ºæ ˆï¼Œå°†å½“å‰ä¸‹æ ‡å­˜åˆ°éœ€æ±‚ä¸‹æ ‡çš„è·ç¦»distanceå…¥res[j]å³å¯

    ç©ºé—´ä¼˜åŒ–ï¼š
    åªç”¨ä¸€ä¸ªæ ˆå­˜å‚¨éœ€æ±‚å…ƒç´ çš„ä¸‹æ ‡å³å¯ï¼Œå› ä¸ºä»»ç„¶å¯ä»¥åœ¨O(1)æ—¶é—´å†…ä½¿ç”¨T[i]æŸ¥è¯¢å…¶æ¸©åº¦
    */
    public int[] dailyTemperatures(int[] T) {
        Deque<Integer> desires = new LinkedList();
        int len = T.length;
        int[] res = new int[len];
        for (int i = 0; i < len; ++i) {
            while (!desires.isEmpty() && T[i] > T[desires.peekLast()]) {
                int desire = desires.pollLast();
                res[desire] = i - desire;
            }
            desires.offer(i);
        }
        return res;
    }
}
```

```java
class Solution {
    /*
    è§£é¢˜æ€è·¯ï¼šä»åå¾€å‰æ‰¾ + å‰ªæ”¯
    */
    public int[] dailyTemperatures(int[] T) {
        int[] res = new int[T.length];
        for (int i = T.length - 2; i >= 0; --i) {
            int j = i + 1;
            while (j < T.length) {
                if (T[j] > T[i]) {
                    res[i] = j - i;
                    break;
                } else if (res[j] == 0) {
                    //å‰ªæ”¯ï¼Œè‹¥res[j]ä¸º0è¡¨ç¤ºåé¢çš„å…ƒç´ éƒ½æ¯”å®ƒå°ï¼Œè€ŒT[j] <= T[i]åˆ™ä¹‹åä¸å¯èƒ½æœ‰æ›´é«˜çš„æ¸©åº¦äº†
                    res[i] = 0;
                    break;
                } else {
                    //ç›´æ¥è·³åˆ°å¤§äºjä½ç½®å…ƒç´ çš„ä½ç½®
                    j += res[j];
                }
            }
        }
        return res;
    }
}
/*å‚è€ƒï¼š
https://leetcode-cn.com/problems/daily-temperatures/solution/java-by-sdwwld/
*/
```



